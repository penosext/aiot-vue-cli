
console.log('START WEEX VUE RENDER: 1.0.39, Build 2021-07-19 12:19.');


(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.WeexVueRender = factory());
}(this, function () { 'use strict';

  function __$styleInject(css, ref) {
    if ( ref === void 0 ) ref = {};
    var insertAt = ref.insertAt;

    if (!css || typeof document === 'undefined') { return; }

    var head = document.head || document.getElementsByTagName('head')[0];
    var style = document.createElement('style');
    style.type = 'text/css';

    if (insertAt === 'top') {
      if (head.firstChild) {
        head.insertBefore(style, head.firstChild);
      } else {
        head.appendChild(style);
      }
    } else {
      head.appendChild(style);
    }

    if (style.styleSheet) {
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
  }

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.weex-root,\n.weex-root * {\n  color: initial;\n  cursor: initial;\n  direction: inherit;\n  /* In chrome, there's a chance that user set the miximum font-size to \n  a abnormal smaller size. But actually the smaller size is never working\n  if this font / font-size default value is set to initial. Perhaps a bug\n  for chrome. */\n  font: initial;\n  font-size: initial;\n  font-family: initial;\n  font-style: initial;\n  font-variant: initial;\n  font-weight: initial;\n  line-height: initial;\n  text-align: initial;\n  text-indent: initial;\n  visibility: initial;\n  white-space: initial;\n  word-spacing: initial;\n  font-family: BlinkMacSystemFont, 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n\n.weex-root,\n.weex-root *,\n.weex-root *::before,\n.weex-root *::after {\n  box-sizing: border-box;\n  -webkit-text-size-adjust: none;\n     -moz-text-size-adjust: none;\n          text-size-adjust: none;\n}\n\n.weex-root a,\n.weex-root button,\n.weex-root [role=\"button\"],\n.weex-root input,\n.weex-root label,\n.weex-root select,\n.weex-root textarea {\n      touch-action: manipulation;\n}\n\n.weex-root p,\n.weex-root ol,\n.weex-root ul,\n.weex-root dl,\n.weex-root figure {\n  margin: 0;\n  padding: 0;\n}\n\n.weex-root li {\n  list-style: none;\n}\n\n.weex-root figure {\n  margin: 0;\n}\n\n.weex-root textarea {\n  resize: none;\n}\n\n/* show no scroll bar. */\n::-webkit-scrollbar {\n  display: none;\n}\n", {});

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n \n.weex-root * {\n  border-width: 0;\n  border-color: inherit;\n  border-style: solid;\n}\n\ndiv.weex-root {\n  min-height: 100%;\n}\n\n/**\n * slider will overflow in horizontal axis, which will cause container\n * horizontally expanding. below styles will prevent this from happening.\n */\n.weex-root {\n  width: 100%;\n  overflow-x: hidden;\n}\n\n.weex-root figure {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n}\n\n.weex-flex-ct {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.weex-ct {\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  position: relative;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  -webkit-flex-shrink: 0;\n          flex-shrink: 0;\n  -webkit-box-flex: 0;\n  -webkit-flex-grow: 0;\n          flex-grow: 0;\n  -webkit-flex-basis: auto;\n          flex-basis: auto;\n  -webkit-box-align: stretch;\n  -webkit-align-items: stretch;\n          align-items: stretch;\n  -webkit-align-content: flex-start;\n          align-content: flex-start;\n  border: 0 solid black;\n  margin: 0;\n  padding: 0;\n  min-width: 0;\n}\n\n.weex-ct.horizontal {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n}\n\n.weex-el {\n  display: block;\n  box-sizing: border-box;\n  position: relative;\n  -webkit-flex-shrink: 0;\n          flex-shrink: 0;\n  -webkit-box-flex: 0;\n  -webkit-flex-grow: 0;\n          flex-grow: 0;\n  -webkit-flex-basis: auto;\n          flex-basis: auto;\n  border: 0 solid black;\n  margin: 0;\n  padding: 0;\n  min-width: 0;\n}\n\n.weex-text {\n  display: -webkit-box;\n  display: -moz-box;\n  -webkit-box-orient: vertical;\n  position: relative;\n  white-space: pre-wrap;  /* not using 'pre': support auto line feed. */\n  font-size: 0.4266666666666667rem;\n  word-wrap: break-word;\n  overflow: hidden; /* it'll be clipped if the height is not high enough. */\n}\n\n.weex-image {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: 100% 100%;\n}\n\n.weex-a {\n  text-decoration: none;\n}\n\n.weex-ios-sticky {\n  position: -webkit-sticky !important;\n  position: sticky !important;\n  z-index: 9999;\n  top: 0;\n}\n\n.weex-fixed {\n  position: fixed;\n  z-index: 1;\n}\n\n.weex-sticky {\n  position: fixed;\n  top: 0;\n  z-index: 9999;\n}\n", {});

  // 7.1.4 ToInteger
  var ceil = Math.ceil;
  var floor = Math.floor;
  var _toInteger = function (it) {
    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
  };

  var _toInteger$1 = /*#__PURE__*/Object.freeze({
    default: _toInteger,
    __moduleExports: _toInteger
  });

  // 7.2.1 RequireObjectCoercible(argument)
  var _defined = function (it) {
    if (it == undefined) { throw TypeError("Can't call method on  " + it); }
    return it;
  };

  var _defined$1 = /*#__PURE__*/Object.freeze({
    default: _defined,
    __moduleExports: _defined
  });

  var toInteger = ( _toInteger$1 && _toInteger ) || _toInteger$1;

  var defined = ( _defined$1 && _defined ) || _defined$1;

  // true  -> String#at
  // false -> String#codePointAt
  var _stringAt = function (TO_STRING) {
    return function (that, pos) {
      var s = String(defined(that));
      var i = toInteger(pos);
      var l = s.length;
      var a, b;
      if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }
      a = s.charCodeAt(i);
      return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
    };
  };

  var _stringAt$1 = /*#__PURE__*/Object.freeze({
    default: _stringAt,
    __moduleExports: _stringAt
  });

  var _library = false;

  var _library$1 = /*#__PURE__*/Object.freeze({
    default: _library,
    __moduleExports: _library
  });

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var _global = createCommonjsModule(function (module) {
  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global = module.exports = typeof window != 'undefined' && window.Math == Math
    ? window : typeof self != 'undefined' && self.Math == Math ? self
    // eslint-disable-next-line no-new-func
    : Function('return this')();
  if (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef
  });

  var _global$1 = /*#__PURE__*/Object.freeze({
    default: _global,
    __moduleExports: _global
  });

  var _core = createCommonjsModule(function (module) {
  var core = module.exports = { version: '2.6.12' };
  if (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef
  });
  var _core_1 = _core.version;

  var _core$1 = /*#__PURE__*/Object.freeze({
    default: _core,
    __moduleExports: _core,
    version: _core_1
  });

  var _isObject = function (it) {
    return typeof it === 'object' ? it !== null : typeof it === 'function';
  };

  var _isObject$1 = /*#__PURE__*/Object.freeze({
    default: _isObject,
    __moduleExports: _isObject
  });

  var isObject = ( _isObject$1 && _isObject ) || _isObject$1;

  var _anObject = function (it) {
    if (!isObject(it)) { throw TypeError(it + ' is not an object!'); }
    return it;
  };

  var _anObject$1 = /*#__PURE__*/Object.freeze({
    default: _anObject,
    __moduleExports: _anObject
  });

  var _fails = function (exec) {
    try {
      return !!exec();
    } catch (e) {
      return true;
    }
  };

  var _fails$1 = /*#__PURE__*/Object.freeze({
    default: _fails,
    __moduleExports: _fails
  });

  var require$$1 = ( _fails$1 && _fails ) || _fails$1;

  // Thank's IE8 for his funny defineProperty
  var _descriptors = !require$$1(function () {
    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
  });

  var _descriptors$1 = /*#__PURE__*/Object.freeze({
    default: _descriptors,
    __moduleExports: _descriptors
  });

  var require$$0 = ( _global$1 && _global ) || _global$1;

  var document$1 = require$$0.document;
  // typeof document.createElement is 'object' in old IE
  var is = isObject(document$1) && isObject(document$1.createElement);
  var _domCreate = function (it) {
    return is ? document$1.createElement(it) : {};
  };

  var _domCreate$1 = /*#__PURE__*/Object.freeze({
    default: _domCreate,
    __moduleExports: _domCreate
  });

  var require$$0$1 = ( _descriptors$1 && _descriptors ) || _descriptors$1;

  var require$$2 = ( _domCreate$1 && _domCreate ) || _domCreate$1;

  var _ie8DomDefine = !require$$0$1 && !require$$1(function () {
    return Object.defineProperty(require$$2('div'), 'a', { get: function () { return 7; } }).a != 7;
  });

  var _ie8DomDefine$1 = /*#__PURE__*/Object.freeze({
    default: _ie8DomDefine,
    __moduleExports: _ie8DomDefine
  });

  // 7.1.1 ToPrimitive(input [, PreferredType])

  // instead of the ES6 spec version, we didn't implement @@toPrimitive case
  // and the second argument - flag - preferred type is a string
  var _toPrimitive = function (it, S) {
    if (!isObject(it)) { return it; }
    var fn, val;
    if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) { return val; }
    if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) { return val; }
    if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) { return val; }
    throw TypeError("Can't convert object to primitive value");
  };

  var _toPrimitive$1 = /*#__PURE__*/Object.freeze({
    default: _toPrimitive,
    __moduleExports: _toPrimitive
  });

  var anObject = ( _anObject$1 && _anObject ) || _anObject$1;

  var IE8_DOM_DEFINE = ( _ie8DomDefine$1 && _ie8DomDefine ) || _ie8DomDefine$1;

  var toPrimitive = ( _toPrimitive$1 && _toPrimitive ) || _toPrimitive$1;

  var dP = Object.defineProperty;

  var f = require$$0$1 ? Object.defineProperty : function defineProperty(O, P, Attributes) {
    anObject(O);
    P = toPrimitive(P, true);
    anObject(Attributes);
    if (IE8_DOM_DEFINE) { try {
      return dP(O, P, Attributes);
    } catch (e) { /* empty */ } }
    if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }
    if ('value' in Attributes) { O[P] = Attributes.value; }
    return O;
  };

  var _objectDp = {
  	f: f
  };

  var _objectDp$1 = /*#__PURE__*/Object.freeze({
    default: _objectDp,
    __moduleExports: _objectDp,
    f: f
  });

  var _propertyDesc = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var _propertyDesc$1 = /*#__PURE__*/Object.freeze({
    default: _propertyDesc,
    __moduleExports: _propertyDesc
  });

  var dP$1 = ( _objectDp$1 && _objectDp ) || _objectDp$1;

  var createDesc = ( _propertyDesc$1 && _propertyDesc ) || _propertyDesc$1;

  var _hide = require$$0$1 ? function (object, key, value) {
    return dP$1.f(object, key, createDesc(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var _hide$1 = /*#__PURE__*/Object.freeze({
    default: _hide,
    __moduleExports: _hide
  });

  var hasOwnProperty = {}.hasOwnProperty;
  var _has = function (it, key) {
    return hasOwnProperty.call(it, key);
  };

  var _has$1 = /*#__PURE__*/Object.freeze({
    default: _has,
    __moduleExports: _has
  });

  var id = 0;
  var px = Math.random();
  var _uid = function (key) {
    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
  };

  var _uid$1 = /*#__PURE__*/Object.freeze({
    default: _uid,
    __moduleExports: _uid
  });

  var require$$1$1 = ( _core$1 && _core ) || _core$1;

  var require$$0$2 = ( _library$1 && _library ) || _library$1;

  var _shared = createCommonjsModule(function (module) {
  var SHARED = '__core-js_shared__';
  var store = require$$0[SHARED] || (require$$0[SHARED] = {});

  (module.exports = function (key, value) {
    return store[key] || (store[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: require$$1$1.version,
    mode: require$$0$2 ? 'pure' : 'global',
    copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)'
  });
  });

  var _shared$1 = /*#__PURE__*/Object.freeze({
    default: _shared,
    __moduleExports: _shared
  });

  var require$$0$3 = ( _shared$1 && _shared ) || _shared$1;

  var _functionToString = require$$0$3('native-function-to-string', Function.toString);

  var _functionToString$1 = /*#__PURE__*/Object.freeze({
    default: _functionToString,
    __moduleExports: _functionToString
  });

  var require$$1$2 = ( _hide$1 && _hide ) || _hide$1;

  var has = ( _has$1 && _has ) || _has$1;

  var uid = ( _uid$1 && _uid ) || _uid$1;

  var $toString = ( _functionToString$1 && _functionToString ) || _functionToString$1;

  var _redefine = createCommonjsModule(function (module) {
  var SRC = uid('src');

  var TO_STRING = 'toString';
  var TPL = ('' + $toString).split(TO_STRING);

  require$$1$1.inspectSource = function (it) {
    return $toString.call(it);
  };

  (module.exports = function (O, key, val, safe) {
    var isFunction = typeof val == 'function';
    if (isFunction) { has(val, 'name') || require$$1$2(val, 'name', key); }
    if (O[key] === val) { return; }
    if (isFunction) { has(val, SRC) || require$$1$2(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }
    if (O === require$$0) {
      O[key] = val;
    } else if (!safe) {
      delete O[key];
      require$$1$2(O, key, val);
    } else if (O[key]) {
      O[key] = val;
    } else {
      require$$1$2(O, key, val);
    }
  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
  })(Function.prototype, TO_STRING, function toString() {
    return typeof this == 'function' && this[SRC] || $toString.call(this);
  });
  });

  var _redefine$1 = /*#__PURE__*/Object.freeze({
    default: _redefine,
    __moduleExports: _redefine
  });

  var _aFunction = function (it) {
    if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }
    return it;
  };

  var _aFunction$1 = /*#__PURE__*/Object.freeze({
    default: _aFunction,
    __moduleExports: _aFunction
  });

  var aFunction = ( _aFunction$1 && _aFunction ) || _aFunction$1;

  // optional / simple context binding

  var _ctx = function (fn, that, length) {
    aFunction(fn);
    if (that === undefined) { return fn; }
    switch (length) {
      case 1: return function (a) {
        return fn.call(that, a);
      };
      case 2: return function (a, b) {
        return fn.call(that, a, b);
      };
      case 3: return function (a, b, c) {
        return fn.call(that, a, b, c);
      };
    }
    return function (/* ...args */) {
      return fn.apply(that, arguments);
    };
  };

  var _ctx$1 = /*#__PURE__*/Object.freeze({
    default: _ctx,
    __moduleExports: _ctx
  });

  var redefine = ( _redefine$1 && _redefine ) || _redefine$1;

  var require$$0$4 = ( _ctx$1 && _ctx ) || _ctx$1;

  var PROTOTYPE = 'prototype';

  var $export = function (type, name, source) {
    var IS_FORCED = type & $export.F;
    var IS_GLOBAL = type & $export.G;
    var IS_STATIC = type & $export.S;
    var IS_PROTO = type & $export.P;
    var IS_BIND = type & $export.B;
    var target = IS_GLOBAL ? require$$0 : IS_STATIC ? require$$0[name] || (require$$0[name] = {}) : (require$$0[name] || {})[PROTOTYPE];
    var exports = IS_GLOBAL ? require$$1$1 : require$$1$1[name] || (require$$1$1[name] = {});
    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
    var key, own, out, exp;
    if (IS_GLOBAL) { source = name; }
    for (key in source) {
      // contains in native
      own = !IS_FORCED && target && target[key] !== undefined;
      // export native or passed
      out = (own ? target : source)[key];
      // bind timers to global for call from export context
      exp = IS_BIND && own ? require$$0$4(out, require$$0) : IS_PROTO && typeof out == 'function' ? require$$0$4(Function.call, out) : out;
      // extend global
      if (target) { redefine(target, key, out, type & $export.U); }
      // export
      if (exports[key] != out) { require$$1$2(exports, key, exp); }
      if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }
    }
  };
  require$$0.core = require$$1$1;
  // type bitmap
  $export.F = 1;   // forced
  $export.G = 2;   // global
  $export.S = 4;   // static
  $export.P = 8;   // proto
  $export.B = 16;  // bind
  $export.W = 32;  // wrap
  $export.U = 64;  // safe
  $export.R = 128; // real proto method for `library`
  var _export = $export;

  var _export$1 = /*#__PURE__*/Object.freeze({
    default: _export,
    __moduleExports: _export
  });

  var _iterators = {};

  var _iterators$1 = /*#__PURE__*/Object.freeze({
    default: _iterators,
    __moduleExports: _iterators
  });

  var toString = {}.toString;

  var _cof = function (it) {
    return toString.call(it).slice(8, -1);
  };

  var _cof$1 = /*#__PURE__*/Object.freeze({
    default: _cof,
    __moduleExports: _cof
  });

  var cof = ( _cof$1 && _cof ) || _cof$1;

  // fallback for non-array-like ES3 and non-enumerable old V8 strings

  // eslint-disable-next-line no-prototype-builtins
  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
    return cof(it) == 'String' ? it.split('') : Object(it);
  };

  var _iobject$1 = /*#__PURE__*/Object.freeze({
    default: _iobject,
    __moduleExports: _iobject
  });

  var IObject = ( _iobject$1 && _iobject ) || _iobject$1;

  // to indexed object, toObject with fallback for non-array-like ES3 strings


  var _toIobject = function (it) {
    return IObject(defined(it));
  };

  var _toIobject$1 = /*#__PURE__*/Object.freeze({
    default: _toIobject,
    __moduleExports: _toIobject
  });

  // 7.1.15 ToLength

  var min = Math.min;
  var _toLength = function (it) {
    return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
  };

  var _toLength$1 = /*#__PURE__*/Object.freeze({
    default: _toLength,
    __moduleExports: _toLength
  });

  var max = Math.max;
  var min$1 = Math.min;
  var _toAbsoluteIndex = function (index, length) {
    index = toInteger(index);
    return index < 0 ? max(index + length, 0) : min$1(index, length);
  };

  var _toAbsoluteIndex$1 = /*#__PURE__*/Object.freeze({
    default: _toAbsoluteIndex,
    __moduleExports: _toAbsoluteIndex
  });

  var toIObject = ( _toIobject$1 && _toIobject ) || _toIobject$1;

  var toLength = ( _toLength$1 && _toLength ) || _toLength$1;

  var toAbsoluteIndex = ( _toAbsoluteIndex$1 && _toAbsoluteIndex ) || _toAbsoluteIndex$1;

  // false -> Array#indexOf
  // true  -> Array#includes



  var _arrayIncludes = function (IS_INCLUDES) {
    return function ($this, el, fromIndex) {
      var O = toIObject($this);
      var length = toLength(O.length);
      var index = toAbsoluteIndex(fromIndex, length);
      var value;
      // Array#includes uses SameValueZero equality algorithm
      // eslint-disable-next-line no-self-compare
      if (IS_INCLUDES && el != el) { while (length > index) {
        value = O[index++];
        // eslint-disable-next-line no-self-compare
        if (value != value) { return true; }
      // Array#indexOf ignores holes, Array#includes - not
      } } else { for (;length > index; index++) { if (IS_INCLUDES || index in O) {
        if (O[index] === el) { return IS_INCLUDES || index || 0; }
      } } } return !IS_INCLUDES && -1;
    };
  };

  var _arrayIncludes$1 = /*#__PURE__*/Object.freeze({
    default: _arrayIncludes,
    __moduleExports: _arrayIncludes
  });

  var shared = require$$0$3('keys');

  var _sharedKey = function (key) {
    return shared[key] || (shared[key] = uid(key));
  };

  var _sharedKey$1 = /*#__PURE__*/Object.freeze({
    default: _sharedKey,
    __moduleExports: _sharedKey
  });

  var require$$0$5 = ( _arrayIncludes$1 && _arrayIncludes ) || _arrayIncludes$1;

  var require$$0$6 = ( _sharedKey$1 && _sharedKey ) || _sharedKey$1;

  var arrayIndexOf = require$$0$5(false);
  var IE_PROTO = require$$0$6('IE_PROTO');

  var _objectKeysInternal = function (object, names) {
    var O = toIObject(object);
    var i = 0;
    var result = [];
    var key;
    for (key in O) { if (key != IE_PROTO) { has(O, key) && result.push(key); } }
    // Don't enum bug & hidden keys
    while (names.length > i) { if (has(O, key = names[i++])) {
      ~arrayIndexOf(result, key) || result.push(key);
    } }
    return result;
  };

  var _objectKeysInternal$1 = /*#__PURE__*/Object.freeze({
    default: _objectKeysInternal,
    __moduleExports: _objectKeysInternal
  });

  // IE 8- don't enum bug keys
  var _enumBugKeys = (
    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
  ).split(',');

  var _enumBugKeys$1 = /*#__PURE__*/Object.freeze({
    default: _enumBugKeys,
    __moduleExports: _enumBugKeys
  });

  var $keys = ( _objectKeysInternal$1 && _objectKeysInternal ) || _objectKeysInternal$1;

  var enumBugKeys = ( _enumBugKeys$1 && _enumBugKeys ) || _enumBugKeys$1;

  // 19.1.2.14 / 15.2.3.14 Object.keys(O)



  var _objectKeys = Object.keys || function keys(O) {
    return $keys(O, enumBugKeys);
  };

  var _objectKeys$1 = /*#__PURE__*/Object.freeze({
    default: _objectKeys,
    __moduleExports: _objectKeys
  });

  var getKeys = ( _objectKeys$1 && _objectKeys ) || _objectKeys$1;

  var _objectDps = require$$0$1 ? Object.defineProperties : function defineProperties(O, Properties) {
    anObject(O);
    var keys = getKeys(Properties);
    var length = keys.length;
    var i = 0;
    var P;
    while (length > i) { dP$1.f(O, P = keys[i++], Properties[P]); }
    return O;
  };

  var _objectDps$1 = /*#__PURE__*/Object.freeze({
    default: _objectDps,
    __moduleExports: _objectDps
  });

  var document$2 = require$$0.document;
  var _html = document$2 && document$2.documentElement;

  var _html$1 = /*#__PURE__*/Object.freeze({
    default: _html,
    __moduleExports: _html
  });

  var dPs = ( _objectDps$1 && _objectDps ) || _objectDps$1;

  var require$$2$1 = ( _html$1 && _html ) || _html$1;

  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])



  var IE_PROTO$1 = require$$0$6('IE_PROTO');
  var Empty = function () { /* empty */ };
  var PROTOTYPE$1 = 'prototype';

  // Create object with fake `null` prototype: use iframe Object with cleared prototype
  var createDict = function () {
    // Thrash, waste and sodomy: IE GC bug
    var iframe = require$$2('iframe');
    var i = enumBugKeys.length;
    var lt = '<';
    var gt = '>';
    var iframeDocument;
    iframe.style.display = 'none';
    require$$2$1.appendChild(iframe);
    iframe.src = 'javascript:'; // eslint-disable-line no-script-url
    // createDict = iframe.contentWindow.Object;
    // html.removeChild(iframe);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
    iframeDocument.close();
    createDict = iframeDocument.F;
    while (i--) { delete createDict[PROTOTYPE$1][enumBugKeys[i]]; }
    return createDict();
  };

  var _objectCreate = Object.create || function create(O, Properties) {
    var result;
    if (O !== null) {
      Empty[PROTOTYPE$1] = anObject(O);
      result = new Empty();
      Empty[PROTOTYPE$1] = null;
      // add "__proto__" for Object.getPrototypeOf polyfill
      result[IE_PROTO$1] = O;
    } else { result = createDict(); }
    return Properties === undefined ? result : dPs(result, Properties);
  };

  var _objectCreate$1 = /*#__PURE__*/Object.freeze({
    default: _objectCreate,
    __moduleExports: _objectCreate
  });

  var _wks = createCommonjsModule(function (module) {
  var store = require$$0$3('wks');

  var Symbol = require$$0.Symbol;
  var USE_SYMBOL = typeof Symbol == 'function';

  var $exports = module.exports = function (name) {
    return store[name] || (store[name] =
      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
  };

  $exports.store = store;
  });

  var _wks$1 = /*#__PURE__*/Object.freeze({
    default: _wks,
    __moduleExports: _wks
  });

  var require$$0$7 = ( _wks$1 && _wks ) || _wks$1;

  var def = dP$1.f;

  var TAG = require$$0$7('toStringTag');

  var _setToStringTag = function (it, tag, stat) {
    if (it && !has(it = stat ? it : it.prototype, TAG)) { def(it, TAG, { configurable: true, value: tag }); }
  };

  var _setToStringTag$1 = /*#__PURE__*/Object.freeze({
    default: _setToStringTag,
    __moduleExports: _setToStringTag
  });

  var create = ( _objectCreate$1 && _objectCreate ) || _objectCreate$1;

  var setToStringTag = ( _setToStringTag$1 && _setToStringTag ) || _setToStringTag$1;

  var IteratorPrototype = {};

  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
  require$$1$2(IteratorPrototype, require$$0$7('iterator'), function () { return this; });

  var _iterCreate = function (Constructor, NAME, next) {
    Constructor.prototype = create(IteratorPrototype, { next: createDesc(1, next) });
    setToStringTag(Constructor, NAME + ' Iterator');
  };

  var _iterCreate$1 = /*#__PURE__*/Object.freeze({
    default: _iterCreate,
    __moduleExports: _iterCreate
  });

  // 7.1.13 ToObject(argument)

  var _toObject = function (it) {
    return Object(defined(it));
  };

  var _toObject$1 = /*#__PURE__*/Object.freeze({
    default: _toObject,
    __moduleExports: _toObject
  });

  var toObject = ( _toObject$1 && _toObject ) || _toObject$1;

  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)


  var IE_PROTO$2 = require$$0$6('IE_PROTO');
  var ObjectProto = Object.prototype;

  var _objectGpo = Object.getPrototypeOf || function (O) {
    O = toObject(O);
    if (has(O, IE_PROTO$2)) { return O[IE_PROTO$2]; }
    if (typeof O.constructor == 'function' && O instanceof O.constructor) {
      return O.constructor.prototype;
    } return O instanceof Object ? ObjectProto : null;
  };

  var _objectGpo$1 = /*#__PURE__*/Object.freeze({
    default: _objectGpo,
    __moduleExports: _objectGpo
  });

  var $export$1 = ( _export$1 && _export ) || _export$1;

  var Iterators = ( _iterators$1 && _iterators ) || _iterators$1;

  var $iterCreate = ( _iterCreate$1 && _iterCreate ) || _iterCreate$1;

  var getPrototypeOf = ( _objectGpo$1 && _objectGpo ) || _objectGpo$1;

  var ITERATOR = require$$0$7('iterator');
  var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
  var FF_ITERATOR = '@@iterator';
  var KEYS = 'keys';
  var VALUES = 'values';

  var returnThis = function () { return this; };

  var _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
    $iterCreate(Constructor, NAME, next);
    var getMethod = function (kind) {
      if (!BUGGY && kind in proto) { return proto[kind]; }
      switch (kind) {
        case KEYS: return function keys() { return new Constructor(this, kind); };
        case VALUES: return function values() { return new Constructor(this, kind); };
      } return function entries() { return new Constructor(this, kind); };
    };
    var TAG = NAME + ' Iterator';
    var DEF_VALUES = DEFAULT == VALUES;
    var VALUES_BUG = false;
    var proto = Base.prototype;
    var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
    var $default = $native || getMethod(DEFAULT);
    var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
    var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
    var methods, key, IteratorPrototype;
    // Fix native
    if ($anyNative) {
      IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
      if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
        // Set @@toStringTag to native iterators
        setToStringTag(IteratorPrototype, TAG, true);
        // fix for some old engines
        if (!require$$0$2 && typeof IteratorPrototype[ITERATOR] != 'function') { require$$1$2(IteratorPrototype, ITERATOR, returnThis); }
      }
    }
    // fix Array#{values, @@iterator}.name in V8 / FF
    if (DEF_VALUES && $native && $native.name !== VALUES) {
      VALUES_BUG = true;
      $default = function values() { return $native.call(this); };
    }
    // Define iterator
    if ((!require$$0$2 || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
      require$$1$2(proto, ITERATOR, $default);
    }
    // Plug for library
    Iterators[NAME] = $default;
    Iterators[TAG] = returnThis;
    if (DEFAULT) {
      methods = {
        values: DEF_VALUES ? $default : getMethod(VALUES),
        keys: IS_SET ? $default : getMethod(KEYS),
        entries: $entries
      };
      if (FORCED) { for (key in methods) {
        if (!(key in proto)) { redefine(proto, key, methods[key]); }
      } } else { $export$1($export$1.P + $export$1.F * (BUGGY || VALUES_BUG), NAME, methods); }
    }
    return methods;
  };

  var _iterDefine$1 = /*#__PURE__*/Object.freeze({
    default: _iterDefine,
    __moduleExports: _iterDefine
  });

  var require$$0$8 = ( _stringAt$1 && _stringAt ) || _stringAt$1;

  var require$$0$9 = ( _iterDefine$1 && _iterDefine ) || _iterDefine$1;

  var $at = require$$0$8(true);

  // 21.1.3.27 String.prototype[@@iterator]()
  require$$0$9(String, 'String', function (iterated) {
    this._t = String(iterated); // target
    this._i = 0;                // next index
  // 21.1.5.2.1 %StringIteratorPrototype%.next()
  }, function () {
    var O = this._t;
    var index = this._i;
    var point;
    if (index >= O.length) { return { value: undefined, done: true }; }
    point = $at(O, index);
    this._i += point.length;
    return { value: point, done: false };
  });

  // call something on iterator step with safe closing on error

  var _iterCall = function (iterator, fn, value, entries) {
    try {
      return entries ? fn(anObject(value)[0], value[1]) : fn(value);
    // 7.4.6 IteratorClose(iterator, completion)
    } catch (e) {
      var ret = iterator['return'];
      if (ret !== undefined) { anObject(ret.call(iterator)); }
      throw e;
    }
  };

  var _iterCall$1 = /*#__PURE__*/Object.freeze({
    default: _iterCall,
    __moduleExports: _iterCall
  });

  // check on default Array iterator

  var ITERATOR$1 = require$$0$7('iterator');
  var ArrayProto = Array.prototype;

  var _isArrayIter = function (it) {
    return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR$1] === it);
  };

  var _isArrayIter$1 = /*#__PURE__*/Object.freeze({
    default: _isArrayIter,
    __moduleExports: _isArrayIter
  });

  var _createProperty = function (object, index, value) {
    if (index in object) { dP$1.f(object, index, createDesc(0, value)); }
    else { object[index] = value; }
  };

  var _createProperty$1 = /*#__PURE__*/Object.freeze({
    default: _createProperty,
    __moduleExports: _createProperty
  });

  // getting tag from 19.1.3.6 Object.prototype.toString()

  var TAG$1 = require$$0$7('toStringTag');
  // ES3 wrong here
  var ARG = cof(function () { return arguments; }()) == 'Arguments';

  // fallback for IE11 Script Access Denied error
  var tryGet = function (it, key) {
    try {
      return it[key];
    } catch (e) { /* empty */ }
  };

  var _classof = function (it) {
    var O, T, B;
    return it === undefined ? 'Undefined' : it === null ? 'Null'
      // @@toStringTag case
      : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T
      // builtinTag case
      : ARG ? cof(O)
      // ES3 arguments fallback
      : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
  };

  var _classof$1 = /*#__PURE__*/Object.freeze({
    default: _classof,
    __moduleExports: _classof
  });

  var classof = ( _classof$1 && _classof ) || _classof$1;

  var ITERATOR$2 = require$$0$7('iterator');

  var core_getIteratorMethod = require$$1$1.getIteratorMethod = function (it) {
    if (it != undefined) { return it[ITERATOR$2]
      || it['@@iterator']
      || Iterators[classof(it)]; }
  };

  var core_getIteratorMethod$1 = /*#__PURE__*/Object.freeze({
    default: core_getIteratorMethod,
    __moduleExports: core_getIteratorMethod
  });

  var ITERATOR$3 = require$$0$7('iterator');
  var SAFE_CLOSING = false;

  try {
    var riter = [7][ITERATOR$3]();
    riter['return'] = function () { SAFE_CLOSING = true; };
  } catch (e) { /* empty */ }

  var _iterDetect = function (exec, skipClosing) {
    if (!skipClosing && !SAFE_CLOSING) { return false; }
    var safe = false;
    try {
      var arr = [7];
      var iter = arr[ITERATOR$3]();
      iter.next = function () { return { done: safe = true }; };
      arr[ITERATOR$3] = function () { return iter; };
      exec(arr);
    } catch (e) { /* empty */ }
    return safe;
  };

  var _iterDetect$1 = /*#__PURE__*/Object.freeze({
    default: _iterDetect,
    __moduleExports: _iterDetect
  });

  var call = ( _iterCall$1 && _iterCall ) || _iterCall$1;

  var isArrayIter = ( _isArrayIter$1 && _isArrayIter ) || _isArrayIter$1;

  var createProperty = ( _createProperty$1 && _createProperty ) || _createProperty$1;

  var getIterFn = ( core_getIteratorMethod$1 && core_getIteratorMethod ) || core_getIteratorMethod$1;

  var require$$0$a = ( _iterDetect$1 && _iterDetect ) || _iterDetect$1;

  $export$1($export$1.S + $export$1.F * !require$$0$a(function (iter) { }), 'Array', {
    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
    from: function from(arrayLike /*  mapfn = undefined, thisArg = undefined */) {
      var O = toObject(arrayLike);
      var C = typeof this == 'function' ? this : Array;
      var aLen = arguments.length;
      var mapfn = aLen > 1 ? arguments[1] : undefined;
      var mapping = mapfn !== undefined;
      var index = 0;
      var iterFn = getIterFn(O);
      var length, result, step, iterator;
      if (mapping) { mapfn = require$$0$4(mapfn, aLen > 2 ? arguments[2] : undefined, 2); }
      // if object isn't iterable or it's array with default iterator - use simple case
      if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
        for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
          createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
        }
      } else {
        length = toLength(O.length);
        for (result = new C(length); length > index; index++) {
          createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
        }
      }
      result.length = index;
      return result;
    }
  });

  var from = require$$1$1.Array.from;

  var f$1 = Object.getOwnPropertySymbols;

  var _objectGops = {
  	f: f$1
  };

  var _objectGops$1 = /*#__PURE__*/Object.freeze({
    default: _objectGops,
    __moduleExports: _objectGops,
    f: f$1
  });

  var f$2 = {}.propertyIsEnumerable;

  var _objectPie = {
  	f: f$2
  };

  var _objectPie$1 = /*#__PURE__*/Object.freeze({
    default: _objectPie,
    __moduleExports: _objectPie,
    f: f$2
  });

  var gOPS = ( _objectGops$1 && _objectGops ) || _objectGops$1;

  var pIE = ( _objectPie$1 && _objectPie ) || _objectPie$1;

  // 19.1.2.1 Object.assign(target, source, ...)






  var $assign = Object.assign;

  // should work with symbols and should have deterministic property order (V8 bug)
  var _objectAssign = !$assign || require$$1(function () {
    var A = {};
    var B = {};
    // eslint-disable-next-line no-undef
    var S = Symbol();
    var K = 'abcdefghijklmnopqrst';
    A[S] = 7;
    K.split('').forEach(function (k) { B[k] = k; });
    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
  }) ? function assign(target, source) {
    var arguments$1 = arguments;
   // eslint-disable-line no-unused-vars
    var T = toObject(target);
    var aLen = arguments.length;
    var index = 1;
    var getSymbols = gOPS.f;
    var isEnum = pIE.f;
    while (aLen > index) {
      var S = IObject(arguments$1[index++]);
      var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
      var length = keys.length;
      var j = 0;
      var key;
      while (length > j) {
        key = keys[j++];
        if (!require$$0$1 || isEnum.call(S, key)) { T[key] = S[key]; }
      }
    } return T;
  } : $assign;

  var _objectAssign$1 = /*#__PURE__*/Object.freeze({
    default: _objectAssign,
    __moduleExports: _objectAssign
  });

  var require$$0$b = ( _objectAssign$1 && _objectAssign ) || _objectAssign$1;

  // 19.1.3.1 Object.assign(target, source)


  $export$1($export$1.S + $export$1.F, 'Object', { assign: require$$0$b });

  var assign = require$$1$1.Object.assign;

  var gOPD = Object.getOwnPropertyDescriptor;

  var f$3 = require$$0$1 ? gOPD : function getOwnPropertyDescriptor(O, P) {
    O = toIObject(O);
    P = toPrimitive(P, true);
    if (IE8_DOM_DEFINE) { try {
      return gOPD(O, P);
    } catch (e) { /* empty */ } }
    if (has(O, P)) { return createDesc(!pIE.f.call(O, P), O[P]); }
  };

  var _objectGopd = {
  	f: f$3
  };

  var _objectGopd$1 = /*#__PURE__*/Object.freeze({
    default: _objectGopd,
    __moduleExports: _objectGopd,
    f: f$3
  });

  var require$$1$3 = ( _objectGopd$1 && _objectGopd ) || _objectGopd$1;

  // Works with __proto__ only. Old v8 can't work with null proto objects.
  /* eslint-disable no-proto */


  var check = function (O, proto) {
    anObject(O);
    if (!isObject(proto) && proto !== null) { throw TypeError(proto + ": can't set as prototype!"); }
  };
  var _setProto = {
    set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
      function (test, buggy, set) {
        try {
          set = require$$0$4(Function.call, require$$1$3.f(Object.prototype, '__proto__').set, 2);
          set(test, []);
          buggy = !(test instanceof Array);
        } catch (e) { buggy = true; }
        return function setPrototypeOf(O, proto) {
          check(O, proto);
          if (buggy) { O.__proto__ = proto; }
          else { set(O, proto); }
          return O;
        };
      }({}, false) : undefined),
    check: check
  };
  var _setProto_1 = _setProto.set;
  var _setProto_2 = _setProto.check;

  var _setProto$1 = /*#__PURE__*/Object.freeze({
    default: _setProto,
    __moduleExports: _setProto,
    set: _setProto_1,
    check: _setProto_2
  });

  var require$$0$c = ( _setProto$1 && _setProto ) || _setProto$1;

  // 19.1.3.19 Object.setPrototypeOf(O, proto)

  $export$1($export$1.S, 'Object', { setPrototypeOf: require$$0$c.set });

  var setPrototypeOf = require$$1$1.Object.setPrototypeOf;

  // 19.1.3.6 Object.prototype.toString()

  var test = {};
  test[require$$0$7('toStringTag')] = 'z';
  if (test + '' != '[object z]') {
    redefine(Object.prototype, 'toString', function toString() {
      return '[object ' + classof(this) + ']';
    }, true);
  }

  // 22.1.3.31 Array.prototype[@@unscopables]
  var UNSCOPABLES = require$$0$7('unscopables');
  var ArrayProto$1 = Array.prototype;
  if (ArrayProto$1[UNSCOPABLES] == undefined) { require$$1$2(ArrayProto$1, UNSCOPABLES, {}); }
  var _addToUnscopables = function (key) {
    ArrayProto$1[UNSCOPABLES][key] = true;
  };

  var _addToUnscopables$1 = /*#__PURE__*/Object.freeze({
    default: _addToUnscopables,
    __moduleExports: _addToUnscopables
  });

  var _iterStep = function (done, value) {
    return { value: value, done: !!done };
  };

  var _iterStep$1 = /*#__PURE__*/Object.freeze({
    default: _iterStep,
    __moduleExports: _iterStep
  });

  var addToUnscopables = ( _addToUnscopables$1 && _addToUnscopables ) || _addToUnscopables$1;

  var step = ( _iterStep$1 && _iterStep ) || _iterStep$1;

  // 22.1.3.4 Array.prototype.entries()
  // 22.1.3.13 Array.prototype.keys()
  // 22.1.3.29 Array.prototype.values()
  // 22.1.3.30 Array.prototype[@@iterator]()
  var es6_array_iterator = require$$0$9(Array, 'Array', function (iterated, kind) {
    this._t = toIObject(iterated); // target
    this._i = 0;                   // next index
    this._k = kind;                // kind
  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()
  }, function () {
    var O = this._t;
    var kind = this._k;
    var index = this._i++;
    if (!O || index >= O.length) {
      this._t = undefined;
      return step(1);
    }
    if (kind == 'keys') { return step(0, index); }
    if (kind == 'values') { return step(0, O[index]); }
    return step(0, [index, O[index]]);
  }, 'values');

  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
  Iterators.Arguments = Iterators.Array;

  addToUnscopables('keys');
  addToUnscopables('values');
  addToUnscopables('entries');

  var es6_array_iterator$1 = /*#__PURE__*/Object.freeze({
    default: es6_array_iterator,
    __moduleExports: es6_array_iterator
  });

  var $iterators = ( es6_array_iterator$1 && es6_array_iterator ) || es6_array_iterator$1;

  var ITERATOR$4 = require$$0$7('iterator');
  var TO_STRING_TAG = require$$0$7('toStringTag');
  var ArrayValues = Iterators.Array;

  var DOMIterables = {
    CSSRuleList: true, // TODO: Not spec compliant, should be false.
    CSSStyleDeclaration: false,
    CSSValueList: false,
    ClientRectList: false,
    DOMRectList: false,
    DOMStringList: false,
    DOMTokenList: true,
    DataTransferItemList: false,
    FileList: false,
    HTMLAllCollection: false,
    HTMLCollection: false,
    HTMLFormElement: false,
    HTMLSelectElement: false,
    MediaList: true, // TODO: Not spec compliant, should be false.
    MimeTypeArray: false,
    NamedNodeMap: false,
    NodeList: true,
    PaintRequestList: false,
    Plugin: false,
    PluginArray: false,
    SVGLengthList: false,
    SVGNumberList: false,
    SVGPathSegList: false,
    SVGPointList: false,
    SVGStringList: false,
    SVGTransformList: false,
    SourceBufferList: false,
    StyleSheetList: true, // TODO: Not spec compliant, should be false.
    TextTrackCueList: false,
    TextTrackList: false,
    TouchList: false
  };

  for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {
    var NAME = collections[i];
    var explicit = DOMIterables[NAME];
    var Collection = require$$0[NAME];
    var proto = Collection && Collection.prototype;
    var key;
    if (proto) {
      if (!proto[ITERATOR$4]) { require$$1$2(proto, ITERATOR$4, ArrayValues); }
      if (!proto[TO_STRING_TAG]) { require$$1$2(proto, TO_STRING_TAG, NAME); }
      Iterators[NAME] = ArrayValues;
      if (explicit) { for (key in $iterators) { if (!proto[key]) { redefine(proto, key, $iterators[key], true); } } }
    }
  }

  var _anInstance = function (it, Constructor, name, forbiddenField) {
    if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
      throw TypeError(name + ': incorrect invocation!');
    } return it;
  };

  var _anInstance$1 = /*#__PURE__*/Object.freeze({
    default: _anInstance,
    __moduleExports: _anInstance
  });

  var _forOf = createCommonjsModule(function (module) {
  var BREAK = {};
  var RETURN = {};
  var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
    var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
    var f = require$$0$4(fn, that, entries ? 2 : 1);
    var index = 0;
    var length, step, iterator, result;
    if (typeof iterFn != 'function') { throw TypeError(iterable + ' is not iterable!'); }
    // fast case for arrays with default iterator
    if (isArrayIter(iterFn)) { for (length = toLength(iterable.length); length > index; index++) {
      result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
      if (result === BREAK || result === RETURN) { return result; }
    } } else { for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
      result = call(iterator, f, step.value, entries);
      if (result === BREAK || result === RETURN) { return result; }
    } }
  };
  exports.BREAK = BREAK;
  exports.RETURN = RETURN;
  });

  var _forOf$1 = /*#__PURE__*/Object.freeze({
    default: _forOf,
    __moduleExports: _forOf
  });

  // 7.3.20 SpeciesConstructor(O, defaultConstructor)


  var SPECIES = require$$0$7('species');
  var _speciesConstructor = function (O, D) {
    var C = anObject(O).constructor;
    var S;
    return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
  };

  var _speciesConstructor$1 = /*#__PURE__*/Object.freeze({
    default: _speciesConstructor,
    __moduleExports: _speciesConstructor
  });

  // fast apply, http://jsperf.lnkit.com/fast-apply/5
  var _invoke = function (fn, args, that) {
    var un = that === undefined;
    switch (args.length) {
      case 0: return un ? fn()
                        : fn.call(that);
      case 1: return un ? fn(args[0])
                        : fn.call(that, args[0]);
      case 2: return un ? fn(args[0], args[1])
                        : fn.call(that, args[0], args[1]);
      case 3: return un ? fn(args[0], args[1], args[2])
                        : fn.call(that, args[0], args[1], args[2]);
      case 4: return un ? fn(args[0], args[1], args[2], args[3])
                        : fn.call(that, args[0], args[1], args[2], args[3]);
    } return fn.apply(that, args);
  };

  var _invoke$1 = /*#__PURE__*/Object.freeze({
    default: _invoke,
    __moduleExports: _invoke
  });

  var invoke = ( _invoke$1 && _invoke ) || _invoke$1;

  var process = require$$0.process;
  var setTask = require$$0.setImmediate;
  var clearTask = require$$0.clearImmediate;
  var MessageChannel = require$$0.MessageChannel;
  var Dispatch = require$$0.Dispatch;
  var counter = 0;
  var queue = {};
  var ONREADYSTATECHANGE = 'onreadystatechange';
  var defer, channel, port;
  var run = function () {
    var id = +this;
    // eslint-disable-next-line no-prototype-builtins
    if (queue.hasOwnProperty(id)) {
      var fn = queue[id];
      delete queue[id];
      fn();
    }
  };
  var listener = function (event) {
    run.call(event.data);
  };
  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:
  if (!setTask || !clearTask) {
    setTask = function setImmediate(fn) {
      var arguments$1 = arguments;

      var args = [];
      var i = 1;
      while (arguments.length > i) { args.push(arguments$1[i++]); }
      queue[++counter] = function () {
        // eslint-disable-next-line no-new-func
        invoke(typeof fn == 'function' ? fn : Function(fn), args);
      };
      defer(counter);
      return counter;
    };
    clearTask = function clearImmediate(id) {
      delete queue[id];
    };
    // Node.js 0.8-
    if (cof(process) == 'process') {
      defer = function (id) {
        process.nextTick(require$$0$4(run, id, 1));
      };
    // Sphere (JS game engine) Dispatch API
    } else if (Dispatch && Dispatch.now) {
      defer = function (id) {
        Dispatch.now(require$$0$4(run, id, 1));
      };
    // Browsers with MessageChannel, includes WebWorkers
    } else if (MessageChannel) {
      channel = new MessageChannel();
      port = channel.port2;
      channel.port1.onmessage = listener;
      defer = require$$0$4(port.postMessage, port, 1);
    // Browsers with postMessage, skip WebWorkers
    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
    } else if (require$$0.addEventListener && typeof postMessage == 'function' && !require$$0.importScripts) {
      defer = function (id) {
        require$$0.postMessage(id + '', '*');
      };
      require$$0.addEventListener('message', listener, false);
    // IE8-
    } else if (ONREADYSTATECHANGE in require$$2('script')) {
      defer = function (id) {
        require$$2$1.appendChild(require$$2('script'))[ONREADYSTATECHANGE] = function () {
          require$$2$1.removeChild(this);
          run.call(id);
        };
      };
    // Rest old browsers
    } else {
      defer = function (id) {
        setTimeout(require$$0$4(run, id, 1), 0);
      };
    }
  }
  var _task = {
    set: setTask,
    clear: clearTask
  };
  var _task_1 = _task.set;
  var _task_2 = _task.clear;

  var _task$1 = /*#__PURE__*/Object.freeze({
    default: _task,
    __moduleExports: _task,
    set: _task_1,
    clear: _task_2
  });

  var require$$0$d = ( _task$1 && _task ) || _task$1;

  var macrotask = require$$0$d.set;
  var Observer = require$$0.MutationObserver || require$$0.WebKitMutationObserver;
  var process$1 = require$$0.process;
  var Promise = require$$0.Promise;
  var isNode = cof(process$1) == 'process';

  var _microtask = function () {
    var head, last, notify;

    var flush = function () {
      var parent, fn;
      if (isNode && (parent = process$1.domain)) { parent.exit(); }
      while (head) {
        fn = head.fn;
        head = head.next;
        try {
          fn();
        } catch (e) {
          if (head) { notify(); }
          else { last = undefined; }
          throw e;
        }
      } last = undefined;
      if (parent) { parent.enter(); }
    };

    // Node.js
    if (isNode) {
      notify = function () {
        process$1.nextTick(flush);
      };
    // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
    } else if (Observer && !(require$$0.navigator && require$$0.navigator.standalone)) {
      var toggle = true;
      var node = document.createTextNode('');
      new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
      notify = function () {
        node.data = toggle = !toggle;
      };
    // environments with maybe non-completely correct, but existent Promise
    } else if (Promise && Promise.resolve) {
      // Promise.resolve without an argument throws an error in LG WebOS 2
      var promise = Promise.resolve(undefined);
      notify = function () {
        promise.then(flush);
      };
    // for other environments - macrotask based on:
    // - setImmediate
    // - MessageChannel
    // - window.postMessag
    // - onreadystatechange
    // - setTimeout
    } else {
      notify = function () {
        // strange IE + webpack dev server bug - use .call(global)
        macrotask.call(require$$0, flush);
      };
    }

    return function (fn) {
      var task = { fn: fn, next: undefined };
      if (last) { last.next = task; }
      if (!head) {
        head = task;
        notify();
      } last = task;
    };
  };

  var _microtask$1 = /*#__PURE__*/Object.freeze({
    default: _microtask,
    __moduleExports: _microtask
  });

  // 25.4.1.5 NewPromiseCapability(C)


  function PromiseCapability(C) {
    var resolve, reject;
    this.promise = new C(function ($$resolve, $$reject) {
      if (resolve !== undefined || reject !== undefined) { throw TypeError('Bad Promise constructor'); }
      resolve = $$resolve;
      reject = $$reject;
    });
    this.resolve = aFunction(resolve);
    this.reject = aFunction(reject);
  }

  var f$4 = function (C) {
    return new PromiseCapability(C);
  };

  var _newPromiseCapability = {
  	f: f$4
  };

  var _newPromiseCapability$1 = /*#__PURE__*/Object.freeze({
    default: _newPromiseCapability,
    __moduleExports: _newPromiseCapability,
    f: f$4
  });

  var _perform = function (exec) {
    try {
      return { e: false, v: exec() };
    } catch (e) {
      return { e: true, v: e };
    }
  };

  var _perform$1 = /*#__PURE__*/Object.freeze({
    default: _perform,
    __moduleExports: _perform
  });

  var navigator$1 = require$$0.navigator;

  var _userAgent = navigator$1 && navigator$1.userAgent || '';

  var _userAgent$1 = /*#__PURE__*/Object.freeze({
    default: _userAgent,
    __moduleExports: _userAgent
  });

  var newPromiseCapability = ( _newPromiseCapability$1 && _newPromiseCapability ) || _newPromiseCapability$1;

  var _promiseResolve = function (C, x) {
    anObject(C);
    if (isObject(x) && x.constructor === C) { return x; }
    var promiseCapability = newPromiseCapability.f(C);
    var resolve = promiseCapability.resolve;
    resolve(x);
    return promiseCapability.promise;
  };

  var _promiseResolve$1 = /*#__PURE__*/Object.freeze({
    default: _promiseResolve,
    __moduleExports: _promiseResolve
  });

  var _redefineAll = function (target, src, safe) {
    for (var key in src) { redefine(target, key, src[key], safe); }
    return target;
  };

  var _redefineAll$1 = /*#__PURE__*/Object.freeze({
    default: _redefineAll,
    __moduleExports: _redefineAll
  });

  var SPECIES$1 = require$$0$7('species');

  var _setSpecies = function (KEY) {
    var C = require$$0[KEY];
    if (require$$0$1 && C && !C[SPECIES$1]) { dP$1.f(C, SPECIES$1, {
      configurable: true,
      get: function () { return this; }
    }); }
  };

  var _setSpecies$1 = /*#__PURE__*/Object.freeze({
    default: _setSpecies,
    __moduleExports: _setSpecies
  });

  var anInstance = ( _anInstance$1 && _anInstance ) || _anInstance$1;

  var forOf = ( _forOf$1 && _forOf ) || _forOf$1;

  var speciesConstructor = ( _speciesConstructor$1 && _speciesConstructor ) || _speciesConstructor$1;

  var require$$1$4 = ( _microtask$1 && _microtask ) || _microtask$1;

  var perform = ( _perform$1 && _perform ) || _perform$1;

  var userAgent = ( _userAgent$1 && _userAgent ) || _userAgent$1;

  var promiseResolve = ( _promiseResolve$1 && _promiseResolve ) || _promiseResolve$1;

  var require$$3 = ( _redefineAll$1 && _redefineAll ) || _redefineAll$1;

  var require$$5 = ( _setSpecies$1 && _setSpecies ) || _setSpecies$1;

  var task = require$$0$d.set;
  var microtask = require$$1$4();




  var PROMISE = 'Promise';
  var TypeError$1 = require$$0.TypeError;
  var process$2 = require$$0.process;
  var versions = process$2 && process$2.versions;
  var v8 = versions && versions.v8 || '';
  var $Promise = require$$0[PROMISE];
  var isNode$1 = classof(process$2) == 'process';
  var empty = function () { /* empty */ };
  var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
  var newPromiseCapability$1 = newGenericPromiseCapability = newPromiseCapability.f;

  var USE_NATIVE = !!function () {
    try {
      // correct subclassing with @@species support
      var promise = $Promise.resolve(1);
      var FakePromise = (promise.constructor = {})[require$$0$7('species')] = function (exec) {
        exec(empty, empty);
      };
      // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
      return (isNode$1 || typeof PromiseRejectionEvent == 'function')
        && promise.then(empty) instanceof FakePromise
        // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
        // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
        // we can't detect it synchronously, so just check versions
        && v8.indexOf('6.6') !== 0
        && userAgent.indexOf('Chrome/66') === -1;
    } catch (e) { /* empty */ }
  }();

  // helpers
  var isThenable = function (it) {
    var then;
    return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
  };
  var notify = function (promise, isReject) {
    if (promise._n) { return; }
    promise._n = true;
    var chain = promise._c;
    microtask(function () {
      var value = promise._v;
      var ok = promise._s == 1;
      var i = 0;
      var run = function (reaction) {
        var handler = ok ? reaction.ok : reaction.fail;
        var resolve = reaction.resolve;
        var reject = reaction.reject;
        var domain = reaction.domain;
        var result, then, exited;
        try {
          if (handler) {
            if (!ok) {
              if (promise._h == 2) { onHandleUnhandled(promise); }
              promise._h = 1;
            }
            if (handler === true) { result = value; }
            else {
              if (domain) { domain.enter(); }
              result = handler(value); // may throw
              if (domain) {
                domain.exit();
                exited = true;
              }
            }
            if (result === reaction.promise) {
              reject(TypeError$1('Promise-chain cycle'));
            } else if (then = isThenable(result)) {
              then.call(result, resolve, reject);
            } else { resolve(result); }
          } else { reject(value); }
        } catch (e) {
          if (domain && !exited) { domain.exit(); }
          reject(e);
        }
      };
      while (chain.length > i) { run(chain[i++]); } // variable length - can't use forEach
      promise._c = [];
      promise._n = false;
      if (isReject && !promise._h) { onUnhandled(promise); }
    });
  };
  var onUnhandled = function (promise) {
    task.call(require$$0, function () {
      var value = promise._v;
      var unhandled = isUnhandled(promise);
      var result, handler, console;
      if (unhandled) {
        result = perform(function () {
          if (isNode$1) {
            process$2.emit('unhandledRejection', value, promise);
          } else if (handler = require$$0.onunhandledrejection) {
            handler({ promise: promise, reason: value });
          } else if ((console = require$$0.console) && console.error) {
            console.error('Unhandled promise rejection', value);
          }
        });
        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
        promise._h = isNode$1 || isUnhandled(promise) ? 2 : 1;
      } promise._a = undefined;
      if (unhandled && result.e) { throw result.v; }
    });
  };
  var isUnhandled = function (promise) {
    return promise._h !== 1 && (promise._a || promise._c).length === 0;
  };
  var onHandleUnhandled = function (promise) {
    task.call(require$$0, function () {
      var handler;
      if (isNode$1) {
        process$2.emit('rejectionHandled', promise);
      } else if (handler = require$$0.onrejectionhandled) {
        handler({ promise: promise, reason: promise._v });
      }
    });
  };
  var $reject = function (value) {
    var promise = this;
    if (promise._d) { return; }
    promise._d = true;
    promise = promise._w || promise; // unwrap
    promise._v = value;
    promise._s = 2;
    if (!promise._a) { promise._a = promise._c.slice(); }
    notify(promise, true);
  };
  var $resolve = function (value) {
    var promise = this;
    var then;
    if (promise._d) { return; }
    promise._d = true;
    promise = promise._w || promise; // unwrap
    try {
      if (promise === value) { throw TypeError$1("Promise can't be resolved itself"); }
      if (then = isThenable(value)) {
        microtask(function () {
          var wrapper = { _w: promise, _d: false }; // wrap
          try {
            then.call(value, require$$0$4($resolve, wrapper, 1), require$$0$4($reject, wrapper, 1));
          } catch (e) {
            $reject.call(wrapper, e);
          }
        });
      } else {
        promise._v = value;
        promise._s = 1;
        notify(promise, false);
      }
    } catch (e) {
      $reject.call({ _w: promise, _d: false }, e); // wrap
    }
  };

  // constructor polyfill
  if (!USE_NATIVE) {
    // 25.4.3.1 Promise(executor)
    $Promise = function Promise(executor) {
      anInstance(this, $Promise, PROMISE, '_h');
      aFunction(executor);
      Internal.call(this);
      try {
        executor(require$$0$4($resolve, this, 1), require$$0$4($reject, this, 1));
      } catch (err) {
        $reject.call(this, err);
      }
    };
    // eslint-disable-next-line no-unused-vars
    Internal = function Promise(executor) {
      this._c = [];             // <- awaiting reactions
      this._a = undefined;      // <- checked in isUnhandled reactions
      this._s = 0;              // <- state
      this._d = false;          // <- done
      this._v = undefined;      // <- value
      this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
      this._n = false;          // <- notify
    };
    Internal.prototype = require$$3($Promise.prototype, {
      // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
      then: function then(onFulfilled, onRejected) {
        var reaction = newPromiseCapability$1(speciesConstructor(this, $Promise));
        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
        reaction.fail = typeof onRejected == 'function' && onRejected;
        reaction.domain = isNode$1 ? process$2.domain : undefined;
        this._c.push(reaction);
        if (this._a) { this._a.push(reaction); }
        if (this._s) { notify(this, false); }
        return reaction.promise;
      },
      // 25.4.5.1 Promise.prototype.catch(onRejected)
      'catch': function (onRejected) {
        return this.then(undefined, onRejected);
      }
    });
    OwnPromiseCapability = function () {
      var promise = new Internal();
      this.promise = promise;
      this.resolve = require$$0$4($resolve, promise, 1);
      this.reject = require$$0$4($reject, promise, 1);
    };
    newPromiseCapability.f = newPromiseCapability$1 = function (C) {
      return C === $Promise || C === Wrapper
        ? new OwnPromiseCapability(C)
        : newGenericPromiseCapability(C);
    };
  }

  $export$1($export$1.G + $export$1.W + $export$1.F * !USE_NATIVE, { Promise: $Promise });
  setToStringTag($Promise, PROMISE);
  require$$5(PROMISE);
  Wrapper = require$$1$1[PROMISE];

  // statics
  $export$1($export$1.S + $export$1.F * !USE_NATIVE, PROMISE, {
    // 25.4.4.5 Promise.reject(r)
    reject: function reject(r) {
      var capability = newPromiseCapability$1(this);
      var $$reject = capability.reject;
      $$reject(r);
      return capability.promise;
    }
  });
  $export$1($export$1.S + $export$1.F * (require$$0$2 || !USE_NATIVE), PROMISE, {
    // 25.4.4.6 Promise.resolve(x)
    resolve: function resolve(x) {
      return promiseResolve(require$$0$2 && this === Wrapper ? $Promise : this, x);
    }
  });
  $export$1($export$1.S + $export$1.F * !(USE_NATIVE && require$$0$a(function (iter) {
    $Promise.all(iter)['catch'](empty);
  })), PROMISE, {
    // 25.4.4.1 Promise.all(iterable)
    all: function all(iterable) {
      var C = this;
      var capability = newPromiseCapability$1(C);
      var resolve = capability.resolve;
      var reject = capability.reject;
      var result = perform(function () {
        var values = [];
        var index = 0;
        var remaining = 1;
        forOf(iterable, false, function (promise) {
          var $index = index++;
          var alreadyCalled = false;
          values.push(undefined);
          remaining++;
          C.resolve(promise).then(function (value) {
            if (alreadyCalled) { return; }
            alreadyCalled = true;
            values[$index] = value;
            --remaining || resolve(values);
          }, reject);
        });
        --remaining || resolve(values);
      });
      if (result.e) { reject(result.v); }
      return capability.promise;
    },
    // 25.4.4.4 Promise.race(iterable)
    race: function race(iterable) {
      var C = this;
      var capability = newPromiseCapability$1(C);
      var reject = capability.reject;
      var result = perform(function () {
        forOf(iterable, false, function (promise) {
          C.resolve(promise).then(capability.resolve, reject);
        });
      });
      if (result.e) { reject(result.v); }
      return capability.promise;
    }
  });

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var isInitialized = false;

  // major events supported:
  //   panstart
  //   panmove
  //   panend
  //   swipe
  //   longpress
  // extra events supported:
  //   dualtouchstart
  //   dualtouch
  //   dualtouchend
  //   tap
  //   doubletap
  //   pressend

  var doc = window.document;
  var docEl = doc.documentElement;
  var slice = Array.prototype.slice;
  var gestures = {};
  var lastTap = null;

  /**
   * find the closest common ancestor
   * if there's no one, return null
   *
   * @param  {Element} el1 first element
   * @param  {Element} el2 second element
   * @return {Element}     common ancestor
   */
  function getCommonAncestor(el1, el2) {
    var el = el1;
    while (el) {
      if (el.contains(el2) || el == el2) {
        return el
      }
      el = el.parentNode;
    }
    return null
  }

  /**
   * fire a HTMLEvent
   *
   * @param  {Element} element which element to fire a event on
   * @param  {string}  type    type of event
   * @param  {object}  extra   extra data for the event object
   */
  function fireEvent(element, type, extra) {
    var event = doc.createEvent('HTMLEvents');
    event.initEvent(type, true, true);

    if (typeof extra === 'object') {
      for (var p in extra) {
        event[p] = extra[p];
      }
    }

    /**
     * A flag to distinguish with other events with the same name generated
     * by another library in the same page.
     */ 
    event._for = 'weex';

    element.dispatchEvent(event);
  }

  /**
   * calc the transform
   * assume 4 points ABCD on the coordinate system
   * > rotateï¼angle rotating from AB to CD
   * > scaleï¼scale ratio from AB to CD
   * > translateï¼translate shift from A to C
   *
   * @param  {number} x1 abscissa of A
   * @param  {number} y1 ordinate of A
   * @param  {number} x2 abscissa of B
   * @param  {number} y2 ordinate of B
   * @param  {number} x3 abscissa of C
   * @param  {number} y3 ordinate of C
   * @param  {number} x4 abscissa of D
   * @param  {number} y4 ordinate of D
   * @return {object}    transform object like
   *   {rotate, scale, translate[2], matrix[3][3]}
   */
  function calc(x1, y1, x2, y2, x3, y3, x4, y4) {
    var rotate = Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y2 - y1, x2 - x1);
    var scale = Math.sqrt((Math.pow(y4 - y3, 2)
      + Math.pow(x4 - x3, 2)) / (Math.pow(y2 - y1, 2)
      + Math.pow(x2 - x1, 2)));
    var translate = [
      x3
      - scale * x1 * Math.cos(rotate)
      + scale * y1 * Math.sin(rotate),
      y3
      - scale * y1 * Math.cos(rotate)
      - scale * x1 * Math.sin(rotate)];

    return {
      rotate: rotate,
      scale: scale,
      translate: translate,
      matrix: [
        [scale * Math.cos(rotate), -scale * Math.sin(rotate), translate[0]],
        [scale * Math.sin(rotate), scale * Math.cos(rotate), translate[1]],
        [0, 0, 1]
      ]
    }
  }

  /**
   * take over the touchstart events. Add new touches to the gestures.
   * If there is no previous records, then bind touchmove, tochend
   * and touchcancel events.
   * new touches initialized with state 'tapping', and within 500 milliseconds
   * if the state is still tapping, then trigger gesture 'press'.
   * If there are two touche points, then the 'dualtouchstart' is triggerd. The
   * node of the touch gesture is their cloest common ancestor.
   *
   * @event
   * @param  {event} event
   */
  function touchstartHandler(event) {

    if (Object.keys(gestures).length === 0) {
      docEl.addEventListener('touchmove', touchmoveHandler, true);
      docEl.addEventListener('touchend', touchendHandler, true);
      docEl.addEventListener('touchcancel', touchcancelHandler, true);
    }

    // record every touch
    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i];
      var touchRecord = {};

      for (var p in touch) {
        touchRecord[p] = touch[p];
      }

      var gesture = {
        startTouch: touchRecord,
        startTime: Date.now(),
        status: 'tapping',
        element: event.srcElement || event.target,
        pressingHandler: setTimeout(function (element, touch) {
          return function () {
            if (gesture.status === 'tapping') {
              gesture.status = 'pressing';

              fireEvent(element, 'longpress', {
                // add touch data for weex
                touch: touch,
                touches: event.touches,
                changedTouches: event.changedTouches,
                touchEvent: event
              });
            }

            clearTimeout(gesture.pressingHandler);
            gesture.pressingHandler = null;
          }
        }(event.srcElement || event.target, event.changedTouches[i]), 500)
      };
      gestures[touch.identifier] = gesture;
    }

    if (Object.keys(gestures).length == 2) {
      var elements = [];

      for (var p in gestures) {
        elements.push(gestures[p].element);
      }

      fireEvent(getCommonAncestor(elements[0], elements[1]), 'dualtouchstart', {
        touches: slice.call(event.touches),
        touchEvent: event
      });
    }
  }

  /**
   * take over touchmove events, and handle pan and dual related gestures.
   *
   * 1. traverse every touch pointï¼
   * > if 'tapping' and the shift is over 10 pixles, then it's a 'panning'.
   * 2. if there are two touch points, then calc the tranform and trigger
   *   'dualtouch'.
   *
   * @event
   * @param  {event} event
   */
  function touchmoveHandler(event) {
    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i];
      var gesture = gestures[touch.identifier];

      if (!gesture) {
        return
      }

      if (!gesture.lastTouch) {
        gesture.lastTouch = gesture.startTouch;
      }
      if (!gesture.lastTime) {
        gesture.lastTime = gesture.startTime;
      }
      if (!gesture.velocityX) {
        gesture.velocityX = 0;
      }
      if (!gesture.velocityY) {
        gesture.velocityY = 0;
      }
      if (!gesture.duration) {
        gesture.duration = 0;
      }

      var time =  Date.now() - gesture.lastTime;
      var vx = (touch.clientX - gesture.lastTouch.clientX) / time;
      var vy = (touch.clientY - gesture.lastTouch.clientY) / time;

      var RECORD_DURATION = 70;
      if (time > RECORD_DURATION) {
        time = RECORD_DURATION;
      }
      if (gesture.duration + time > RECORD_DURATION) {
        gesture.duration = RECORD_DURATION - time;
      }

      gesture.velocityX = (gesture.velocityX * gesture.duration + vx * time)
        / (gesture.duration + time);
      gesture.velocityY = (gesture.velocityY * gesture.duration + vy * time)
        / (gesture.duration + time);
      gesture.duration += time;

      gesture.lastTouch = {};

      for (var p in touch) {
        gesture.lastTouch[p] = touch[p];
      }
      gesture.lastTime = Date.now();

      var displacementX = touch.clientX - gesture.startTouch.clientX;
      var displacementY = touch.clientY - gesture.startTouch.clientY;
      var distance = Math.sqrt(Math.pow(displacementX, 2)
        + Math.pow(displacementY, 2));
      var isVertical = !(Math.abs(displacementX) > Math.abs(displacementY));
      var direction = isVertical
        ? displacementY >= 0 ? 'down' : 'up'
        : displacementX >= 0 ? 'right' : 'left';

      // magic number 10: moving 10px means pan, not tap
      if ((gesture.status === 'tapping' || gesture.status === 'pressing')
          && distance > 10) {
        gesture.status = 'panning';
        gesture.isVertical = isVertical;
        gesture.direction = direction;

        fireEvent(gesture.element, 'panstart', {
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: direction
        });
      }

      if (gesture.status === 'panning') {
        gesture.panTime = Date.now();

        fireEvent(gesture.element, 'panmove', {
          displacementX: displacementX,
          displacementY: displacementY,
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: direction
        });
      }
    }

    if (Object.keys(gestures).length == 2) {
      var position = [];
      var current = [];
      var elements = [];
      var transform;

      for (var i = 0; i < event.touches.length; i++) {
        var touch = event.touches[i];
        var gesture = gestures[touch.identifier];
        position.push([gesture.startTouch.clientX, gesture.startTouch.clientY]);
        current.push([touch.clientX, touch.clientY]);
      }

      for (var p in gestures) {
        elements.push(gestures[p].element);
      }

      transform = calc(
        position[0][0],
        position[0][1],
        position[1][0],
        position[1][1],
        current[0][0],
        current[0][1],
        current[1][0],
        current[1][1]
      );
      fireEvent(getCommonAncestor(elements[0], elements[1]), 'dualtouch', {
        transform: transform,
        touches: event.touches,
        touchEvent: event
      });
    }
  }

  /**
   * handle touchend event
   *
   * 1. if there are tow touch points, then trigger 'dualtouchend'å¦
   *
   * 2. traverse every touch piontï¼
   * > if tapping, then trigger 'tap'.
   * If there is a tap 300 milliseconds before, then it's a 'doubletap'.
   * > if padding, then decide to trigger 'panend' or 'swipe'
   * > if pressing, then trigger 'pressend'.
   *
   * 3. remove listeners.
   *
   * @event
   * @param  {event} event
   */
  function touchendHandler(event) {

    if (Object.keys(gestures).length == 2) {
      var elements = [];
      for (var p in gestures) {
        elements.push(gestures[p].element);
      }
      fireEvent(getCommonAncestor(elements[0], elements[1]), 'dualtouchend', {
        touches: slice.call(event.touches),
        touchEvent: event
      });
    }

    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i];
      var id = touch.identifier;
      var gesture = gestures[id];

      if (!gesture) {
        continue
      }

      if (gesture.pressingHandler) {
        clearTimeout(gesture.pressingHandler);
        gesture.pressingHandler = null;
      }

      if (gesture.status === 'tapping') {
        gesture.timestamp = Date.now();
        // fire click, not tap.
        fireEvent(gesture.element, 'weex$tap', {
          touch: touch,
          touchEvent: event
        });

        if (lastTap && gesture.timestamp - lastTap.timestamp < 300) {
          fireEvent(gesture.element, 'doubletap', {
            touch: touch,
            touchEvent: event
          });
        }

        lastTap = gesture;
      }

      if (gesture.status === 'panning') {
        var now = Date.now();
        var duration = now - gesture.startTime;
        var displacementX = touch.clientX - gesture.startTouch.clientX;
        var displacementY = touch.clientY - gesture.startTouch.clientY;

        var velocity = Math.sqrt(gesture.velocityY * gesture.velocityY
          + gesture.velocityX * gesture.velocityX);
        var isSwipe = velocity > 0.5 && (now - gesture.lastTime) < 100;
        var extra = {
          duration: duration,
          isSwipe: isSwipe,
          velocityX: gesture.velocityX,
          velocityY: gesture.velocityY,
          displacementX: displacementX,
          displacementY: displacementY,
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: gesture.direction
        };

        fireEvent(gesture.element, 'panend', extra);
        if (isSwipe) {
          fireEvent(gesture.element, 'swipe', extra);
        }
      }

      if (gesture.status === 'pressing') {
        fireEvent(gesture.element, 'pressend', {
          touch: touch,
          touchEvent: event
        });
      }

      delete gestures[id];
    }

    if (Object.keys(gestures).length === 0) {
      docEl.removeEventListener('touchmove', touchmoveHandler, false);
      docEl.removeEventListener('touchend', touchendHandler, false);
      docEl.removeEventListener('touchcancel', touchcancelHandler, false);
    }
  }

  /**
   * handle touchcancel
   *
   * 1. if there are two touch points, then trigger 'dualtouchend'
   *
   * 2. traverse everty touch point:
   * > if pannnig, then trigger 'panend'
   * > if pressing, then trigger 'pressend'
   *
   * 3. remove listeners
   *
   * @event
   * @param  {event} event
   */
  function touchcancelHandler(event) {

    if (Object.keys(gestures).length == 2) {
      var elements = [];
      for (var p in gestures) {
        elements.push(gestures[p].element);
      }
      fireEvent(getCommonAncestor(elements[0], elements[1]), 'dualtouchend', {
        touches: slice.call(event.touches),
        touchEvent: event
      });
    }

    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i];
      var id = touch.identifier;
      var gesture = gestures[id];

      if (!gesture) {
        continue
      }

      if (gesture.pressingHandler) {
        clearTimeout(gesture.pressingHandler);
        gesture.pressingHandler = null;
      }

      if (gesture.status === 'panning') {
        fireEvent(gesture.element, 'panend', {
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event
        });
      }
      if (gesture.status === 'pressing') {
        fireEvent(gesture.element, 'pressend', {
          touch: touch,
          touchEvent: event
        });
      }
      delete gestures[id];
    }

    if (Object.keys(gestures).length === 0) {
      docEl.removeEventListener('touchmove', touchmoveHandler, true);
      docEl.removeEventListener('touchend', touchendHandler, true);
      docEl.removeEventListener('touchcancel', touchcancelHandler, true);
    }
  }

  if (!isInitialized) {
    docEl.addEventListener('touchstart', touchstartHandler, true);
    isInitialized = true;
  }

  var lib$1 = window.lib || (window.lib = {});

  /**
   * Version class.
   * @class lib.env~Version
   * @param {String} v - version number.
   */
  function Version (v) {
    Object.defineProperty(this, 'val', {
      value: v.toString(),
      enumerable: true
    });

    /**
     * larger than
     * @method gt
     * @param {String} v - version
     * @return {Boolean} result
     * @instance
     * @memberof Version
     */
    this.gt = function (v) {
      return Version.compare(this, v) > 0
    };

    /**
     * larger than or equal to.
     * @method gte
     * @param {String} v - version
     * @return {Boolean} result
     * @instance
     * @memberof Version
     */
    this.gte = function (v) {
      return Version.compare(this, v) >= 0
    };

    /**
     * less than.
     * @method lt
     * @param {String} v - version
     * @return {Boolean} result
     * @instance
     * @memberof Version
     */
    this.lt = function (v) {
      return Version.compare(this, v) < 0
    };

    /**
     * less than or equal to.
     * @method lte
     * @param {String} v - version
     * @return {Boolean} result
     * @instance
     * @memberof Version
     */
    this.lte = function (v) {
      return Version.compare(this, v) <= 0
    };

    /**
     * equal to.
     * @method eq
     * @param {String} v - version
     * @return {Boolean} equal to
     * @instance
     * @memberof Version
     */
    this.eq = function (v) {
      return Version.compare(this, v) === 0
    };
  }

  /**
   * version number string.
   * @method toString
   * @return {String} current version number string.
   * @instance
   * @memberof Version
   */
  Version.prototype.toString = function () {
    return this.val
  };

  /**
   * return current version number.
   * @method valueOf
   * @return {Boolean} version number
   * @instance
   * @memberof Version
   */
  Version.prototype.valueOf = function () {
    var v = this.val.split('.');
    var r = [];
    for (var i = 0; i < v.length; i++) {
      var n = parseInt(v[i], 10);
      if (isNaN(n)) {
        n = 0;
      }
      var s = n.toString();
      if (s.length < 5) {
        s = Array(6 - s.length).join('0') + s;
      }
      r.push(s);
      if (r.length === 1) {
        r.push('.');
      }
    }
    return parseFloat(r.join(''))
  };

  /**
   * compare two versions.
   * @method compare
   * @param {String} v1 - version1
   * @param {String} v2 - version2
   * @return {Number} 0 for equalityï¼-1 for less thanï¼1 for larger than.
   * @memberof Version
   */
  Version.compare = function (v1, v2) {
    v1 = v1.toString().split('.');
    v2 = v2.toString().split('.');
    for (var i = 0; i < v1.length || i < v2.length; i++) {
      var n1 = parseInt(v1[i], 10);
      var n2 = parseInt(v2[i], 10);
      if (window.isNaN(n1)) {
        n1 = 0;
      }
      if (window.isNaN(n2)) {
        n2 = 0;
      }
      if (n1 < n2) {
        return -1
      }
      else if (n1 > n2) {
        return 1
      }
    }
    return 0
  };

  /**
   * è§£æåæä½çæ¬å·
   * @method version
   * @param {string} v - éè¦è§£æççæ¬å·
   * @return {lib.env~Version} Versonå®ä¾
   * @memberof lib
   */
  lib$1.version = function (v) {
    return new Version(v)
  };

  var lib$2 = window.lib || (window.lib = {});
  var env = lib$2.env || (lib$2.env = {});

  var search = window.location.search.replace(/^\?/, '');
  env.params = {};
  if (search) {
    var params = search.split('&');
    for (var i$1 = 0; i$1 < params.length; i$1++) {
      params[i$1] = params[i$1].split('=');
      try {
        env.params[params[i$1][0]] = decodeURIComponent(params[i$1][1]);
      }
      catch (e) {
        env.params[params[i$1][0]] = params[i$1][1];
      }
    }
  }

  var lib$3 = window.lib || (window.lib = {});
  var env$1 = lib$3.env || (lib$3.env = {});

  var ua = window.navigator.userAgent;
  var match;

  /**
   * os
   */

  match = ua.match(/Windows\sPhone\s(?:OS\s)?([\d.]+)/);
  if (match) {
    /**
     * @type {Object}
     * @memberof lib.env
     * @property {String} name - os name, e.g. Android/AndroidPad/iPhone/iPod/iPad/Windows Phone/unknown, etc.
     * @property {lib.env~Version} version - os version.
     * @property {Boolean} isWindowsPhone
     * @property {Boolean} isIPhone - is iPhone/iTouch
     * @property {Boolean} isIPad
     * @property {Boolean} isIOS
     * @property {Boolean} isAndroid
     * @property {Boolean} isAndroidPad
     */
    env$1.os = {
      name: 'Windows Phone',
      isWindowsPhone: true,
      version: match[1]
    };
  }
  else if (!!ua.match(/Safari/) && (match = ua.match(/Android[\s/]([\d.]+)/))) {
    env$1.os = {
      version: match[1]
    };

    if ((ua.match(/Mobile\s+Safari/))) {
      env$1.os.name = 'Android';
      env$1.os.isAndroid = true;
    }
    else {
      env$1.os.name = 'AndroidPad';
      env$1.os.isAndroidPad = true;
    }
  }
  else if ((match = ua.match(/(iPhone|iPad|iPod)/))) {
    var name = match[1];

    match = ua.match(/OS ([\d_.]+) like Mac OS X/);

    env$1.os = {
      name: name,
      isIPhone: (name === 'iPhone' || name === 'iPod'),
      isIPad: name === 'iPad',
      isIOS: true,
      version: match && match[1].split('_').join('.') || ''
    };
  }
  else {
    env$1.os = {
      name: 'unknown',
      version: '0.0.0'
    };
  }

  if (lib$3.version) {
    env$1.os.version = lib$3.version(env$1.os.version);
  }

  /**
   * browser
   */

  match = ua.match(/(?:UCWEB|UCBrowser\/)([\d.]+)/);

  if (match) {
    /**
     * @type {Object}
     * @memberof env
     * @property {String} name - browser nameï¼e.g. UC/QQ/Firefox/Chrome/Android/Safari/iOS Webview/Chrome Webview/IE/IEMobile/unknown, etc.
     * @property {env~Version} version - browser version.
     * @property {Boolean} isUC
     * @property {Boolean} isQQ
     * @property {Boolean} isIE
     * @property {Boolean} isIEMobile
     * @property {Boolean} isIELikeWebkit
     * @property {Boolean} isChrome
     * @property {Boolean} isAndroid
     * @property {Boolean} isSafari
     * @property {Boolean} isWebview
     */
    env$1.browser = {
      name: 'UC',
      isUC: true,
      version: match[1]
    };
  }
  else if ((match = ua.match(/MQQBrowser\/([\d.]+)/))) {
    env$1.browser = {
      name: 'QQ',
      isQQ: true,
      version: match[1]
    };
  }
  else if ((match = ua.match(/Firefox\/([\d.]+)/))) {
    env$1.browser = {
      name: 'Firefox',
      isFirefox: true,
      version: match[1]
    };
  }
  else if ((match = ua.match(/MSIE\s([\d.]+)/))
    || (match = ua.match(/IEMobile\/([\d.]+)/))) {
    env$1.browser = {
      version: match[1]
    };

    if (ua.match(/IEMobile/)) {
      env$1.browser.name = 'IEMobile';
      env$1.browser.isIEMobile = true;
    }
    else {
      env$1.browser.name = 'IE';
      env$1.browser.isIE = true;
    }

    if (ua.match(/Android|iPhone/)) {
      env$1.browser.isIELikeWebkit = true;
    }
  }
  else if ((match = ua.match(/(?:Chrome|CriOS)\/([\d.]+)/))) {
    env$1.browser = {
      name: 'Chrome',
      isChrome: true,
      version: match[1]
    };

    if (ua.match(/Version\/[\d+.]+\s*Chrome/)) {
      env$1.browser.name = 'Chrome Webview';
      env$1.browser.isWebview = true;
    }
  }
  else if (!!ua.match(/Safari/) && (match = ua.match(/Android[\s/]([\d.]+)/))) {
    env$1.browser = {
      name: 'Android',
      isAndroid: true,
      version: match[1]
    };
  }
  else if (ua.match(/iPhone|iPad|iPod/)) {
    if (ua.match(/Safari/)) {
      match = ua.match(/Version\/([\d.]+)/);
      env$1.browser = {
        name: 'Safari',
        isSafari: true,
        version: match && match[1] || ''
      };
    }
    else {
      match = ua.match(/OS ([\d_.]+) like Mac OS X/);
      env$1.browser = {
        name: 'iOS Webview',
        isWebview: true,
        version: match && match[1].replace(/_/g, '.') || ''
      };
    }
  }
  else {
    env$1.browser = {
      name: 'unknown',
      version: '0.0.0'
    };
  }

  if (lib$3.version) {
    env$1.browser.version = lib$3.version(env$1.browser.version);
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var toString$1 = Object.prototype.toString;

  /**
   * Strict object type check. Only returns true
   * for plain JavaScript objects.
   *
   * @param {*} obj
   * @return {Boolean}
   */
  var OBJECT_STRING = '[object Object]';
  function isPlainObject (obj) {
    return toString$1.call(obj) === OBJECT_STRING
  }

  var ARRAY_STRING = '[object Array]';
  function isArray (arr) {
    return toString$1.call(arr) === ARRAY_STRING
  }

  function isPrimitive (val) {
    return typeof value === 'string'
      || typeof value === 'number'
      || typeof value === 'symbol'
      || typeof value === 'boolean'
  }

  function isDef (val) {
    return val !== undefined && val !== null
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  /**
   * Mix properties into target object.
   * the rightest object's value has the highest priority.
   */
  function extend (to) {
    var args = [], len = arguments.length - 1;
    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    if (!args || args.length <= 0) {
      return to
    }
    args.forEach(function (from) {
      if (typeof from !== 'object') {
        return
      }
      for (var key in from) {
        to[key] = from[key];
      }
    });
    return to
  }
  /**
   * Mix truthy or '' property values into target object.
   * mostly for merging styles. (that's why '' is falsy but still should be counted in.)
   * the rightest object's value has the highest priority.
   */
  function extendTruthy (to) {
    var args = [], len = arguments.length - 1;
    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    if (!args || args.length <= 0) {
      return to
    }
    args.forEach(function (from) {
      if (typeof from !== 'object') {
        return
      }
      var i;
      for (var key in from) {
        if (((i = from[key]) || i === '' || i === 0) && i !== 'undefined') {
          to[key] = i;
        }
      }
    });
    return to
  }
  /**
   * Mix specified properties into target object.
   */
  function extendKeys (to, from, keys) {
    if ( from === void 0 ) from = {};

    (keys || []).forEach(function (key) {
      from && (to[key] = from[key]);
    });
    return to
  }
  /**
   * Extract specified properties from src to target object.
   */
  function extractKeys (to, from, keys) {
    if ( from === void 0 ) from = {};

    if (!from) {
      return to
    }
    (keys || []).forEach(function (key) {
      from && (to[key] = from[key]);
      from && (delete from[key]);
    });
    return to
  }
  /**
   * Simple bind, faster than native
   *
   * @param {Function} fn
   * @param {Object} ctx
   * @return {Function}
   */
  function bind (fn, ctx) {
    return function (a) {
      var l = arguments.length;
      return l ? l > 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx)
    }
  }
  /**
   * Only call the func the last time before it's not that frequently called.
   */
  function debounce (func, wait) {
    var timerId;
    return function () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      clearTimeout(timerId);
      timerId = setTimeout(function later () {
        timerId = null;
        func.apply(null, args);
      }, wait);
    }
  }
  /**
   * Only call the func the first time before a series frequently function calls happen.
   */
  function depress (func, wait) {
    var timerId;

    function later () {
      timerId = null;
    }
    return function () {
      if (!timerId) {
        func.apply();
      }
      clearTimeout(timerId);
      timerId = setTimeout(later, wait);
    }
  }
  /**
   * Only call the func every time after a wait milliseconds if it's too frequently called.
   */
  function throttle (func, wait, callLastTime) {
    var last = 0;
    var lastTimer = null;
    var lastTimeDuration = wait + (wait > 25 ? wait : 25); // plus half wait time.
    return function () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      var context = this;
      var time = new Date().getTime();
      if (time - last > wait) {
        if (callLastTime) {
          lastTimer && clearTimeout(lastTimer);
          lastTimer = setTimeout(function () {
            lastTimer = null;
            func.apply(context, args);
          }, lastTimeDuration);
        }
        func.apply(context, args);
        last = time;
      }
    }
  }
  // direction: 'l' | 'r', default is 'r'
  // num: how many times to loop, should be a positive integer
  function loopArray (arr, num, direction) {
    if (!isArray(arr)) {
      return
    }
    var isLeft = (direction + '').toLowerCase() === 'l';
    var len = arr.length;
    num = num % len;
    if (num < 0) {
      num = -num;
      isLeft = !isLeft;
    }
    if (num === 0) {
      return arr
    }
    var lp, rp;
    if (isLeft) {
      lp = arr.slice(0, num);
      rp = arr.slice(num);
    }
    else {
      lp = arr.slice(0, len - num);
      rp = arr.slice(len - num);
    }
    return rp.concat(lp)
  }

  /**
   * Create a cached version of a pure function.
   */
  function cached (fn) {
    var cache = Object.create(null);
    return function cachedFn (str) {
      var hit = cache[str];
      return hit || (cache[str] = fn(str))
    }
  }
  /**
   * Camelize a hyphen-delmited string.
   */
  var camelizeRE = /-(\w)/g;
  var camelize = cached(function (str) {
    return str.replace(camelizeRE, function (_, c) { return c.toUpperCase(); })
  });
  function camelizeKeys (obj) {
    var res = {};
    for (var key in obj) {
      res[camelize(key)] = obj[key];
    }
    return res
  }
  /**
   * Capitalize a string.
   */
  var capitalize = cached(function (str) {
    return str.charAt(0).toUpperCase() + str.slice(1)
  });
  /**
   * Hyphenate a camelCase string.
   */
  var hyphenateRE = /([^-])([A-Z])/g;
  var hyphenate = cached(function (str) {
    return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase()
  });
  function hyphenateKeys (obj) {
    var res = {};
    for (var key in obj) {
      res[hyphenate(key)] = obj[key];
    }
    return res
  }
  var vendorsReg = /webkit-|moz-|o-|ms-/;
  function hyphenateStyleKeys (obj) {
    var res = {};
    for (var key in obj) {
      var hk = hyphenate(key).replace(vendorsReg, function ($0) {
        return '-' + $0
      });
      res[hk] = obj[key];
    }
    return res
  }
  function camelToKebab (name) {
    if (!name) {
      return ''
    }
    return name.replace(/([A-Z])/g, function (g, g1) {
      return ("-" + (g1.toLowerCase()))
    })
  }
  function appendCss (css, cssId, replace) {
    var style = document.getElementById(cssId);
    if (style && replace) {
      style.parentNode.removeChild(style);
      style = null;
    }
    if (!style) {
      style = document.createElement('style');
      style.type = 'text/css';
      cssId && (style.id = cssId);
      document.getElementsByTagName('head')[0].appendChild(style);
    }
    style.appendChild(document.createTextNode(css));
  }
  function nextFrame (callback) {
    var runner = window.requestAnimationFrame
      || window.webkitRequestAnimationFrame
      || window.mozRequestAnimationFrame
      || (function (cb) { return setTimeout(cb, 16); });
    runner(callback);
  }
  function toCSSText (object) {
    if (!object) {
      return
    }
    var obj = hyphenateStyleKeys(object);
    var cssText = '';
    for (var key in obj) {
      cssText += key + ":" + (obj[key]) + ";";
    }
    return cssText
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * viewport priority:
   *
   * 1. meta weex-viewport (developer custom)
   * 2. setViewport(config) := config.width (private code) @deprecated
   * 3. 750 (buid time)
   *
   */
  var isInited = false;
  var DEFAULT_VIEWPORT_WIDTH = 750;

  /**
   * get viewport width from weex-viewport meta.
   */
  var envViewportWidth = parseInt(750);
  var width = !isNaN(envViewportWidth) && envViewportWidth > 0
    ? envViewportWidth
    : DEFAULT_VIEWPORT_WIDTH;

  var wxViewportMeta = document.querySelector('meta[name="weex-viewport"]');
  var metaWidth = wxViewportMeta && parseInt(wxViewportMeta.getAttribute('content'));
  if (metaWidth && !isNaN(metaWidth) && metaWidth > 0) {
    width = metaWidth;
  }

  var dpr = 0;
  var screenWidth = 0;
  var screenHeight = 0;

  var info = {
    dpr: dpr,
    scale: 0,
    rootValue: 0,
    rem: 0,
    deviceWidth: 0,
    deviceHeight: 0
  };

  /**
   * set root font-size for rem units. If already been set, just skip this.
   */
  function setRootFont (width, viewportWidth, force) {
    var doc = window.document;
    // let rem = width * 750 / viewportWidth / 10
    var fontSize = width / 750 * (750 / 40);
    fontSize = Math.min(Math.max(fontSize, 12), 18);
    var rem = fontSize / 0.4266666666666667;
    if (!doc.documentElement) { return }
    var rootFontSize = doc.documentElement.style.fontSize;
    if (!rootFontSize || force) {
      doc.documentElement.style.fontSize = rem + 'px';
    }
    info.rem = rem;
    info.rootValue = viewportWidth / 10;
  }

  function setMetaViewport (width) {
    if (!wxViewportMeta) {
      wxViewportMeta = document.createElement('meta');
      wxViewportMeta.setAttribute('name', 'weex-viewport');
      var firstMeta = document.querySelector('meta');
      var head = firstMeta && firstMeta.parentElement
        || document.documentElement.children[0];
      firstMeta
        ? head.insertBefore(wxViewportMeta, firstMeta)
        : head.appendChild(wxViewportMeta);
    }
    else {
      var metaWidth = parseInt(wxViewportMeta.getAttribute('content'));
      if (metaWidth === width) {
        return
      }
    }
    wxViewportMeta.setAttribute('content', width + '');
  }

  /**
   * export viewport info.
   */
  function init (viewportWidth) {
    if ( viewportWidth === void 0 ) viewportWidth = width;

    if (!isInited) {
      isInited = true;

      var doc = window.document;
      if (!doc) {
        console.error('[vue-render] window.document is undfined.');
        return
      }
      if (!doc.documentElement) {
        console.error('[vue-render] document.documentElement is undfined.');
        return
      }

      dpr = info.dpr = window.devicePixelRatio;
      screenWidth = doc.documentElement.clientWidth;
      screenHeight = doc.documentElement.clientHeight;

      var resetDeviceHeight = function () {
        screenHeight = doc.documentElement.clientHeight;
        var env = window.weex && window.weex.config.env;
        info.deviceHeight = env.deviceHeight = screenHeight * dpr;
      };

      // set root font for rem.
      setRootFont(screenWidth, viewportWidth);
      setMetaViewport(viewportWidth);

      window.addEventListener('resize', resetDeviceHeight);

      /**
       * why not to use window.screen.width to get screenWidth ? Because in some
       * old webkit browser on android system it get the device pixel width, which
       * is the screenWidth multiply by the device pixel ratio.
       * e.g. ip6 -> get 375 for virtual screen width.
       */
      var scale = screenWidth / viewportWidth;
      /**
       * 1. if set initial/maximum/mimimum-scale some how the page will have a bounce
       * effect when user drag the page towards horizontal axis.
       * 2. Due to compatibility reasons, not to use viewport meta anymore.
       * 3. viewport meta should always be:
       *    <meta name="viewport"
       *      content="width=device-width,
       *      initial-scale=1,
       *      maximum-scale=1,
       *      user-scalable=no" />
       */
      extend(info, {
        scale: scale,
        rootValue: viewportWidth / 10,
        deviceWidth: screenWidth * dpr,
        deviceHeight: screenHeight * dpr
      });
    }

    return info
  }

  /**
   * reset viewport width and scale.
   * @return new scale.
   */
  function resetViewport (viewportWidth) {
    setRootFont(screenWidth, viewportWidth, true);
    setMetaViewport(viewportWidth);
    var newScale = screenWidth / viewportWidth;
    info.scale = newScale;
    return newScale
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function extend$1 (to) {
    var args = [], len = arguments.length - 1;
    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    if (!args || args.length <= 0) { return to }
    args.forEach(function (from) {
      if (typeof from !== 'object') { return }
      for (var key in from) {
        to[key] = from[key];
      }
    });
    return to
  }

  // if support passive event listeners.
  var _supportsPassive = false;
  try {
    document.createElement('div').addEventListener('test', function (_) {}, {
      get passive () {
        _supportsPassive = true;
      }
    });
  }
  catch (e) {
    // do nothing.
  }
  function supportsPassive () {
    return _supportsPassive
  }

  /**
   * Create Event.
   * @param {DOMString} type
   * @param {Object} props
   */
  function createEvent (target, type, props) {
    var event = new Event(type, { bubbles: false });

    extend$1(event, props);
    //  phantomjs don't support customer event
    if (window.navigator.userAgent.toLowerCase().indexOf('phantomjs') !== -1) {
      return event
    }
    try {
      Object.defineProperty(event, 'target', {
        enumerable: true,
        value: target
      });
    }
    catch (err) {
      return extend$1(event, { target: target })
    }
    return event
  }

  /**
   * Create a bubbable Event.
   * @param {DOMString} type
   * @param {Object} props
   */
  function createBubblesEvent (target, type, props) {
    var event = new Event(type, { bubbles: true });
    extend$1(event, props);
    //  phantomjs don't support customer event
    if (window.navigator.userAgent.toLowerCase().indexOf('phantomjs') !== -1) {
      return event
    }
    try {
      Object.defineProperty(event, 'target', {
        enumerable: true,
        value: target
      });
    }
    catch (err) {
      return extend$1(event, { target: target })
    }
    return event
  }

  /**
   * Create Custom Event.
   * @param {DOMString} type
   * @param {Object} props
   */
  function createCustomEvent (target, type, props) {
    // compatibility: http://caniuse.com/#search=customevent
    // const event = new CustomEvent(type)
    var event = document.createEvent('CustomEvent');
    event.initCustomEvent(type, false, true, {});
    // event.preventDefault()
    // event.stopPropagation()

    extend$1(event, props);

    // event.target is readonly
    try {
      Object.defineProperty(event, 'target', {
        enumerable: true,
        value: target || null
      });
    }
    catch (err) {
      return extend$1(event, { target: target || null })
    }

    return event
  }

  /**
   * dispatch a event on a HTML element.
   * @param  {HTMLElement} elm
   * @param  {Event} type event name.
   * @param  {Object} data extra data.
   */
  function dispatchNativeEvent (elm, type, data) {
    elm.dispatchEvent(createEvent(elm, type, data));
  }

  function mapFormEvents (context) {
    var eventMap = {}
    ;['input', 'change', 'focus', 'blur', 'return'].forEach(function (type) {
      eventMap[type] = function (event) {
        if (context.$el) {
          event.value = context.$el.value;
          // for the sake of v-model, a input event must be emitted.
          if (type === 'input') {
            context.$emit(type, event);
          }
        }
      };
    });
    return eventMap
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var scaleStyles = [
    'width',
    'height',
    'left',
    'right',
    'top',
    'bottom',
    'border',
    'borderRadius',
    'borderWidth',
    'borderLeft',
    'borderRight',
    'borderTop',
    'borderBottom',
    'borderLeftWidth',
    'borderRightWidth',
    'borderTopWidth',
    'borderBottomWidth',
    'margin',
    'marginLeft',
    'marginRight',
    'marginTop',
    'marginBottom',
    'padding',
    'paddingLeft',
    'paddingRight',
    'paddingTop',
    'paddingBottom',
    'fontSize',
    'lineHeight',
    'transform',
    'webkitTransform',
    'WebkitTransform',
    'mozTransform',
    'MozTransform',
    'itemSize'
  ];

  var vendorReg = /webkit|moz/i;
  function hyphen (key) {
    return hyphenate(key.replace(vendorReg, function ($0) {
      return ("-" + ($0.toLowerCase()) + "-")
    }))
  }

  function getAllStyles () {
    return Object.keys(scaleStyles.reduce(function (pre, key) {
      pre[key] = 1;
      pre[hyphen(key)] = 1;
      return pre
    }, {}))
  }

  var allStyles = getAllStyles();

  var config = {
    scrollableTypes: ['scroller', 'list', 'waterfall', 'recycle-list'],
    gestureEvents: [
      'panstart',
      'panmove',
      'panend',
      'swipe',
      'longpress',
      'tap'
    ],
    // these components should not bind events with .native.
    weexBuiltInComponents: [
      'div',
      'container',
      'text',
      'image',
      'gif',
      'img',
      'cell',
      'a'
    ],
    bindingStyleNamesForPx2Rem: allStyles
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * whether ct contains el.
   * @param {HTMLElement} container
   * @param {HTMLElement} target
   */
  function contains (container, target, includeSelf) {
    if (includeSelf && container === target) {
      return true
    }
    return container.contains
      ? container.contains(target) && (container !== target)
      : container.compareDocumentPosition(target) & 16 !== 0
  }

  function insideA (el) {
    if (typeof el._insideA === 'boolean') {
      return el._insideA
    }
    var parent = el.parentElement;
    var parents = [];
    var checkParents = function (inside) {
      for (var i = 0, l = parents.length; i < l; i++) {
        parents[i]._insideA = inside;
      }
    };
    var check = function (inside) {
      el._insideA = inside;
      checkParents(inside);
      return inside
    };
    while (parent !== document.body) {
      if (parent.tagName.toLowerCase() === 'a') {
        return check(true)
      }
      if (typeof parent._insideA === 'boolean') {
        return check(parent._insideA)
      }
      parents.push(parent);
      parent = parent.parentElement;
    }
    return check(false)
  }

  /**
   * get parent scroller vComponent.
   * return a VueComponent or null.
   */
  function getParentScroller (vm) {
    if (!vm) { return null }
    if (vm._parentScroller) {
      return vm._parentScroller
    }
    function _getParentScroller (parent) {
      if (!parent) { return }
      if (config.scrollableTypes.indexOf(parent.weexType) > -1) {
        vm._parentScroller = parent;
        return parent
      }
      return _getParentScroller(parent.$parent)
    }
    return _getParentScroller(vm.$parent)
  }

  /**
   * get scroller's element.
   * @param vm {HTMLElement | VueCOmponent} vm or element.
   * return the element or document.body.
   */
  function getParentScrollerElement (vm) {
    if (!vm) { return null }
    var el = vm instanceof HTMLElement ? vm : vm.$el;
    if (!el || el.nodeType !== 1) { return }
    if (vm._parentScroller) {
      return vm._parentScroller
    }
    function _getParentScroller (parent) {
      if (!parent) { return }
      var tagName = parent.tagName.toLowerCase();
      if (tagName === 'body'
        || (tagName === 'main'
        && config.scrollableTypes.indexOf(parent.getAttribute('weex-type')) > -1)
      ) {
        vm._parentScroller = parent;
        return parent
      }
      return _getParentScroller(parent.parentElement)
    }
    return _getParentScroller(el)
  }

  function horizontalBalance (rect, ctRect) {
    return rect.left < ctRect.right && rect.right > ctRect.left
  }

  function verticalBalance (rect, ctRect) {
    return rect.top < ctRect.bottom && rect.bottom > ctRect.top
  }

  /**
   * return a data array with two boolean value, which are:
   * 1. visible in current ct's viewport.
   * 2. visible with offset in current ct's viewport.
   */
  function hasIntersection (rect, ctRect, dir, offset) {
    dir = dir || 'up';
    var isHorizontal = dir === 'left' || dir === 'right';
    var isVertical = dir === 'up' || dir === 'down';
    if (isHorizontal && !verticalBalance(rect, ctRect)) {
      return [false, false]
    }
    if (isVertical && !horizontalBalance(rect, ctRect)) {
      return [false, false]
    }
    offset = offset ? parseInt(offset) * weex.config.env.scale : 0;
    switch (dir) {
      case 'up':
        return [
          rect.top < ctRect.bottom && rect.bottom > ctRect.top,
          rect.top < ctRect.bottom + offset && rect.bottom > ctRect.top - offset
        ]
      case 'down':
        return [
          rect.bottom > ctRect.top && rect.top < ctRect.bottom,
          rect.bottom > ctRect.top - offset && rect.top < ctRect.bottom + offset
        ]
      case 'left':
        return [
          rect.left < ctRect.right && rect.right > ctRect.left,
          rect.left < ctRect.right + offset && rect.right > ctRect.left - offset
        ]
      case 'right':
        return [
          rect.right > ctRect.left && rect.left < ctRect.right,
          rect.right > ctRect.left - offset && rect.left < ctRect.right + offset
        ]
    }
  }

  /**
   * isElementVisible
   * @param  {HTMLElement}  el    a dom element.
   * @param  {HTMLElement}  container  optional, the container of this el.
   */
  function isElementVisible (el, container, dir, offset) {
    if (!el.getBoundingClientRect) { return false }
    var bodyRect = {
      top: 0,
      left: 0,
      bottom: window.innerHeight,
      right: window.innerWidth
    };
    var ctRect = (container === window || container === document.body)
      ? bodyRect : container
        ? container.getBoundingClientRect() : bodyRect;
    return hasIntersection(el.getBoundingClientRect(), ctRect, dir, offset)
  }

  // to trigger the appear/disappear event.
  function triggerAppearEvent (elm, evt, dir) {
    dispatchNativeEvent(elm, evt, {
      direction: dir
    });
  }

  /**
   * get all event listeners. including bound handlers in all parent vnodes.
   */
  function getEventHandlers (context) {
    var vnode = context.$vnode;
    var handlers = {};
    var attachedVnodes = [];
    while (vnode) {
      attachedVnodes.push(vnode);
      vnode = vnode.parent;
    }
    attachedVnodes.forEach(function (vnode) {
      var parentListeners = vnode.componentOptions && vnode.componentOptions.listeners;
      var dataOn = vnode.data && vnode.data.on;
      extend(handlers, parentListeners, dataOn);
    });
    return handlers
  }

  function getAppearOffset (el) {
    return el && el.getAttribute('appear-offset')
  }

  function updateWatchAppearList (container) {
    container._watchAppearList = Array.prototype.slice.call(
      container.querySelectorAll('[weex-appear]'));
  }

  /**
   * inject removeChild function to watch disappear and offsetDisappear events.
   */
  if (!window._rmInjected) {
    window._rmInjected = true;
    var nativeRemove = HTMLElement.prototype.removeChild;
    HTMLElement.prototype.removeChild = function (el) {
      el._visible && triggerAppearEvent(el, 'disappear', null);
      el._offsetVisible && triggerAppearEvent(el, 'offsetDisappear', null);
      nativeRemove.apply(this, arguments);
    };
  }

  /**
   * Watch element's visibility to tell whether should trigger a appear/disappear
   * event in scroll handler.
   */
  function watchAppear (context, fireNow) {
    var el = context && context.$el;
    if (!el || el.nodeType !== 1) { return }

    var isWindow = false;
    var container = getParentScrollerElement(context);
    if (!container) {
      return
    }
    if (container === document.body) {
      isWindow = true;
    }
    /**
     * Code below will only exec once for binding scroll handler for parent container.
     */
    var scrollHandler = container._scrollHandler;
    if (!scrollHandler) {
      scrollHandler = container._scrollHandler = function (event$$1) {
        updateWatchAppearList(container);
        /**
         * detect scrolling direction.
         * direction only support up & down yet.
         * TODO: direction support left & right.
         */
        var scrollTop = isWindow ? window.pageYOffset : container.scrollTop;
        var preTop = container._lastScrollTop;
        container._lastScrollTop = scrollTop;
        var dir = (scrollTop < preTop
          ? 'down' : scrollTop > preTop
            ? 'up' : container._prevDirection) || null;
        container._prevDirection = dir;
        var watchAppearList = container._watchAppearList || [];
        var len = watchAppearList.length;
        for (var i = 0; i < len; i++) {
          var el = watchAppearList[i];
          var appearOffset = getAppearOffset(el);
          var visibleData = isElementVisible(el, container, dir, appearOffset);
          detectAppear(el, visibleData, dir);
        }
      };
      container.addEventListener('scroll', throttle(scrollHandler, 100, true));
    }
    if (fireNow) {
      context.$nextTick(scrollHandler);
    }
  }

  /**
   * decide whether to trigger a appear/disappear event.
   * @param {VueComponent} context
   * @param {boolean} visible
   * @param {string} dir
   */
  function detectAppear (el, visibleData, dir, appearOffset) {
    if ( dir === void 0 ) dir = null;

    if (!el) { return }
    var visible = visibleData[0];
    var offsetVisible = visibleData[1];
    /**
     * No matter it's binding appear/disappear or both of them. Always
     * should test it's visibility and change the el._visible.
     * If neigher has been bound, then ignore it.
     */
    /**
     * if the component hasn't appeared for once yet, then it shouldn't trigger
     * a disappear event at all.
     */
    if (el._appearedOnce || visible) {
      if (el._visible !== visible) {
        el._visible = visible;
        if (visible && !el._appearedOnce) {
          el._appearedOnce = true;
        }
        var evtName = visible ? 'appear' : 'disappear';
        if (el.getAttribute(("data-evt-" + evtName)) === '') {
          triggerAppearEvent(el, evtName, dir);
        }
      }
    }
    if (el._offsetAppearedOnce || offsetVisible) {
      if (el._offsetVisible !== offsetVisible) {
        el._offsetVisible = offsetVisible;
        if (offsetVisible && !el._offsetAppearedOnce) {
          el._offsetAppearedOnce = true;
        }
        var evt = offsetVisible ? ['offset-appear', 'offsetAppear'] : ['offset-disappear', 'offsetDisappear'];
        if (el.getAttribute(("data-evt-" + (evt[0]))) === '') {
          triggerAppearEvent(el, evt[1], dir);
        }
      }
    }
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var lazyloadAttr = 'data-img-src';
  var placeholderAttr = 'placeholder';

  function preLoadImg (src,
    loadCallback,
    errorCallback) {
    var img = new Image();
    img.onload = loadCallback ? loadCallback.bind(img) : null;
    img.onerror = errorCallback ? errorCallback.bind(img) : null;
    img.src = src;
  }

  function applySrc (item, src, placeholderSrc) {
    if (!src) { return }
    function finallCb () {
      delete item._src_loading;
    }

    if (window._processImgSrc) {
      src = window._processImgSrc(src, item);
      if (placeholderSrc) {
        placeholderSrc = window._processImgSrc(placeholderSrc, item);
      }
    }

    if (item._src_loading === src) {
      return
    }

    /**
     * 1. apply src immediately in case javscript blocks the image loading
     *  before next tick.
     */
    item.style.backgroundImage = "url(" + (src || '') + ")";
    item.removeAttribute(lazyloadAttr);
    /**
     * 2. then load the img src with Image constructor (but would not post
     *  a request again), just to trigger the load event.
     */
    item._src_loading = src;
    preLoadImg(src, function (evt) {
      item.style.backgroundImage = "url(" + (src || '') + ")";
      var ref = this;
      var naturalWidth = ref.width;
      var naturalHeight = ref.height;
      var params = {
        success: true,
        size: { naturalWidth: naturalWidth, naturalHeight: naturalHeight }
      };
      dispatchNativeEvent(item, 'load', params);
      finallCb();
    }, function (evt) {
      var params = {
        success: false,
        size: { naturalWidth: 0, naturalHeight: 0 }
      };
      dispatchNativeEvent(item, 'load', params);
      if (placeholderSrc) {
        preLoadImg(placeholderSrc, function () {
          item.style.backgroundImage = "url(" + (placeholderSrc || '') + ")";
        });
      }
      finallCb();
    });
  }

  function getCtScroller (el) {
    if (!el) { return }
    var scroller = el._ptScroller;
    if (!scroller) {
      var pt = el.parentElement;
      while (pt && pt !== document.body) {
        if ((pt.className + '' || '').match(/weex-list|weex-scroller|weex-waterfall/)) {
          scroller = pt;
          break
        }
        pt = pt.parentElement;
      }
      scroller = pt;
      el._ptScroller = pt;
    }
    return scroller
  }

  function fireLazyload (el, ignoreVisibility) {
    if (Array.isArray(el)) {
      return el.forEach(function (ct) { return fireLazyload(ct); })
    }
    el = el || document.body;
    if (!el) { return }
    var imgs = (el || document.body).querySelectorAll(("[" + lazyloadAttr + "]"));
    if (el.getAttribute(lazyloadAttr)) { imgs = [el]; }
    for (var i = 0; i < imgs.length; i++) {
      var img = imgs[i];
      if (typeof ignoreVisibility === 'boolean' && ignoreVisibility) {
        applySrc(img, img.getAttribute(lazyloadAttr), img.getAttribute(placeholderAttr));
      }
      else if (isElementVisible(img, getCtScroller(el))[0]) {
        applySrc(img, img.getAttribute(lazyloadAttr), img.getAttribute(placeholderAttr));
      }
    }
  }

  /**
   * cache a throttle lazyload function for every container element
   * once for different wait times separate.
   *   the architecture of this cache:
   *      cache: {
   *        el.id: {
   *          wait: throttledFunction () { ... }
   *        }
   *      }
   */
  var cache = {};
  var _uid$2 = 1;
  function getThrottleLazyload (wait, el) {
    if ( wait === void 0 ) wait = 16;
    if ( el === void 0 ) el = document.body;

    var id = +(el && el.dataset.throttleId);
    if (isNaN(id) || id <= 0) {
      id = _uid$2++;
      el && el.setAttribute('data-throttle-id', id + '');
    }

    !cache[id] && (cache[id] = {});
    var throttled = cache[id][wait] ||
      (cache[id][wait] = throttle(
        fireLazyload.bind(this, el),
        parseFloat(wait),
        // true for callLastTime.
        // to trigger once more time after the last throttled function called with a little more delay.
        true)
      );
    return throttled
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var bindingStyleNamesForPx2Rem = config.bindingStyleNamesForPx2Rem;

  // whether to support using 0.5px to paint 1px width border.
  var _supportHairlines;
  function supportHairlines () {
    if (typeof _supportHairlines === 'undefined') {
      var dpr = window.devicePixelRatio;
      if (dpr && dpr >= 2 && document.documentElement) {
        var docElm = document.documentElement;
        var testElm = document.createElement('div');
        var fakeBody = document.createElement('body');
        var beforeNode = docElm.firstElementChild || docElm.firstChild;
        testElm.style.border = '0.5px solid transparent';
        fakeBody.appendChild(testElm);
        docElm.insertBefore(fakeBody, beforeNode);
        _supportHairlines = testElm.offsetHeight === 1;
        docElm.removeChild(fakeBody);
      }
      else {
        _supportHairlines = false;
      }
    }
    return _supportHairlines
  }

  var support = null;

  function supportSticky () {
    if (support !== null) {
      return support
    }
    var element = window.document.createElement('div');
    var elementStyle = element.style;
    elementStyle.cssText = 'position:-webkit-sticky;position:sticky;';
    support = elementStyle.position.indexOf('sticky') !== -1;
    return support
  }

  /**
   * get transformObj
   */
  function getTransformObj (elm) {
    var styleObj = {};
    if (!elm) { return styleObj }
    var transformStr = elm.style.webkitTransform
      || elm.style.mozTransform
      || elm.style.transform;
    if (transformStr && transformStr.match(/(?: *(?:translate|rotate|scale)[^(]*\([^(]+\))+/i)) {
      styleObj = transformStr.trim().replace(/, +/g, ',').split(' ').reduce(function (pre, str) {
        ['translate', 'scale', 'rotate'].forEach(function (name) {
          if (new RegExp(name, 'i').test(str)) {
            pre[name] = str;
          }
        });
        return pre
      }, {});
    }
    return styleObj
  }

  /**
   * translate a transform string from a transformObj.
   */
  function getTransformStr (obj) {
    return Object.keys(obj).reduce(function (pre, key) {
      return pre + obj[key] + ' '
    }, '')
  }

  /**
   * add transform style to element.
   * @param {HTMLElement} elm
   * @param {object} style: transform object, format is like this:
   *   {
   *     translate: 'translate3d(2px, 2px, 2px)',
   *     scale: 'scale(0.2)',
   *     rotate: 'rotate(30deg)'
   *   }
   * @param {boolean} replace: whether to replace all transform properties.
   */
  function addTransform (elm, style, replace) {
    if (!style) { return }
    var styleObj = {};
    if (!replace) {
      styleObj = getTransformObj(elm);
    }
    for (var key in style) {
      var val = style[key];
      if (val) {
        styleObj[key] = val;
      }
    }
    var resStr = getTransformStr(styleObj);
    elm.style.webkitTransform = resStr;
    elm.style.mozTransform = resStr;
    elm.style.transform = resStr;
  }

  /**
   * copy a transform behaviour from one element to another.
   * key could be: 'translate' | 'scale' | 'rotate'
   */
  function copyTransform (from, to, key) {
    var str;
    if (!key) {
      str = from.style.webkitTransform
        || from.style.mozTransform
        || from.style.transform;
    }
    else {
      var fromObj = getTransformObj(from);
      if (!fromObj[key]) { return }
      var toObj = getTransformObj(to);
      toObj[key] = fromObj[key];
      str = getTransformStr(toObj);
    }
    to.style.webkitTransform = str;
    to.style.mozTransform = str;
    to.style.transform = str;
  }

  /**
   * get color's r, g, b value.
   * @param {string} color support all kinds of value of color.
   */
  function getRgb (color) {
    var haxReg = /#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/;
    var rgbReg = /rgb\((\d+),\s*(\d+),\s*(\d+)\)/;
    var span = document.createElement('span');
    var body = document.body;
    span.style.cssText = "color: " + color + "; width: 0px; height: 0px;";
    body && body.appendChild(span);
    color = window.getComputedStyle(span).color + '';
    body && body.removeChild(span);

    var match;
    match = color.match(haxReg);
    if (match) {
      return {
        r: parseInt(match[1], 16),
        g: parseInt(match[2], 16),
        b: parseInt(match[3], 16)
      }
    }
    match = color.match(rgbReg);
    if (match) {
      return {
        r: parseInt(match[1]),
        g: parseInt(match[2]),
        b: parseInt(match[3])
      }
    }
  }

  /**
   * get style sheet with owner node's id
   * @param {string} id owner node id.
   */
  function getStyleSheetById (id) {
    if (!id) { return }
    var styleSheets = document.styleSheets;
    var len = styleSheets.length;
    for (var i = 0; i < len; i++) {
      var styleSheet = styleSheets[i];
      if (styleSheet.ownerNode.id === id) {
        return styleSheet
      }
    }
  }

  function getChildrenTotalWidth (children) {
    var len = children.length;
    var total = 0;
    for (var i = 0; i < len; i++) {
      total += children[i].getBoundingClientRect().width;
    }
    return total
  }
  /**
   * get total content width of the element.
   * @param {HTMLElement} elm
   */
  function getRangeWidth (elm) {
    var children = elm.children;
    if (!children) {
      return elm.getBoundingClientRect().width
    }
    if (!Range) {
      return getChildrenTotalWidth(children)
    }
    var range = document.createRange();
    if (!range.selectNodeContents) {
      return getChildrenTotalWidth(children)
    }
    range.selectNodeContents(elm);
    return range.getBoundingClientRect().width
  }

  /**
   * px2rem and camelize keys.
   */
  function styleObject2rem (style, rootValue) {
    var obj = {};
    for (var k in style) {
      var camK = camelize(k);
      if (bindingStyleNamesForPx2Rem.indexOf(camK) > -1) {
        obj[camK] = px2rem(style[k] + '', rootValue);
      }
      else {
        obj[camK] = style[k];
      }
    }
    return obj
  }

  function px2rem (px, rootValue) {
    return px.replace(/([+-]?\d+(?:.\d*)?)([p|w]x)/g, function ($0, $1, $2) {
      if ($2 === 'wx') { // 'wx' -> px
        return $1 + 'px'
      }
      else {  // 'px' -> rem
        var pxVal = parseFloat($1);
        var sign = pxVal > 0
          ? 1 : pxVal < 0 ?
            -1 : 0;
        if (Math.abs(pxVal) <= 1) {
          return supportHairlines()
            ? ((sign * 0.5) + "px")
            : ((sign * 1) + "px")
        }
        return pxVal
          / (rootValue || window.weex.config.env.rem)
          + 'rem'
      }
    })
  }

  function rem2px (rem, rootValue) {
    return rem.replace(/([+-]?\d+(?:.\d*)?)rem/g, function ($0, $1) {
      return parseFloat($1)
        * (rootValue || window.weex.config.env.rem)
        + 'px'
    })
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var utils = /*#__PURE__*/Object.freeze({
    extend: extend,
    extendTruthy: extendTruthy,
    extendKeys: extendKeys,
    extractKeys: extractKeys,
    bind: bind,
    debounce: debounce,
    depress: depress,
    throttle: throttle,
    loopArray: loopArray,
    cached: cached,
    camelize: camelize,
    camelizeKeys: camelizeKeys,
    capitalize: capitalize,
    hyphenate: hyphenate,
    hyphenateKeys: hyphenateKeys,
    hyphenateStyleKeys: hyphenateStyleKeys,
    camelToKebab: camelToKebab,
    appendCss: appendCss,
    nextFrame: nextFrame,
    toCSSText: toCSSText,
    supportsPassive: supportsPassive,
    createEvent: createEvent,
    createBubblesEvent: createBubblesEvent,
    createCustomEvent: createCustomEvent,
    dispatchNativeEvent: dispatchNativeEvent,
    mapFormEvents: mapFormEvents,
    contains: contains,
    insideA: insideA,
    getParentScroller: getParentScroller,
    getParentScrollerElement: getParentScrollerElement,
    hasIntersection: hasIntersection,
    isElementVisible: isElementVisible,
    getEventHandlers: getEventHandlers,
    watchAppear: watchAppear,
    detectAppear: detectAppear,
    applySrc: applySrc,
    fireLazyload: fireLazyload,
    getThrottleLazyload: getThrottleLazyload,
    supportHairlines: supportHairlines,
    supportSticky: supportSticky,
    getTransformObj: getTransformObj,
    getTransformStr: getTransformStr,
    addTransform: addTransform,
    copyTransform: copyTransform,
    getRgb: getRgb,
    getStyleSheetById: getStyleSheetById,
    getRangeWidth: getRangeWidth,
    styleObject2rem: styleObject2rem,
    px2rem: px2rem,
    rem2px: rem2px,
    isPlainObject: isPlainObject,
    isArray: isArray,
    isPrimitive: isPrimitive,
    isDef: isDef
  });

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * get WXEnvironment info.
   * @param  {object} viewportInfo: info about viewport.
   * @param  {object} envInfo: info parsed from lib.env.
   */
  function initEnv (viewportInfo, envInfo) {
    var browserName = envInfo.browser ? envInfo.browser.name : navigator.appName;
    var browserVersion = envInfo.browser ? envInfo.browser.version.val : null;
    var osName = envInfo.os.name;
    if (osName.match(/(iPhone|iPad|iPod)/i)) {
      osName = 'iOS';
    }
    else if (osName.match(/Android/i)) {
      osName = 'android';
    }
    var osVersion = envInfo.os.version.val;
    var env = {
      platform: 'Web',
      weexVersion: '1.0.39',
      layoutDirection: 'ltr',
      userAgent: navigator.userAgent,
      appName: browserName,
      appVersion: browserVersion,
      osName: osName,
      osVersion: osVersion,
      deviceModel: envInfo.os.name || null
    };
    /**
     * viewportInfo: scale, deviceWidth, deviceHeight. dpr
     */
    return extend(viewportInfo, env)
  }

  // const viewportInfo = initViewport()

  // 750 by default currently
  // const scale = viewportInfo.scale

  // const units = {
  //   REM: 12 * scale,
  //   VW: viewportInfo.deviceWidth / 100,
  //   VH: viewportInfo.deviceHeight / 100,
  //   VMIN: Math.min(viewportInfo.deviceWidth, viewportInfo.deviceHeight) / 100,
  //   VMAX: Math.max(viewportInfo.deviceWidth, viewportInfo.deviceHeight) / 100,
  //   CM: 96 / 2.54 * scale,
  //   MM: 96 / 25.4 * scale,
  //   Q: 96 / 25.4 / 4 * scale,
  //   IN: 96 * scale,
  //   PT: 96 / 72 * scale,
  //   PC: 96 / 6 * scale,
  //   PX: scale
  // }

  // Object.freeze(units)
  // Object.freeze(env)

  // window.CSS_UNIT = units
  window.WXEnvironment = initEnv(init(), window.lib.env);

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var weexModules = {};
  var _roots = [];

  var weex$1 = {
    __vue__: null,
    utils: utils,
    // units: window.CSS_UNIT,
    config: {
      env: window.WXEnvironment,
      bundleUrl: location.href
    },

    _components: {},
    _modules: weexModules,

    _meta: {
      mounted: {},
      updated: {},
      destroyed: {},
      requiredModules: {},
      apiCalled: {},
      perf: {}
    },

    document: {
      body: {}
    },

    requireModule: function requireModule (moduleName) {
      var metaMod = weex$1._meta.requiredModules;
      if (!metaMod[moduleName]) {
        metaMod[moduleName] = 0;
      }
      metaMod[moduleName]++;
      return weexModules[moduleName]
    },

    registerModule: function registerModule () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      return (ref = this).registerApiModule.apply(ref, args)
      var ref;
    },

    support: function support (feature) {
      if ( feature === void 0 ) feature = '';

      var match = (feature + '').match(/@(component|module)\/(\w+)(.\w+)?/);
      if (match) {
        var type = match[1];
        var mod = match[2];
        var method = match[3];
        method = method && method.replace(/^\./, '');
        switch (type) {
          case 'component':
            return typeof this._components[mod] !== 'undefined'
              || config.weexBuiltInComponents.indexOf(mod) >= 0
          case 'module':
            var module = weexModules[mod];
            return module && method ? !!module[method] : !!module
        }
      }
      else {
        console.warn(("[vue-render] invalid argument for weex.support: " + feature));
        return null
      }
    },

    supports: function supports () {
      return this.support.apply(this, arguments)
    },

    isRegisteredModule: function isRegisteredModule (moduleName, methodName) {
      var feature = methodName ? (moduleName + "." + methodName) : moduleName;
      return this.support('@module/' + feature)
    },

    isRegisteredComponent: function isRegisteredComponent (componentName) {
      return this.support('@component/' + componentName)
    },

    /**
     * Register a new vue instance in this weex instance. Put its root element into weex.document.body.children, so
     * that user can use weex.document.body to walk through all dom structures in all vue instances in the page.
     */
    registerVueInstance: function registerVueInstance (instance) {
      if (!instance instanceof Vue) {
        return
      }
      var root = instance.$root;
      if (!root || !root.$el) {
        return
      }
      this.document.body.children.push(root.$el);
    },

    // @deprecated
    require: function require () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      console.log("[Vue Render] \"weex.require\" is deprecated, please use \"weex.requireModule\" instead.");
      return (ref = this).requireModule.apply(ref, args)
      var ref;
    },

    // @deprecated
    // TODO: rename to registerModule
    registerApiModule: function registerApiModule (name, module, meta) {
      if (!weexModules[name]) {
        weexModules[name] = {};
      }
      if (!!meta && meta.registerType === 'assignment') {
        weexModules[name] = module;
      }
      else {
        var loop = function ( key ) {
          if (module.hasOwnProperty(key)) {
            weexModules[name][key] = function () {
              var called = weex$1._meta.apiCalled;
              if (!called[name]) {
                called[name] = {};
              }
              var calledMod = called[name];
              if (!calledMod[key]) {
                calledMod[key] = 0;
              }
              calledMod[key]++;
              return module[key].apply(weex$1, arguments)
            };
          }
        };

        for (var key in module) loop( key );
      }
    },

    registerComponent: function registerComponent (name, component) {
      if (!this.__vue__) {
        return console.log('[Vue Render] Vue is not found. Please import Vue.js before register a component.')
      }
      this._components[name] = 0;
      if (component._css) {
        var css = component._css.replace(/\b[+-]?[\d.]+rem;?\b/g, function (m) {
          return parseFloat(m) * 75 * weex$1.config.env.scale + 'px'
        });
        appendCss(css, ("weex-cmp-" + name));
        delete component._css;
      }
      this.__vue__.component(name, component);
    },

    // @deprecated
    getRoot: function getRoot () {},

    // @deprecated
    sender: {
      performCallback: function performCallback (callback, data, keepAlive) {
        if (typeof callback === 'function') {
          return callback(data)
        }
        return null
      }
    },

    // @deprecated
    install: function install (module) {
      module.init(this);
    }
  };

  Object.defineProperty(weex$1.document.body, 'children', {
    get: function get () { return _roots }
  })

  ; ['on', 'once', 'off', 'emit'].forEach(function (method) {
    weex$1[method] = function () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      if (!this._vue) {
        this._vue = new this.__vue__();
      }
      return (ref = this._vue)[("$" + method)].apply(ref, args)
      var ref;
    };
  });

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getInlineStyle (vnode) {
    var data = vnode.data || {};
    return extendTruthy({}, data.staticStyle, data.style)
  }

  function extractComponentStyle (context) {
    return getComponentInlineStyle(context)
    // return getComponentStyle(context, true)
  }

  function getComponentInlineStyle (context) {
    var vnode = context && context.$vnode;
    if (!vnode) {
      return {}
    }
    var style = {};
    while (vnode) {
      extend(style, getInlineStyle(vnode));
      vnode = vnode.parent;
    }
    return style
  }

  function genPropNode (k, v) {
    return {
      type: 'Property',
      key: {
        type: 'Identifier',
        name: k
      },
      computed: false,
      value: {
        type: 'Literal',
        value: v
      },
      kind: 'init',
      method: false,
      shorthand: false
    }
  }

  var text = {
    compile: function compile (objNode, px2remTags, rootValue) {
      var props = objNode.properties;
      var hasLines = false;
      for (var i = 0, l = props.length; i < l; i++) {
        var propNode = props[i];
        var keyNode = propNode.key;
        var keyType = keyNode.type;
        var keyNodeValStr = keyType === 'Literal' ? 'value' : 'name';
        var keyName = keyNode[keyNodeValStr];
        var valNode = propNode.value;
        if (keyName === 'lines') {
          hasLines = true;
          keyNode[keyNodeValStr] = 'webkitLineClamp';
        }
        else if (px2remTags.indexOf(keyName) > -1) {
          propNode.value = {
            type: 'CallExpression',
            callee: {
              type: 'Identifier',
              name: '_px2rem'
            },
            arguments: [valNode, { type: 'Literal', value: rootValue }]
          };
        }
      }
      if (hasLines) {
        objNode.properties = props.concat([
          genPropNode('overflow', 'hidden'),
          genPropNode('textOverflow', 'ellipsis')
        ]);
      }
    }
  };
  var text_1 = text.compile;

  var text$1 = /*#__PURE__*/Object.freeze({
    default: text,
    __moduleExports: text,
    compile: text_1
  });

  var require$$0$e = ( text$1 && text ) || text$1;

  var tagMap = {
    text: require$$0$e
  };

  var getCompiler = function (tag) {
    return tagMap[tag]
  };

  var compiler = {
  	getCompiler: getCompiler
  };

  var compiler$1 = /*#__PURE__*/Object.freeze({
    default: compiler,
    __moduleExports: compiler,
    getCompiler: getCompiler
  });

  var text$2 = {
    transform: function transform (style) {
      var lines = style.lines;
      if (lines > 0) {
        return Object.assign(style, {
          overflow: 'hidden',
          textOverflow: 'ellipsis',
          WebkitLineClamp: lines
        })
      }
      return style
    }
  };
  var text_1$1 = text$2.transform;

  var text$3 = /*#__PURE__*/Object.freeze({
    default: text$2,
    __moduleExports: text$2,
    transform: text_1$1
  });

  var require$$0$f = ( text$3 && text$2 ) || text$3;

  var tagMap$1 = {
    text: require$$0$f
  };

  var getTransformer = function (tag) {
    return tagMap$1[tag]
  };

  var transformer = {
  	getTransformer: getTransformer
  };

  var transformer$1 = /*#__PURE__*/Object.freeze({
    default: transformer,
    __moduleExports: transformer,
    getTransformer: getTransformer
  });

  var require$$0$g = ( compiler$1 && compiler ) || compiler$1;

  var require$$1$5 = ( transformer$1 && transformer ) || transformer$1;

  var getCompiler$1 = require$$0$g.getCompiler;
  var getTransformer$1 = require$$1$5.getTransformer;
  var getTransformer_1 = getTransformer$1;

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var weexBuiltInComponents = config.weexBuiltInComponents;

  var appearEventsMap = {
    appear: 'appear',
    disappear: 'disappear',
    offsetAppear: 'offset-appear',
    offsetDisappear: 'offset-disappear'
  };

  /**
   * remove text nodes in the nodes array.
   * @param  {Array} nodes
   * @return {Array} nodes without text nodes.
   */
  function trimTextVNodes (vnodes) {
    if (isArray(vnodes)) {
      return vnodes.filter(function (vnode) { return !!vnode.tag; })
    }
    return vnodes
  }

  /**
   * ==================================================
   * method to transform args passed to createElement
   * for render function.
   * ==================================================
   */

  // should share with precompiler.
  var metaMap = {
    figure: ['img', 'image', 'gif', 'figure'],
    p: ['text', 'p'],
    div: ['container', 'div'],
    section: ['cell', 'cell-slot'],
    'recycle-list': ['recycle-list']
  };

  var checkMap = Object.keys(metaMap).reduce(function (pre, targetTag) {
    var tagArr = metaMap[targetTag];
    tagArr.forEach(function (fromTag) {
      pre[fromTag] = targetTag;
    });
    return pre
  }, {});

  var _stdTagMap = {
    p: 'text',
    figure: 'image',
    section: 'cell'
  };
  function getStdTag (tag) {
    var stdTag = _stdTagMap[tag];
    return stdTag || tag
  }

  var precompiledClassMap = {
    div: {
      'weex-ct': true,
      'weex-div': true
    },
    image: {
      'weex-el': true,
      'weex-image': true
    },
    text: {
      'weex-el': true,
      'weex-text': true
    },
    cell: {
      'weex-ct': true,
      'weex-cell': true
    },
    a: {
      'weex-ct': true,
      'weex-a': true
    }
  };

  function isPrecompiled (tag) {
    return config.weexBuiltInComponents.indexOf(tag) > -1
  }

  function transformRender (ctx, h) {
    return function (
      tag,
      data,
      children,
      normalizationType,
      alwaysNormalize
    ) {
      if (isArray(data) || isPrimitive(data)) {
        normalizationType = children;
        children = data;
        data = {};
      }
      if (!isDef(data)) {
        data = {};
      }
      if (isDef(data.is)) {
        tag = data.is;
      }
      if (typeof tag === 'string') {
        data = transformData(this, data, tag);
        tag = transformTag(this, tag);
      }
      else {  // direct component options / constructor
        data = transformData(this, data, undefined);
      }
      return h.call(
        this,
        tag,
        data,
        children,
        normalizationType,
        alwaysNormalize
      )
    }.bind(ctx)
  }

  function transformTag (ctx, tag) {
    var elementTag = checkMap[tag];
    return elementTag || tag
  }

  /**
   * Tell whether a element is contained in a element who has
   * a attribute 'bubble'=true.
   * @param {HTMLElement} el
   */
  // function inBubble (el) {
  //   if (typeof el._inBubble === 'boolean') {
  //     return el._inBubble
  //   }
  //   const parents = []
  //   let parent = el.parentElement
  //   let inBubble
  //   while (parent && parent !== document.body) {
  //     if (typeof parent._inBubble === 'boolean') {
  //       inBubble = parent._inBubble
  //       break
  //     }
  //     const attr = parent.getAttribute('bubble')
  //     if (attr !== '') {
  //       inBubble = attr === true || attr === 'true'
  //       break
  //     }
  //     parents.push(parent)
  //     parent = parent.parentElement
  //   }
  //   el._inBubble = inBubble
  //   for (let i = 0, l = parents.length; i < l; i++) {
  //     parents[i]._inBubble = inBubble
  //   }
  //   return inBubble
  // }

  function bindEvents (ctx, evts, attrs, tag, appearAttached) {
    for (var key in evts) {
      var appearEvtName = appearEventsMap[key];
      if (appearEvtName) {
        attrs[("data-evt-" + appearEvtName)] = '';
        if (!appearAttached.value) {
          appearAttached.value = true;
          attrs['weex-appear'] = '';
        }
      }
      else {
        attrs[("data-evt-" + key)] = '';
        if (key !== 'click') {
          // should stop propagation by default.
          // TODO: should test inBubble first.
          var handler = evts[key];
          if (isArray(evts[key])) {
            handler.unshift(ctx.$stopPropagation);
          }
          else {
            evts[key] = [ctx.$stopPropagation, handler];
          }
        }
      }
    }
    if (evts.click) {
      evts.weex$tap = evts.click;
      evts.click = ctx.$stopOuterA;
    }
    if (evts.scroll) {
      evts.weex$scroll = evts.scroll;
      delete evts.scroll;
    }
  }

  function transformOn (ctx, data, tag) {
    var on = data.on;
    var nativeOn = data.nativeOn;
    if (weexBuiltInComponents.indexOf(tag) > -1) {
      /**
       * for div, image, text, cell, a, ...
       * user should bind all events without .native.
       */
      nativeOn = null;
      delete data.nativeOn;
    }
    if (isDef(weex._components[tag])) {
      /**
       * for slider, list, ...
       * user should bind events without .native.
       * in our events handling, all events should transfer to
       * .native binding.
       */
      delete data.nativeOn;
      nativeOn = null;
      if (on) {
        nativeOn = data.nativeOn = on;
      }
      on = null;
      delete data.on;
    }

    var attrs = data.attrs;
    if (!attrs) {
      attrs = data.attrs = {};
    }

    var appearAttached = {
      value: false
    };
    if (on) {
      bindEvents(ctx, on, attrs, tag, appearAttached);
    }
    if (nativeOn) {
      bindEvents(ctx, nativeOn, attrs, tag, appearAttached);
    }

    /**
     * binding a weex$tap to <a> element to stop propagation if there
     * is no bubbles=true flag showing on parents.
     */
    if (tag === 'a') {
      if (!on) {
        on = data.on = {};
      }
      // if (!checkBubble(el)) {
      var evt = on['weex$tap'];
      if (!evt) {
        on['weex$tap'] = ctx.$stopPropagation;
      }
      else if (Array.isArray(evt)) {
        evt.unshift(ctx.$stopPropagation);
      }
      else {
        evt = [ctx.$stopPropagation, evt];
      }
      // }
    }
  }

  function transformClass (data, tag) {
    var classData = data.class;
    var tagClassObj = precompiledClassMap[tag];
    if (!classData) {
      classData = data.class = [];
    }
    if (classData && isArray(classData)) {
      data.class = classData.concat(Object.keys(tagClassObj));
    }
    else if (typeof classData === 'object') {
      Object.assign(classData, tagClassObj);
    }
  }

  function transformStyle (ctx, data, tag) {
    var style = data.style;
    if (!style) { return }
    var transformer = getTransformer_1(getStdTag(tag));
    if (transformer) {
      data.style = ctx._px2rem(transformer.transform(style), 75);
    }
    else {
      data.style = ctx._px2rem(style, 75);
    }
  }

  /**
   * transformAttrs:
   *  - add weex-type attrs for precompiledTags.
   *  - image.resize: transform to directive weex-resize.
   */
  function transformAttrs (data, tag) {
    var attrs = data.attrs;
    var directives = data.directives;
    if (!attrs) {
      attrs = data.attrs = {};
    }
    attrs['weex-type'] = tag;
    if (tag === 'image' || tag === 'gif') {
      var src = attrs.src;
      var resize = attrs.resize;
      if (src) {
        attrs['data-img-src'] = src;
      }
      if (resize) {
        if (!directives) {
          directives = data.directives = [];
        }
        directives.push({
          name: 'weex-resize',
          value: attrs.resize
        });
      }
    }
  }

  function transformData (ctx, data, tag) {
    if (isArray(data)) {
      // parameter data is ommited.
      return data
    }
    var isP = isPrecompiled(tag);
    // class
    isP && transformClass(data, tag);
    // style
    transformStyle(ctx, data, tag);
    // attrs
    isP && transformAttrs(data, tag);
    // on
    transformOn(ctx, data, tag);
    return data
  }

  function mapNativeEvents (ctx, map) {
    var eventMap = {};
    var loop = function ( origEvent ) {
      eventMap[origEvent] = function (evt) {
        var el = evt.target;
        dispatchNativeEvent(el, map[origEvent]);
      };
    };

    for (var origEvent in map) loop( origEvent );
    return eventMap
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var core = /*#__PURE__*/Object.freeze({
    extractComponentStyle: extractComponentStyle,
    getComponentInlineStyle: getComponentInlineStyle,
    trimTextVNodes: trimTextVNodes,
    transformRender: transformRender,
    transformTag: transformTag,
    transformData: transformData,
    mapNativeEvents: mapNativeEvents
  });

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var scrollableTypes = config.scrollableTypes;

  var lazyloadWatched = false;
  function watchLazyload () {
    lazyloadWatched = true
    ; [
      'scroll',
      // 'transitionend',
      // 'webkitTransitionEnd',
      // 'animationend',
      // 'webkitAnimationEnd',
      'resize'
    ].forEach(function (evt) {
      window.addEventListener(evt, getThrottleLazyload(25, document.body));
    });
    /**
     * In case the users use the body's overflow to scroll. Then the scroll
     * event would not be triggered on the window object but on the body.
     */
    document.body.addEventListener('scroll', getThrottleLazyload(25, document.body));
  }

  var idCnt = 0;
  var appearWatched = false;

  /**
   * during updating, the appear watcher binding on the appearWatched context
   * should be triggered within a debounced wrapper.
   * If the updating interval is shorter then 50 ms, then the appear events will
   * ignore the change in the previous 50 ms due to the debounce wrapper.
   */
  var debouncedWatchAppear = debounce(function () {
    watchAppear(appearWatched, true);
  }, 50);

  /**
   * if it's a scrollable tag, then watch appear events for it.
   */
  function watchAppearForScrollables (tagName, context) {
    // when this is a scroller/list/waterfall
    if (scrollableTypes.indexOf(tagName) > -1) {
      var sd = context.scrollDirection;
      if (!sd || sd !== 'horizontal') {
        appearWatched = context;
        watchAppear(context, true);
      }
    }
  }

  var base = {
    beforeCreate: function beforeCreate () {
      if (!lazyloadWatched) {
        watchLazyload();
      }
    },

    updated: function updated () {
      var el = this.$el;
      if (!el || el.nodeType !== 1) {
        return
      }
      if (this._rootId) {
        if (el.className.indexOf('weex-root') <= -1) {
          el.classList.add('weex-root');
          el.classList.add('weex-ct');
          el.setAttribute('data-wx-root-id', this._rootId);
        }
      }

      var tagName = this.$options && this.$options._componentTag;
      var metaUp = weex._meta.updated;
      if (!metaUp[tagName]) {
        metaUp[tagName] = 0;
      }
      metaUp[tagName]++;
      // will check appearing when no other changes in latest 50ms.
      debouncedWatchAppear();
      /**
       * since the updating of component may affect the layout, the lazyloading should
       * be fired.
       */
      this._fireLazyload();
    },

    mounted: function mounted () {
      var tagName = this.$options && this.$options._componentTag;
      var el = this.$el;
      if (!el || el.nodeType !== 1) {
        return
      }
      if (typeof weex._components[tagName] !== 'undefined') {
        weex._components[tagName]++;
      }
      var metaMt = weex._meta.mounted;
      if (!metaMt[tagName]) {
        metaMt[tagName] = 0;
      }
      metaMt[tagName]++;

      watchAppearForScrollables(tagName, this);

      // when this is the root element of Vue instance.
      if (this === this.$root) {
        var rootId = "wx-root-" + (idCnt++);
        if (!weex._root) {
          weex._root = {};
        }
        weex._root[rootId] = this;
        this._rootId = rootId;
        if (el.nodeType !== 1) {
          return
        }
        el.classList.add('weex-root');
        el.classList.add('weex-ct');
        el.setAttribute('data-wx-root-id', rootId);

        /**
         * there's no scrollable component in this page. That is to say,
         * the page is using body scrolling instead of scrollabe components.
         * Then the appear watcher should be attached on the body.
         */
        if (!appearWatched) {
          appearWatched = this;
          watchAppear(this, true);
        }

        this._fireLazyload(el);
      }

      // give warning for not using $processStyle in vue-loader config.
      // if (!warned && !window._style_processing_added) {
      //   warnProcessStyle()
      // }
    },

    destroyed: function destroyed () {
      var el = this.$el;
      if (!el || el.nodeType !== 1) {
        return
      }
      /**
       * if the destroyed element is above another panel with images inside, and the images
       * moved into the viewport, then the lazyloading should be triggered.
       */
      if (this._rootId) {
        delete weex._root[this._rootId];
        delete this._rootId;
      }
      var tagName = this.$options && this.$options._componentTag;
      if (typeof weex._components[tagName] !== 'undefined') {
        weex._components[tagName]--;
      }
      var metaDs = weex._meta.destroyed;
      if (!metaDs[tagName]) {
        metaDs[tagName] = 0;
      }
      metaDs[tagName]++;
      this._fireLazyload();
    },

    methods: {
      _fireLazyload: function _fireLazyload (el) {
        getThrottleLazyload(25, el || document.body)();
      }
    }
  };

  var event$1 = {
    methods: {
      // deprecated.
      $stopOutterA: function $stopOutterA (e) {
        return this.$stopOuterA(e)
      },

      $stopOuterA: function $stopOuterA (e) {
        if (e && e.preventDefault && e.target) {
          if (insideA(e.target)) {
            e.preventDefault();
          }
        }
      },

      $stopPropagation: function $stopPropagation (e) {
        if (e && e.stopPropagation) {
          e.stopPropagation();
        }
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var bindingStyleNamesForPx2Rem$1 = config.bindingStyleNamesForPx2Rem;

  var style = {
    methods: {
      _px2rem: function _px2rem (value, rootValue) {
        var this$1 = this;

        if (typeof value === 'string') {
          return (value + '').replace(/[+-]?\d+(?:.\d*)?[pw]x/gi, function ($0) {
            return weex.utils.px2rem($0, rootValue)
          })
        }
        if (typeof value === 'number') {
          return weex.utils.px2rem(value + '', rootValue)
        }
        if (isPlainObject(value)) {
          for (var k in value) {
            if (
              value.hasOwnProperty(k)
              && bindingStyleNamesForPx2Rem$1.indexOf(k) > -1
            ) {
              value[k] = weex.utils.px2rem(value[k] + '', rootValue);
            }
          }
          return value
        }
        if (isArray(value)) {
          for (var i = 0, l = value.length; i < l; i++) {
            this$1._px2rem(value[i], rootValue);
          }
          return value
        }
      },

      _processExclusiveStyle: function _processExclusiveStyle (styleObj, rootValue, tagName) {
        var transformer = getTransformer_1(tagName);
        return this._px2rem(
          transformer.transform(styleObj),
          rootValue
        )
      },

      _getParentRect: function _getParentRect () {
        var el = this.$el;
        var parent = el && el.parentElement;
        return parent && parent.getBoundingClientRect()
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var findEnterKeyType = function (key) {
    var keys = ['default', 'go', 'next', 'search', 'send'];
    if (keys.indexOf(key) > -1) {
      return key
    }
    return 'done'
  };

  var inputCommon = {
    methods: {
      focus: function focus () {
        this.$el && this.$el.focus();
      },
      blur: function blur () {
        this.$el && this.$el.blur();
      },

      setSelectionRange: function setSelectionRange (start, end) {
        try {
          this.$el.setSelectionRange(start, end);
        }
        catch (e) {
        }
      },

      getSelectionRange: function getSelectionRange (callback) {
        try {
          var selection = window.getSelection();
          var str = selection.toString();
          var selectionStart = this.$el.value.indexOf(str);
          var selectionEnd = selectionStart === -1 ? selectionStart : selectionStart + str.length;
          callback && callback({
            selectionStart: selectionStart,
            selectionEnd: selectionEnd
          });
        }
        catch (e) {
          callback && callback(new Error('[vue-render] getSelection is not supported.'));
        }
      },

      getEditSelectionRange: function getEditSelectionRange (callback) {
        this.getSelectionRange(callback);
      },

      // support enter key event
      createKeyboardEvent: function createKeyboardEvent (events) {
        var customKeyType = this.returnKeyType;
        if (customKeyType) {
          var keyboardEvents = {
            'keyup': function (ev) {
              var code = ev.keyCode;
              var key = ev.key;
              if (code === 13) {
                if (!key || key.toLowerCase() === 'tab') {
                  key = 'next';
                }
                dispatchNativeEvent(ev.target, 'return', {
                  key: key,
                  returnKeyType: findEnterKeyType(customKeyType),
                  value: ev.target.value
                });
              }
            }
          };
          events = extend(events, keyboardEvents);
        }
        return events
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var sticky = {
    destroyed: function destroyed () {
      if (!this._stickyAdded) { return }
      var scroller = getParentScroller(this);
      if (!scroller) { return }
      delete scroller._stickyChildren[this._uid];
    },

    methods: {
      _addSticky: function _addSticky () {
        var el = this.$el;
        if (!el || el.nodeType === 1) {
          return
        }
        el.classList.add('sticky');
        if (!this._placeholder) {
          this._placeholder = el.cloneNode(true);
        }
        this._placeholder.style.display = 'block';
        this._placeholder.style.width = this.$el.offsetWidth + 'px';
        this._placeholder.style.height = this.$el.offsetHeight + 'px';
        el.parentNode.insertBefore(this._placeholder, this.$el);
      },

      _removeSticky: function _removeSticky () {
        var el = this.$el;
        if (!el || el.nodeType === 1) {
          return
        }
        el.classList.remove('sticky');
        if (this._placeholder) {
          this._placeholder.parentNode.removeChild(this._placeholder);
        }
        this._placeholder = null;
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  window.global = window;
  window.weex = weex$1;

  weex$1._styleMap = {}

  ; ['getComponentInlineStyle',
    'extractComponentStyle',
    'mapNativeEvents',
    'trimTextVNodes']
    .forEach(function (method) {
      weex$1[method] = core[method].bind(weex$1);
    });

  weex$1.mixins = {
    inputCommon: inputCommon
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var _inited = false;

  var renderFunctionPlugin = {
    init: function init (weex) {
      if (_inited) {
        return
      }
      _inited = true;
      var Vue = weex.__vue__;
      var _render = Vue.prototype._render;
      Vue.prototype._render = function () {
        var weexRender = this._weexRender;
        var tag = this.$options && this.$options._componentTag;
        if (
          !weexRender
          && !isDef(weex._components[tag])
        ) {
          var origRender = this.$options.render;
          weexRender = this._weexRender = function (h) {
            var args = [], len = arguments.length - 1;
            while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

            return origRender.call.apply(origRender, [ this, transformRender(this, h) ].concat( args ))
          };
          this.$options.render = weexRender;
        }
        return _render.call(this)
      };
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  if (global.Vue) {
    setVue(global.Vue);
  }

  function setVue (vue) {
    if (!vue) {
      throw new Error('[Vue Render] Vue not found. Please make sure vue 2.x runtime is imported.')
    }
    if (global.weex.__vue__) {
      return
    }
    global.weex.__vue__ = vue;
    weex.install(renderFunctionPlugin);
    console.log(("[Vue Render] install Vue " + (vue.version) + "."));
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * init weex.
   * @param  {Vue$2} Vue: Vue Constructor.
   * @param  {object} options: extend weex plugins.
   *         - components.
   *         - modules.
   */
  var _inited$1 = false;
  function init$1 (Vue/* options = {}*/) {
    if (_inited$1) { return }
    _inited$1 = true;

    setVue(Vue);

    Vue.prototype.$getConfig = function () {
      console.warn('[Vue Render] "this.$getConfig" is deprecated, please use "weex.config" instead.');
      return weex.config
    };

    var htmlRegex = /^html:/i;
    Vue.config.isReservedTag = function (tag) { return htmlRegex.test(tag); };
    Vue.config.parsePlatformTagName = function (tag) { return tag.replace(htmlRegex, ''); };

    function isWeexTag (tag) {
      return typeof weex._components[tag] !== 'undefined'
    }
    var oldGetTagNamespace = Vue.config.getTagNamespace;
    Vue.config.getTagNamespace = function (tag) {
      if (isWeexTag(tag)) {
        return
      }
      return oldGetTagNamespace(tag)
    };

    Vue.mixin(base);
    Vue.mixin(event$1);
    Vue.mixin(style);
    Vue.mixin(sticky);
  }

  // auto init in dist mode.
  if (typeof window !== 'undefined' && window.Vue) {
    init$1(window.Vue);
  }

  weex.init = init$1;

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var mapFormEvents$1, appendCss$1;

  var ID_PREFIX_PLACEHOLDER_COLOR = 'wipt_plc_';
  var ID_PREFIX_INPUT = 'wipt_';
  var idCount = 0;

  function setPlaceholderColor (inputVm, placeholderColor) {
    if (!placeholderColor) {
      return
    }
    var vendors = [
      '::-webkit-input-placeholder',
      ':-moz-placeholder',
      '::-moz-placeholder',
      ':-ms-input-placeholder',
      ':placeholder-shown'
    ];
    var id = inputVm._id;
    appendCss$1(
      vendors.map(function (vendor, idx) {
        return ("#" + ID_PREFIX_INPUT + id + (vendors[idx]) + "{color:" + placeholderColor + ";}")
      }).join(''),
      ("" + ID_PREFIX_PLACEHOLDER_COLOR + id),
      true);
  }

  function processStyle (vm) {
    var styles = getComponentInlineStyle(vm);
    var phColor = styles.placeholderColor || styles['placeholder-color'];
    if (phColor) {
      setPlaceholderColor(vm, phColor);
    }
    return styles
  }

  function getInput (weex) {
    var ref = weex.mixins;
    var inputCommon = ref.inputCommon;

    return {
      name: 'weex-input',
      mixins: [inputCommon],
      props: {
        type: {
          type: String,
          default: 'text',
          validator: function validator (value) {
            return [
              'email', 'number', 'password', 'search', 'tel', 'text', 'url', 'date',
              'datetime', 'time' ].indexOf(value) !== -1
          }
        },
        value: String,
        placeholder: String,
        disabled: {
          type: [String, Boolean],
          default: false
        },
        autofocus: {
          type: [String, Boolean],
          default: false
        },
        maxlength: [String, Number],
        returnKeyType: String
      },

      render: function render (createElement) {
        if (!this._id) {
          this._id = idCount++;
        }
        var events = mapFormEvents$1(this);
        return createElement('html:input', {
          attrs: {
            'weex-type': 'input',
            id: ("" + ID_PREFIX_INPUT + (this._id)),
            type: this.type,
            value: this.value,
            disabled: (this.disabled !== 'false' && this.disabled !== false),
            autofocus: (this.autofocus !== 'false' && this.autofocus !== false),
            placeholder: this.placeholder,
            maxlength: this.maxlength,
            'returnKeyType': this.returnKeyType
          },
          domProps: {
            value: this.value
          },
          on: this.createKeyboardEvent(events),
          staticClass: 'weex-input weex-el',
          staticStyle: processStyle(this)
        })
      }
    }
  }

  var input = {
    init: function init (weex) {
      mapFormEvents$1 = weex.utils.mapFormEvents;
      appendCss$1 = weex.utils.appendCss;

      weex.registerComponent('input', getInput(weex));
    }
  };

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.weex-switch {\n  border: 0.013333rem solid #dfdfdf;\n  cursor: pointer;\n  vertical-align: middle;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  box-sizing: content-box;\n  background-clip: content-box;\n  color: #64bd63;\n  width: 1.333333rem;\n  height: 0.8rem;\n  background-color: white;\n  border-color: #dfdfdf;\n  box-shadow: #dfdfdf 0 0 0 0 inset;\n  border-radius: 0.8rem;\n  -webkit-transition: border 0.4s, box-shadow 0.4s, background-color 1.2s;\n  transition: border 0.4s, box-shadow 0.4s, background-color 1.2s;\n}\n\n.weex-switch-checked {\n  background-color: #64bd63;\n  border-color: #64bd63;\n  box-shadow: #64bd63 0 0 0 0.533333rem inset;\n}\n\n.weex-switch-checked.weex-switch-disabled {\n  opacity: 0.3\n}\n\n.weex-switch-disabled {\n  background-color: #EEEEEE;\n}\n\n.weex-switch-inner {\n  width: 0.8rem;\n  height: 0.8rem;\n  background: #fff;\n  border-radius: 100%;\n  box-shadow: 0 0.013333rem 0.04rem rgba(0, 0, 0, 0.4);\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-transition: background-color 0.4s, left 0.2s;\n  transition: background-color 0.4s, left 0.2s;\n}\n\n.weex-switch-checked > .weex-switch-inner {\n  left: 0.533333rem;\n}\n", {});

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getSwitch (weex) {
    var extractComponentStyle = weex.extractComponentStyle;
    var ref = weex.utils;
    var dispatchNativeEvent = ref.dispatchNativeEvent;

    return {
      name: 'weex-switch',
      props: {
        checked: {
          type: [Boolean, String],
          default: false
        },
        disabled: {
          type: [Boolean, String],
          default: false
        },
        // Border color  when the switch is turned off
        tintColor: String,
        // Background color when the switch is turned on.
        onTintColor: String,
        // Color of the foreground switch grip.
        thumbTintColor: String
      },
      data: function data () {
        return {
          isChecked: (this.checked !== 'false' && this.checked !== false),
          isDisabled: (this.disabled !== 'false' && this.disabled !== false)
        }
      },
      computed: {
        wrapperClass: function wrapperClass () {
          var classArray = ['weex-el', 'weex-switch'];
          this.isChecked && classArray.push('weex-switch-checked');
          this.isDisabled && classArray.push('weex-switch-disabled');
          return classArray.join(' ')
        },
        mergeStyle: function mergeStyle () {
          var style = extractComponentStyle(this);
          var ref = this;
          var tintColor = ref.tintColor;
          var onTintColor = ref.onTintColor;
          var isChecked = ref.isChecked;
          var isDisabled = ref.isDisabled;

          if (!isChecked && tintColor) {
            Object.assign(style, {
              borderColor: tintColor,
              boxShadow: (tintColor + " 0 0 0 0 inset")
            });
          }

          if (isChecked && onTintColor) {
            Object.assign(style, {
              backgroundColor: onTintColor,
              color: onTintColor,
              borderColor: onTintColor,
              boxShadow: (onTintColor + " 0 0 0 0.533333rem inset")
            });
          }

          isDisabled && Object.assign(style, {
            opacity: 0.3
          });

          return style
        },
        smallStyle: function smallStyle () {
          var ref = this;
          var thumbTintColor = ref.thumbTintColor;
          var smallStyle = {};

          if (thumbTintColor) {
            smallStyle = {
              background: thumbTintColor
            };
          }
          return smallStyle
        }
      },
      methods: {
        toggle: function toggle () {
          // TODO: handle the events
          if (!this.isDisabled) {
            this.isChecked = !this.isChecked;
            dispatchNativeEvent(this.$el, 'change', { value: this.isChecked });
          }
        }
      },

      mounted: function mounted () {
        var this$1 = this;

        var el = this.$el;
        if (el && el.nodeType === 1) {
          if (!this._removeClickHandler) {
            var handler = function (evt) {
              this$1.toggle();
            };
            this._removeClickHandler = el.removeEventListener.bind(el, 'weex$tap', handler);
            el.addEventListener('weex$tap', handler);
          }
        }
      },

      beforeDestroy: function beforeDestroy () {
        var rm = this._removeClickHandler;
        if (rm) {
          rm();
          delete this._removeClickHandler;
        }
      },

      render: function render (createElement) {
        return createElement('span', {
          attrs: { 'weex-type': 'switch' },
          staticClass: this.wrapperClass,
          staticStyle: this.mergeStyle
        }, [createElement('small', {
          staticClass: 'weex-switch-inner',
          staticStyle: this.smallStyle
        })])
      }
    }
  }

  var _switch = {
    init: function init (weex) {
      weex.registerComponent('switch', getSwitch(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var DEFAULT_OFFSET_ACCURACY = 10;
  var DEFAULT_LOADMORE_OFFSET = 0;

  function getThrottledScroll (context) {
    var scale = weex.config.env.scale;
    if (!context._throttleScroll) {
      var wrapper = context.$refs.wrapper;
      var inner = context.$refs.inner;
      var preOffset = (context.scrollDirection === 'horizontal'
        ? wrapper.scrollLeft
        : wrapper.scrollTop)
        || 0;
      context._throttleScroll = weex.utils.throttle(function (evt) {
        var offset = context.scrollDirection === 'horizontal'
          ? wrapper.scrollLeft
          : wrapper.scrollTop;
        var indent = parseInt(context.offsetAccuracy) * scale;
        function triggerScroll () {
          var rect = inner.getBoundingClientRect();
          var evtObj = {
            contentSize: { width: rect.width, height: rect.height },
            contentOffset: {
              x: wrapper.scrollLeft,
              /**
               * positive direciton for y-axis is down.
               * so should use negative operation on scrollTop.
               *
               *  (0,0)---------------> x
               *       |
               *       |
               *       |
               *       |
               *       v y
               *
               */
              y: -wrapper.scrollTop
            }
          };
          if (context.$el) {
            weex.utils.dispatchNativeEvent(context.$el, 'weex$scroll', evtObj);
          }
        }
        if (Math.abs(offset - preOffset) >= indent) {
          triggerScroll();
          preOffset = offset;
        }
      }, 16, true);
    }
    return context._throttleScroll
  }

  var scrollable = {
    props: {
      loadmoreoffset: {
        type: [String, Number],
        default: DEFAULT_LOADMORE_OFFSET,
        validator: function validator (value) {
          var val = parseInt(value);
          return !isNaN(val) && val >= DEFAULT_LOADMORE_OFFSET
        }
      },

      offsetAccuracy: {
        type: [Number, String],
        default: DEFAULT_OFFSET_ACCURACY,
        validator: function validator (value) {
          var val = parseInt(value);
          return !isNaN(val) && val >= DEFAULT_OFFSET_ACCURACY
        }
      }
    },

    created: function created () {
      // should call resetLoadmore() to enable loadmore event.
      this._loadmoreReset = true;
    },

    mounted: function mounted () {
      this.reloadStickyChildren();
    },

    updated: function updated () {
      this.reloadStickyChildren();
    },

    methods: {
      updateLayout: function updateLayout () {
        var wrapper = this.$refs.wrapper;
        if (wrapper) {
          var rect = wrapper.getBoundingClientRect();
          this._wrapperWidth = rect.width;
          this._wrapperHeight = rect.height;
        }
        var inner = this.$refs.inner;
        var children = inner && inner.children;
        if (inner) {
          var rect$1 = inner.getBoundingClientRect();
          this._innerWidth = rect$1.width;
          this._innerHeight = rect$1.height;
        }
        var loadingEl = this._loading && this._loading.$el;
        var refreshEl = this._refresh && this._refresh.$el;
        if (loadingEl) {
          this._innerHeight -= loadingEl.getBoundingClientRect().height;
        }
        if (refreshEl) {
          this._innerHeight -= refreshEl.getBoundingClientRect().height;
        }
        // inner width is always the viewport width somehow in horizontal
        // scoller, therefore the inner width should be reclaculated.
        if (this.scrollDirection === 'horizontal' && children) {
          this._innerWidth = weex.utils.getRangeWidth(inner);
        }
      },

      resetLoadmore: function resetLoadmore () {
        this._loadmoreReset = true;
      },

      /**
       * process sticky children in scrollable components.
       * current only support list and vertical scroller.
       */
      processSticky: function processSticky () {
        var this$1 = this;

        /**
         * current browser support 'sticky' or '-webkit-sticky', so there's no need
         * to do further more.
         */
        var stickyChildren = this._stickyChildren;
        var len = stickyChildren && stickyChildren.length || 0;
        if (len <= 0) { return }

        var origSticky = weex.utils.supportSticky();
        // current only support list and vertical scroller.
        if (this.scrollDirection === 'horizontal') {
          return
        }

        var container = this.$el;
        if (!container) { return }
        var scrollTop = container.scrollTop;

        var stickyChild;
        for (var i = 0; i < len; i++) {
          stickyChild = stickyChildren[i];
          if (origSticky) {
            this$1.addSticky(stickyChild, origSticky);
          }
          else if (stickyChild._initOffsetTop < scrollTop) {
            this$1.addSticky(stickyChild);
          }
          else {
            this$1.removeSticky(stickyChild);
          }
        }
      },

      addSticky: function addSticky (el, supportSticky) {
        if (supportSticky) {
          el.classList.add('weex-ios-sticky');
        }
        else {
          if (el._sticky === true) { return }
          el._sticky = true;
          if (!el._placeholder) {
            var placeholder = el.cloneNode(true);
            placeholder._origNode = el;
            placeholder.classList.add('weex-sticky-placeholder');
            el._placeholder = placeholder;
          }
          el.parentNode.insertBefore(el._placeholder, el);
          el.style.width = window.getComputedStyle(el).width;
          el.classList.add('weex-sticky');
        }
      },

      removeSticky: function removeSticky (el) {
        if (
          typeof el._sticky === 'undefined'
          || el._sticky === false
        ) {
          return
        }
        el._sticky = false;
        el.parentNode.removeChild(el._placeholder);
        el.classList.remove('weex-sticky');
      },

      reloadStickyChildren: function reloadStickyChildren () {
        var container = this.$el;
        if (!container) { return }
        var stickyChildren = [];
        var children = container.querySelectorAll('[sticky]');
        for (var i = 0, l = children.length; i < l; i++) {
          var child = children[i];
          if (/weex-sticky-placeholder/.test(child.className)) {  // is a placeholder.
            var origNode = child._origNode;
            if (
              !origNode
              || !origNode.parentNode
              || origNode.parentNode !== child.parentNode
            ) {
              child.parentNode.removeChild(child);
            }
          }
          else {  // is a sticky node.
            stickyChildren.push(child);
            if (!child._sticky) {
              child._initOffsetTop = child.offsetTop;
            }
          }
        }
        this._stickyChildren = stickyChildren;
      },

      handleScroll: function handleScroll (event) {
        weex.utils.getThrottleLazyload(25, this.$el, 'scroll')();
        getThrottledScroll(this)(event);

        this.processSticky();

        // fire loadmore event.
        var inner = this.$refs.inner;
        if (inner) {
          var innerLength = this.scrollDirection === 'horizontal'
            ? this._innerWidth
            : this._innerHeight;
          if (!this._innerLength) {
            this._innerLength = innerLength;
          }
          if (this._innerLength !== innerLength) {
            this._innerLength = innerLength;
            this._loadmoreReset = true;
          }
          if (this._loadmoreReset && this.reachBottom(this.loadmoreoffset)) {
            this._loadmoreReset = false;
            var el = this.$el;
            if (el) {
              weex.utils.dispatchNativeEvent(el, 'loadmore');
            }
          }
        }
      },

      reachTop: function reachTop () {
        var wrapper = this.$refs.wrapper;
        return (!!wrapper) && (wrapper.scrollTop <= 0)
      },

      reachBottom: function reachBottom (offset) {
        var wrapper = this.$refs.wrapper;
        var inner = this.$refs.inner;
        offset = parseInt(offset || 0) * weex.config.env.scale;

        if (wrapper && inner) {
          var key = this.scrollDirection === 'horizontal'
            ? 'width'
            : 'height';
          var innerLength = this[("_inner" + (key[0].toUpperCase()) + (key.substr(1)))];
          var wrapperLength = this[("_wrapper" + (key[0].toUpperCase()) + (key.substr(1)))];
          var scrollOffset = this.scrollDirection === 'horizontal'
            ? wrapper.scrollLeft
            : wrapper.scrollTop;
          return scrollOffset >= innerLength - wrapperLength - offset
        }
        return false
      },

      handleTouchStart: function handleTouchStart (event) {
        if (this._loading || this._refresh) {
          var touch = event.changedTouches[0];
          this._touchParams = {
            reachTop: this.reachTop(),
            reachBottom: this.reachBottom(),
            startTouchEvent: touch,
            startX: touch.pageX,
            startY: touch.pageY,
            timeStamp: event.timeStamp
          };
        }
      },

      handleTouchMove: function handleTouchMove (event) {
        if (!this._touchParams || !this._refresh && !this._loading) {
          return
        }
        var inner = this.$refs.inner;
        var ref = this._touchParams;
        var startY = ref.startY;
        var reachTop = ref.reachTop;
        var reachBottom = ref.reachBottom;
        if (inner) {
          var touch = event.changedTouches[0];
          var offsetY = touch.pageY - startY;
          var dir = offsetY > 0 ? 'down' : 'up';
          this._touchParams.offsetY = offsetY;
          if (this._refresh && (dir === 'down') && reachTop) {
            this._refresh.pullingDown(offsetY);
          }
          else if (this._loading && (dir === 'up') && reachBottom) {
            this._loading.pullingUp(-offsetY);
          }
        }
      },

      handleTouchEnd: function handleTouchEnd (event) {
        if (!this._touchParams || !this._refresh && !this._loading) {
          return
        }
        var inner = this.$refs.inner;
        var ref = this._touchParams;
        var startY = ref.startY;
        var reachTop = ref.reachTop;
        var reachBottom = ref.reachBottom;
        if (inner) {
          var touch = event.changedTouches[0];
          var offsetY = touch.pageY - startY;
          var dir = offsetY > 0 ? 'down' : 'up';
          this._touchParams.offsetY = offsetY;
          if (this._refresh && (dir === 'down') && reachTop) {
            this._refresh.pullingEnd();
          }
          else if (this._loading && (dir === 'up') && reachBottom) {
            this._loading.pullingEnd();
          }
        }
        delete this._touchParams;
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getList (weex) {
    var extractComponentStyle = weex.extractComponentStyle;

    return {
      name: 'weex-list',
      mixins: [scrollable],
      computed: {
        wrapperClass: function wrapperClass () {
          var classArray = ['weex-list', 'weex-list-wrapper', 'weex-ct'];
          this._refresh && classArray.push('with-refresh');
          this._loading && classArray.push('with-loading');
          return classArray.join(' ')
        }
      },

      methods: {
        createChildren: function createChildren (h) {
          var slots = this.$slots.default || [];
          this._cells = slots.filter(function (vnode) {
            if (!vnode.tag && !vnode.componentOptions) { return false }
            return true
          });
          return [
            h('article', {
              ref: 'inner',
              staticClass: 'weex-list-inner weex-ct'
            }, this._cells)
          ]
        }
      },

      render: function render (createElement) {
        var this$1 = this;

        this.weexType = 'list';

        this.$nextTick(function () {
          this$1.updateLayout();
        });

        return createElement('main', {
          ref: 'wrapper',
          attrs: { 'weex-type': 'list' },
          staticClass: this.wrapperClass,
          on: {
            scroll: this.handleScroll,
            touchstart: this.handleTouchStart,
            touchmove: this.handleTouchMove,
            touchend: this.handleTouchEnd
          },
          staticStyle: extractComponentStyle(this)
        }, this.createChildren(createElement))
      }
    }
  }

  var list = {
    init: function init (weex) {
      weex.registerComponent('list', getList(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getScroller (weex) {
    var extractComponentStyle = weex.extractComponentStyle;

    return {
      name: 'weex-scroller',
      mixins: [scrollable],
      props: {
        scrollDirection: {
          type: [String],
          default: 'vertical',
          validator: function validator (value) {
            return ['horizontal', 'vertical'].indexOf(value) !== -1
          }
        },
        scrollable: {
          type: [Boolean],
          default: true
        }
      },
      computed: {
        wrapperClass: function wrapperClass () {
          var classArray = ['weex-scroller', 'weex-scroller-wrapper', 'weex-ct'];
          if (this.scrollDirection === 'horizontal') {
            classArray.push('weex-scroller-horizontal');
          }
          else {
            classArray.push('weex-scroller-vertical');
          }
          if (!this.scrollable) {
            classArray.push('weex-scroller-disabled');
          }
          return classArray.join(' ')
        }
      },

      methods: {
        createChildren: function createChildren (h) {
          var slots = this.$slots.default || [];
          this._cells = slots.filter(function (vnode) {
            if (!vnode.tag && !vnode.componentOptions) { return false }
            return true
          });
          return [
            h('article', {
              ref: 'inner',
              staticClass: 'weex-scroller-inner weex-ct'
            }, this._cells)
          ]
        }
      },

      render: function render (createElement) {
        var this$1 = this;

        this.weexType = 'scroller';

        /* istanbul ignore next */
        // if ("production" === 'development') {
        //   validateStyles('scroller', this.$vnode.data && this.$vnode.data.staticStyle)
        // }

        this._cells = this.$slots.default || [];
        this.$nextTick(function () {
          this$1.updateLayout();
        });

        return createElement('main', {
          ref: 'wrapper',
          attrs: { 'weex-type': 'scroller' },
          on: {
            scroll: this.handleScroll,
            touchstart: this.handleTouchStart,
            touchmove: this.handleTouchMove,
            touchend: this.handleTouchEnd
          },
          staticClass: this.wrapperClass,
          staticStyle: extractComponentStyle(this)
        }, this.createChildren(createElement))
      }
    }
  }

  var scroller = {
    init: function init (weex) {
      weex.registerComponent('scroller', getScroller(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND,  either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var NORMAL_GAP_SIZE = 32;
  var DEFAULT_COLUMN_COUNT = 1;

  function getWaterfall (weex) {
    var extractComponentStyle = weex.extractComponentStyle;

    return {
      name: 'weex-waterfall',
      mixins: [scrollable],
      props: {
        /**
         * specified gap size.
         * value can be number or 'normal'. 'normal' (32px) by default.
         */
        columnGap: {
          type: [String, Number],
          default: 'normal',
          validator: function validator (val) {
            if (!val || val === 'normal') {
              return true
            }
            val = parseInt(val);
            return !isNaN(val) && val > 0
          }
        },
        /**
         * the maximum column counts.
         * value can be number or 'auto'. 1 by default.
         */
        columnCount: {
          type: [String, Number],
          default: DEFAULT_COLUMN_COUNT,
          validator: function validator (val) {
            val = parseInt(val);
            return !isNaN(val) && val > 0
          }
        },
        /**
         * the mimimum column width.
         * value can be number or 'auto'. 'auto' by default.
         */
        columnWidth: {
          type: [String, Number],
          default: 'auto',
          validator: function validator (val) {
            if (!val || val === 'auto') {
              return true
            }
            val = parseInt(val);
            return !isNaN(val) && val > 0
          }
        }
      },

      mounted: function mounted () {
        this._nextTick();
      },

      updated: function updated () {
        this.$nextTick(this._nextTick());
      },

      methods: {
        _createChildren: function _createChildren (h, rootStyle) {
          var this$1 = this;

          var slots = (this.$slots.default || []).slice();
          this._headers = [];
          this._footers = [];
          this._others = [];
          var len = slots.length;

          for (var i = 0; i < len; i++) {
            var vnode = slots[i];
            var tag =
              vnode.componentOptions
              && vnode.componentOptions.tag
              || vnode.tag;
            if (tag === 'refresh' || tag === 'loading') {
              continue
            }
            if (tag === 'section') {  // cell
              break
            }
            if (tag === 'header') {
              this$1._headers.push(vnode);
              slots[i] = null; // should not included in footer.
            }
          }

          for (var i$1 = len - 1; i$1 >= 0; i$1--) {
            var vnode$1 = slots[i$1];
            if (!vnode$1) { continue }  // already taken by header.
            var tag$1 =
              vnode$1.componentOptions
              && vnode$1.componentOptions.tag
              || vnode$1.tag;
            if (tag$1 === 'refresh' || tag$1 === 'loading') {
              continue
            }
            if (tag$1 === 'section') { // cell
              break
            }
            if (tag$1 === 'header') {
              this$1._footers.push(vnode$1);
            }
          }

          this._cells = slots.filter(function (vnode) {
            if (!vnode) { return false }
            var cmpOpts = vnode.componentOptions;
            if (!vnode.tag && !cmpOpts) { return false }
            var tag = cmpOpts && cmpOpts.tag || vnode.tag;
            if (tag === 'refresh' || tag === 'loading') {
              this$1[("_" + tag)] = vnode;
              return false
            }
            if (tag !== 'section') {
              this$1._others.push(vnode);
              return false
            }
            return true
          });

          this._reCalc(rootStyle);
          this._genColumns(h);
          var children = [];
          this._refresh && children.push(this._refresh);
          children = children.concat(this._headers);
          // .concat(this._others)
          children.push(h('html:div', {
            ref: 'columns',
            staticClass: 'weex-waterfall-inner-columns weex-ct'
          }, this._columns));
          children.push(h('html:div', {
            ref: 'footers',
            staticClass: 'weex-waterfall-footers weex-ct'
          }, this._footers));
          this._loading && children.push(this._loading);
          return [
            h('article', {
              ref: 'inner',
              staticClass: 'weex-waterfall-inner weex-ct'
            }, children)
          ]
        },

        _reCalc: function _reCalc (rootStyle) {
          /**
           * NOTE: columnGap and columnWidth can't both be auto.
           * NOTE: the formula:
           *  totalWidth = n * w + (n - 1) * gap
           * 1. if columnCount = n then calc w
           * 2. if columnWidth = w then calc n
           * 3. if columnWidth = w and columnCount = n then calc totalWidth
           *    3.1 if totalWidth < ctWidth then increase columnWidth
           *    3.2 if totalWidth > ctWidth then decrease columnCount
           */
          var width, gap, cnt, ctWidth;
          var scale = weex.config.env.scale;
          var el = this.$el;
          function getCtWidth (width, style) {
            var padding = style.padding
              ? parseInt(style.padding) * 2
              : parseInt(style.paddingLeft || 0) + parseInt(style.paddingRight || 0);
            return width - padding
          }
          if (el && el.nodeType === 1) { // already mounted
            var cstyle = window.getComputedStyle(el);
            ctWidth = getCtWidth(el.getBoundingClientRect().width, cstyle);
          }
          else { // not mounted.
            // only support full screen width for waterfall component.
            ctWidth = getCtWidth(document.documentElement.clientWidth, rootStyle);
          }

          gap = this.columnGap;
          if (gap && gap !== 'normal') {
            gap = parseInt(gap);
          }
          else {
            gap = NORMAL_GAP_SIZE;
          }
          gap = gap * scale;

          width = this.columnWidth;
          cnt = this.columnCount;
          if (width && width !== 'auto') {
            width = parseInt(width) * scale;
          }
          if (cnt && cnt !== 'auto') {
            cnt = parseInt(cnt);
          }

          // 0. if !columnCount && !columnWidth
          if (cnt === 'auto' && width === 'auto') ;
          // 1. if columnCount = n then calc w.
          else if (cnt !== 'auto' && width === 'auto') {
            width = (ctWidth - (cnt - 1) * gap) / cnt;
          }
          // 2. if columnWidth = w then calc n.
          else if (cnt === 'auto' && width !== 'auto') {
            cnt = (ctWidth + gap) / (width + gap);
          }
          // 3. if columnWidth = w and columnCount = n then calc totalWidth
          else if (cnt !== 'auto' && width !== 'auto') {
            var totalWidth;
            var adjustCountAndWidth = function () {
              totalWidth = cnt * width + (cnt - 1) * gap;
              if (totalWidth < ctWidth) {
                width += (ctWidth - totalWidth) / cnt;
              }
              else if (totalWidth > ctWidth && cnt > 1) {
                cnt--;
                adjustCountAndWidth();
              }
              else if (totalWidth > ctWidth) {  // cnt === 1
                width = ctWidth;
              }
            };
            adjustCountAndWidth();
          }
          this._columnCount = cnt;
          this._columnWidth = width;
          this._columnGap = gap;
        },

        _genColumns: function _genColumns (createElement) {
          var this$1 = this;

          this._columns = [];
          var cells = this._cells;
          var columnCnt = this._columnCount;
          var len = cells.length;
          var columnCells = this._columnCells = Array(columnCnt).join('.').split('.').map(function () { return [] });
          // spread cells to the columns using simpole polling algorithm.
          for (var i = 0; i < len; i++) {
            (cells[i].data.attrs || (cells[i].data.attrs = {}))['data-cell'] = i;
            columnCells[i % columnCnt].push(cells[i]);
          }
          for (var i$1 = 0; i$1 < columnCnt; i$1++) {
            this$1._columns.push(createElement('html:div', {
              ref: ("column" + i$1),
              attrs: {
                'data-column': i$1
              },
              staticClass: 'weex-ct',
              staticStyle: {
                width: this$1._columnWidth + 'px',
                marginLeft: i$1 === 0 ? 0 : this$1._columnGap + 'px'
              }
            }, columnCells[i$1]));
          }
        },

        _nextTick: function _nextTick () {
          this._reLayoutChildren();
        },

        _reLayoutChildren: function _reLayoutChildren () {
          var this$1 = this;

          /**
           * treat the shortest column bottom as the match standard.
           * whichever cell exceeded it would be rearranged.
           * 1. m = shortest column bottom.
           * 2. get all cell ids who is below m.
           * 3. calculate which cell should be in which column.
           */
          var columnCnt = this._columnCount;
          var columnDoms = [];
          var columnAppendFragments = [];
          var columnBottoms = [];
          var minBottom = Number.MAX_SAFE_INTEGER;
          var minBottomColumnIndex = 0;

          // 1. find the shortest column bottom.
          for (var i = 0; i < columnCnt; i++) {
            var columnDom = this$1._columns[i].elm;
            var lastChild = columnDom.lastElementChild;
            var bottom = lastChild ? lastChild.getBoundingClientRect().bottom : 0;
            columnDoms.push(columnDom);
            columnBottoms[i] = bottom;
            columnAppendFragments.push(document.createDocumentFragment());
            if (bottom < minBottom) {
              minBottom = bottom;
              minBottomColumnIndex = i;
            }
          }

          // 2. get all cell ids who is below m.
          var belowCellIds = [];
          var belowCells = {};
          for (var i$1 = 0; i$1 < columnCnt; i$1++) {
            if (i$1 === minBottomColumnIndex) {
              continue
            }
            var columnDom$1 = columnDoms[i$1];
            var cellsInColumn = columnDom$1.querySelectorAll('section.weex-cell');
            var len = cellsInColumn.length;
            for (var j = len - 1; j >= 0; j--) {
              var cellDom = cellsInColumn[j];
              var cellRect = cellDom.getBoundingClientRect();
              if (cellRect.top > minBottom) {
                var id = ~~cellDom.getAttribute('data-cell');
                belowCellIds.push(id);
                belowCells[id] = { elm: cellDom, height: cellRect.height };
                columnBottoms[i$1] -= cellRect.height;
              }
            }
          }

          // 3. calculate which cell should be in which column and rearrange them
          //  in the dom tree.
          belowCellIds.sort(function (a, b) { return a > b });
          var cellIdsLen = belowCellIds.length;
          function addToShortestColumn (belowCell) {
            // find shortest bottom.
            minBottom = Math.min.apply(Math, columnBottoms);
            minBottomColumnIndex = columnBottoms.indexOf(minBottom);
            var cellElm = belowCell.elm;
            var cellHeight = belowCell.height;
            columnAppendFragments[minBottomColumnIndex].appendChild(cellElm);
            columnBottoms[minBottomColumnIndex] += cellHeight;
          }
          for (var i$2 = 0; i$2 < cellIdsLen; i$2++) {
            addToShortestColumn(belowCells[belowCellIds[i$2]]);
          }
          for (var i$3 = 0; i$3 < columnCnt; i$3++) {
            columnDoms[i$3].appendChild(columnAppendFragments[i$3]);
          }
        }
      },

      render: function render (createElement) {
        var this$1 = this;

        this.weexType = 'waterfall';
        this._cells = this.$slots.default || [];
        this.$nextTick(function () {
          this$1.updateLayout();
        });
        var mergedStyle = extractComponentStyle(this);
        return createElement('main', {
          ref: 'wrapper',
          attrs: { 'weex-type': 'waterfall' },
          on: {
            scroll: this.handleScroll,
            touchstart: this.handleTouchStart,
            touchmove: this.handleTouchMove,
            touchend: this.handleTouchEnd
          },
          staticClass: 'weex-waterfall weex-waterfall-wrapper weex-ct',
          staticStyle: mergedStyle
        }, this._createChildren(createElement, mergedStyle))
      }
    }
  }

  var waterfall = {
    init: function init (weex) {
      weex.registerComponent('waterfall', getWaterfall(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getHeader (weex) {
    var extractComponentStyle = weex.extractComponentStyle;

    return {
      render: function render (createElement) {
        var attrs = this.$vnode.data.attrs;
        return createElement('html:header', {
          attrs: {
            'weex-type': 'header',
            sticky: (
              this.$parent.weexType === 'waterfall'
              && typeof attrs.sticky === 'undefined'
            ) ? undefined : ''
          },
          ref: 'header',
          staticClass: 'weex-header weex-ct',
          staticStyle: extractComponentStyle(this)
        }, this.$slots.default)
      }
    }
  }

  var header = {
    init: function init (weex) {
      weex.registerComponent('header', getHeader(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getLoading () {
    var extractComponentStyle = weex.extractComponentStyle;
    var ref = weex.utils;
    var dispatchNativeEvent = ref.dispatchNativeEvent;

    return {
      name: 'weex-loading',
      props: {
        display: {
          type: String,
          default: 'show',
          validator: function validator (value) {
            return ['show', 'hide'].indexOf(value) !== -1
          }
        }
      },
      data: function data () {
        return {
          height: -1,
          viewHeight: 0
        }
      },
      mounted: function mounted () {
        this.viewHeight = this.$el.offsetHeight;
        if (this.display === 'hide') {
          this.height = 0;
        }
        else {
          this.height = this.viewHeight;
        }
      },
      watch: {
        height: function height (val) {
          var offset = val + "px";
          this.$el.style.height = offset;
          this.$el.style.bottom = offset;
        },
        display: function display (val) {
          if (val === 'hide') {
            this.height = 0;
          }
          else {
            this.height = this.viewHeight;
          }
        }
      },
      methods: {
        pulling: function pulling (offsetY) {
          if ( offsetY === void 0 ) offsetY = 0;

          this.height = offsetY;
        },
        pullingUp: function pullingUp (offsetY) {
          this.$el.style.transition = "height 0s";
          this.pulling(offsetY);
        },
        pullingEnd: function pullingEnd () {
          this.$el && (this.$el.style.transition = "height .2s");
          if (this.height >= this.viewHeight) {
            this.pulling(this.viewHeight);
            if (this.$el) {
              dispatchNativeEvent(this.$el, 'loading');
            }
          }
          else {
            this.pulling(0);
          }
        },
        getChildren: function getChildren () {
          var children = this.$slots.default || [];
          if (this.display === 'show') {
            return children
          }
          return children.filter(function (vnode) {
            return !(vnode.componentOptions
              && vnode.componentOptions.tag === 'loading-indicator')
          })
        }
      },
      render: function render (createElement) {
        this.$parent._loading = this;
        return createElement('aside', {
          ref: 'loading',
          attrs: { 'weex-type': 'loading' },
          staticClass: 'weex-loading weex-ct',
          staticStyle: extractComponentStyle(this)
        }, this.getChildren())
      }
    }
  }

  var loading = {
    init: function init (weex) {
      weex.registerComponent('loading', getLoading(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getRefresh (weex) {
    var extractComponentStyle = weex.extractComponentStyle;
    var ref = weex.utils;
    var dispatchNativeEvent = ref.dispatchNativeEvent;

    return {
      name: 'weex-refresh',
      props: {
        display: {
          type: String,
          default: 'show',
          validator: function validator (value) {
            return ['show', 'hide'].indexOf(value) !== -1
          }
        }
      },
      data: function data () {
        return {
          lastDy: 0,
          viewHeight: 0,
          height: -1
        }
      },
      mounted: function mounted () {
        this.viewHeight = this.$el.offsetHeight;
        if (this.display === 'hide') {
          this.height = 0;
        }
        else {
          this.height = this.viewHeight;
        }
      },
      watch: {
        height: function height (val) {
          this.$el.style.height = val + "px";
        },
        display: function display (val) {
          if (val === 'hide') {
            this.height = 0;
          }
          else {
            this.height = this.viewHeight;
          }
        }
      },
      methods: {
        pulling: function pulling (offsetY) {
          if ( offsetY === void 0 ) offsetY = 0;

          this.height = offsetY;
          if (this.$el) {
            dispatchNativeEvent(this.$el, 'pullingdown', {
              dy: offsetY - this.lastDy,
              pullingDistance: offsetY,
              viewHeight: this.viewHeight
            });
          }
          this.lastDy = offsetY;
        },
        pullingDown: function pullingDown (offsetY) {
          this.$el.style.transition = "height 0s";
          this.pulling(offsetY);
        },
        pullingEnd: function pullingEnd () {
          this.$el && (this.$el.style.transition = "height .2s");
          if (this.height >= this.viewHeight) {
            this.pulling(this.viewHeight);
            if (this.$el) {
              dispatchNativeEvent(this.$el, 'refresh');
            }
          }
          else {
            this.pulling(0);
          }
        },
        getChildren: function getChildren () {
          var children = this.$slots.default || [];
          if (this.display === 'show') {
            return children
          }
          return children.filter(function (vnode) {
            return !(vnode.componentOptions
              && vnode.componentOptions.tag === 'loading-indicator')
          })
        }
      },
      render: function render (createElement) {
        this.$parent._refresh = this;
        return createElement('aside', {
          ref: 'refresh',
          attrs: { 'weex-type': 'refresh' },
          staticClass: 'weex-refresh weex-ct',
          staticStyle: extractComponentStyle(this)
        }, this.getChildren())
      }
    }
  }

  var refresh = {
    init: function init (weex) {
      weex.registerComponent('refresh', getRefresh(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var extractComponentStyle$1, getRgb$1, loopArray$1, getStyleSheetById$1;

  var _css = "\n.weex-refresh-indicator,\n.weex-loading-indicator {\n  width: 1rem !important;\n  height: 1rem !important;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  overflow: visible;\n  background: none;\n}\n.weex-refresh-indicator:before,\n.weex-loading-indicator:before {\n  display: block;\n  content: '';\n  font-size: 0.16rem;\n  width: 0.5em;\n  height: 0.5em;\n  left: 0;\n  top: 0;\n  border-radius: 50%;\n  position: relative;\n  text-indent: -9999em;\n  -webkit-animation: weex-spinner 1.1s infinite ease;\n  -moz-animation: weex-spinner 1.1s infinite ease;\n  animation: weex-spinner 1.1s infinite ease;\n}\n\n@-webkit-keyframes weex-spinner {\n  0%,\n  100% {\n    box-shadow: 0em -1.3em 0em 0em #ffffff, 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.5), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  11.25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.7), 0.9em -0.9em 0 0em #ffffff, 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.5), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.7), 1.25em 0em 0 0em #ffffff, 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.5), 1.25em 0em 0 0em rgba(255, 255, 255, 0.7), 0.875em 0.875em 0 0em #ffffff, 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.5), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.7), 0em 1.25em 0 0em #ffffff, -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  61.25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.5), 0em 1.25em 0 0em rgba(255, 255, 255, 0.7), -0.9em 0.9em 0 0em #ffffff, -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.5), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.7), -1.3em 0em 0 0em #ffffff, -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.5), -1.3em 0em 0 0em rgba(255, 255, 255, 0.7), -0.9em -0.9em 0 0em #ffffff;\n  }\n}\n\n@keyframes weex-spinner {\n  0%,\n  100% {\n    box-shadow: 0em -1.3em 0em 0em #ffffff, 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.5), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  11.25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.7), 0.9em -0.9em 0 0em #ffffff, 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.5), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.7), 1.25em 0em 0 0em #ffffff, 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.5), 1.25em 0em 0 0em rgba(255, 255, 255, 0.7), 0.875em 0.875em 0 0em #ffffff, 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.5), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.7), 0em 1.25em 0 0em #ffffff, -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.2), -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  61.25% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.5), 0em 1.25em 0 0em rgba(255, 255, 255, 0.7), -0.9em 0.9em 0 0em #ffffff, -1.3em 0em 0 0em rgba(255, 255, 255, 0.2), -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.5), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.7), -1.3em 0em 0 0em #ffffff, -0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -1.3em 0em 0em rgba(255, 255, 255, 0.2), 0.9em -0.9em 0 0em rgba(255, 255, 255, 0.2), 1.25em 0em 0 0em rgba(255, 255, 255, 0.2), 0.875em 0.875em 0 0em rgba(255, 255, 255, 0.2), 0em 1.25em 0 0em rgba(255, 255, 255, 0.2), -0.9em 0.9em 0 0em rgba(255, 255, 255, 0.5), -1.3em 0em 0 0em rgba(255, 255, 255, 0.7), -0.9em -0.9em 0 0em #ffffff;\n  }\n}\n";

  function getStyleSheet (spinnerVm) {
    if (spinnerVm._styleSheet) {
      return
    }
    spinnerVm._styleSheet = getStyleSheetById$1('weex-cmp-loading-indicator');
  }

  function setKeyframeColor (spinnerVm, val) {
    getStyleSheet(spinnerVm);
    var keyframeRules = computeKeyFrameRules(val);
    var rules = spinnerVm._styleSheet.rules || spinnerVm._styleSheet.cssRules;
    for (var i = 0, l = rules.length; i < l; i++) {
      var item = rules.item(i);
      if ((item.type === CSSRule.KEYFRAMES_RULE
            || item.type === CSSRule.WEBKIT_KEYFRAMES_RULE)
          && item.name === 'weex-spinner') {
        var cssRules = item.cssRules;
        for (var j = 0, m = cssRules.length; j < m; j++) {
          var keyframe = cssRules[j];
          if (keyframe.type === CSSRule.KEYFRAME_RULE
            || keyframe.type === CSSRule.WEBKIT_KEYFRAME_RULE) {
            keyframe.style.boxShadow = keyframeRules[j];
          }
        }
      }
    }
  }

  function computeKeyFrameRules (rgb) {
    if (!rgb) {
      return
    }
    var scaleArr = [
      '0em -1.3em 0em 0em',
      '0.9em -0.9em 0 0em',
      '1.25em 0em 0 0em',
      '0.875em 0.875em 0 0em',
      '0em 1.25em 0 0em',
      '-0.9em 0.9em 0 0em',
      '-1.3em 0em 0 0em',
      '-0.9em -0.9em 0 0em'];
    var colorArr = [
      '1',
      '0.2',
      '0.2',
      '0.2',
      '0.2',
      '0.2',
      '0.5',
      '0.7']
      .map(function (e) {
        return 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + e + ')'
      });
    var rules = [];
    var loop = function ( i ) {
      var tmpColorArr = loopArray$1(colorArr, i, 'r');
      rules.push(scaleArr.map(function (scaleStr, i) {
        return scaleStr + ' ' + tmpColorArr[i]
      }).join(', '));
    };

    for (var i = 0; i < scaleArr.length; i++) loop( i );
    return rules
  }

  function processStyle$1 (vm) {
    var style = extractComponentStyle$1(vm);
    var color = style.color;
    var rgb = color && getRgb$1(color);
    if (rgb) {
      setKeyframeColor(vm, rgb);
    }
    return style
  }

  var loadingIndicator = {
    name: 'weex-loading-indicator',
    render: function render (createElement) {
      this.weexType = 'loading-indicator';
      return createElement('mark', {
        attrs: { 'weex-type': 'loading-indicator' },
        staticClass: 'weex-loading-indicator weex-ct',
        staticStyle: processStyle$1(this)
      })
    },
    _css: _css
  };

  var loadingIndicator$1 = {
    init: function init (weex) {
      extractComponentStyle$1 = weex.extractComponentStyle;
      getRgb$1 = weex.utils.getRgb;
      loopArray$1 = weex.utils.loopArray;
      getStyleSheetById$1 = weex.utils.getStyleSheetById;
      weex.registerComponent('loading-indicator', loadingIndicator);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getList$1 (weex) {
    var extractComponentStyle = weex.extractComponentStyle;

    return {
      name: 'weex-recycle-list',
      mixins: [scrollable],
      props: {
        scrollDirection: {
          type: [String],
          default: 'vertical',
          validator: function validator (value) {
            return ['horizontal', 'vertical'].indexOf(value) !== -1
          }
        },
        _items: Array,
        _switch: String
      },
      computed: {
        wrapperClass: function wrapperClass () {
          var classArray = ['weex-recycle', 'weex-recycle-wrapper', 'weex-ct'];
          this._refresh && classArray.push('with-refresh');
          this._loading && classArray.push('with-loading');
          if (this.scrollDirection === 'horizontal') {
            classArray.push('weex-recycle-horizontal');
          }
          else {
            classArray.push('weex-recycle-vertical');
          }
          return classArray.join(' ')
        }
      },

      methods: {
        createChildren: function createChildren (h) {
          var _vm = this;
          return [
            h('article', {
              ref: 'inner',
              staticClass: 'weex-recycle-inner weex-ct'
            }, [
              _vm._l(_vm._items, function (item, index) {
                return [
                  _vm._t(_vm.sloteName(item), null, {
                    item: item,
                    index: index
                  })
                ]
              })
            ])
          ]
        },
        sloteName: function sloteName (item) {
          if (this._switch && item[this._switch]) {
            return item[this._switch]
          }
          else {
            return 'default'
          }
        }
      },

      render: function render (createElement) {
        var this$1 = this;

        this.weexType = 'list';

        this.$nextTick(function () {
          this$1.updateLayout();
        });

        return createElement('main', {
          ref: 'wrapper',
          attrs: { 'weex-type': 'recycle-list' },
          staticClass: this.wrapperClass,
          on: {
            scroll: this.handleScroll,
            touchstart: this.handleTouchStart,
            touchmove: this.handleTouchMove,
            touchend: this.handleTouchEnd
          },
          staticStyle: extractComponentStyle(this)
        }, this.createChildren(createElement))
      }
    }
  }

  var recycleList = {
    init: function init (weex) {
      weex.registerComponent('recycle-list', getList$1(weex));
    }
  };

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nbody > .weex-list,\nbody > .weex-recycle,\nbody > .weex-scroller,\nbody > .weex-waterfall {\n  max-height: 100%;\n}\n\n.weex-list-wrapper,\n.weex-recycle-wrapper,\n.weex-scroller-wrapper,\n.weex-waterfall-wrapper {\n  -webkit-overflow-scrolling: touch;\n}\n\n.weex-list-wrapper,\n.weex-waterfall-wrapper {\n  overflow-y: scroll !important;\n  overflow-x: hidden !important;\n}\n\n.weex-list-inner,\n.weex-recycle-inner,\n.weex-scroller-inner,\n.weex-waterfall-inner {\n  -webkit-overflow-scrolling: touch;\n}\n\n.weex-waterfall-inner-columns {\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -webkit-box-orient: horizontal;\n}\n\n.weex-scroller-wrapper.weex-scroller-vertical,\n.weex-recycle-wrapper.weex-recycle-vertical  {\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n\n.weex-scroller-wrapper.weex-scroller-horizontal,\n.weex-recycle-wrapper.weex-recycle-horizontal {\n  overflow-x: scroll;\n  overflow-y: hidden;\n}\n\n.weex-scroller-wrapper.weex-scroller-disabled {\n  overflow-x: hidden;\n  overflow-y: hidden;\n}\n\n.weex-scroller-horizontal .weex-scroller-inner,\n.weex-recycle-horizontal .weex-recycle-inner {\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -webkit-box-orient: horizontal;\n  height: 100%;\n}\n\n.weex-cell {\n  width: 100%;\n}\n\n.weex-refresh,\n.weex-loading {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  width: 100%;\n  overflow: hidden;\n}\n", {});

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var modules = [
    list,
    scroller,
    waterfall,
    // cell,
    header,
    loading,
    refresh,
    loadingIndicator$1,
    recycleList
  ];

  var scrollable$1 = {
    init: function init (weex) {
      modules.forEach(function (mod) {
        weex.install(mod);
      });
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var TRANSITION_TIME = 400;
  var NEIGHBOR_SCALE_TIME = 100;
  var MAIN_SLIDE_OPACITY = 1;
  var THROTTLE_SCROLL_TIME = 25;
  var INTERVAL_MINIMUM = 200;

  var slideMixin = {
    created: function created () {
      this._clones = [];
      this.innerOffset = 0;
      this._indicator = null;
    },

    beforeUpdate: function beforeUpdate () {
      this._getWrapperSize();
    },

    updated: function updated () {
      var this$1 = this;

      var children = this.$children;
      var len = children && children.length;
      if (children && len > 0) {
        for (var i = 0; i < len; i++) {
          var vm = children[i];
          if (vm.$options._componentTag === 'indicator'
            || vm.$vnode.data.ref === 'indicator') {
            vm._watcher.get();
            break
          }
        }
      }

      var frameCount = this.frameCount;
      if (!this._preFrameCount) {
        this._preFrameCount = frameCount;
      }
      else if (this._preFrameCount !== frameCount) {
        this._resetNodes();
        this._preFrameCount = frameCount;
        var resetBlankFrame = function () {
          if (this$1.currentIndex >= frameCount) {
            // reset blank page.
            this$1._stopAutoPlay();
            this$1._slideTo(0);
          }
        };
        if (this._sliding) {
          // If it's sliding, then the currentIndex is the last frame. The actual currentIndex
          // should be the next index.
          // That is to say, this updating happens Between _parepareNodes and _rearrangeNodes,
          // and the sliding is not yet finished, and the state is not updated yet.
          setTimeout(resetBlankFrame, TRANSITION_TIME + NEIGHBOR_SCALE_TIME);
        }
        else {
          resetBlankFrame();
        }
      }
      weex.utils.fireLazyload(this.$el, true);
      if (this._preIndex !== this.currentIndex) {
        this._slideTo(this.currentIndex);
      }
    },

    mounted: function mounted () {
      this._getWrapperSize();
      this._slideTo(this.currentIndex);
      weex.utils.fireLazyload(this.$el, true);
    },

    methods: {
      _getWrapperSize: function _getWrapperSize () {
        var wrapper = this.$refs.wrapper;
        if (wrapper) {
          var rect = wrapper.getBoundingClientRect();
          this._wrapperWidth = rect.width;
          this._wrapperHeight = rect.height;
        }
      },

      _formatChildren: function _formatChildren (createElement) {
        var this$1 = this;

        var children = this.$slots.default || [];
        var indicatorVnode;
        var cells = children.filter(function (vnode) {
          if (!vnode.tag) { return false }
          if (vnode.componentOptions && vnode.componentOptions.tag === 'indicator') {
            indicatorVnode = vnode;
            return false
          }
          return true
        }).map(function (vnode) {
          return createElement('li', {
            ref: 'cells',
            staticClass: ("weex-slider-cell weex-ct" + (this$1.isNeighbor ? ' neighbor-cell' : ''))
          }, [vnode])
        });
        if (indicatorVnode) {
          indicatorVnode.data.attrs = indicatorVnode.data.attrs || {};
          indicatorVnode.data.attrs.count = cells.length;
          indicatorVnode.data.attrs.active = this.currentIndex;
          this._indicator = indicatorVnode;
        }
        return cells
      },

      _renderSlides: function _renderSlides (createElement) {
        this._cells = this._formatChildren(createElement);
        this.frameCount = this._cells.length;
        return createElement(
          'nav',
          {
            ref: 'wrapper',
            attrs: { 'weex-type': this.isNeighbor ? 'slider-neighbor' : 'slider' },
            on: {
              touchstart: this._handleTouchStart,
              touchmove: weex.utils.throttle(weex.utils.bind(this._handleTouchMove, this), 25),
              touchend: this._handleTouchEnd,
              touchcancel: this._handleTouchCancel
            },
            staticClass: 'weex-slider weex-slider-wrapper weex-ct',
            staticStyle: weex.extractComponentStyle(this)
          },
          [
            createElement('ul', {
              ref: 'inner',
              staticClass: 'weex-slider-inner weex-ct'
            }, this._cells),
            this._indicator
          ]
        )
      },

      // get standard index
      _normalizeIndex: function _normalizeIndex (index) {
        var newIndex = (index + this.frameCount) % this.frameCount;
        return Math.min(Math.max(newIndex, 0), this.frameCount - 1)
      },

      _startAutoPlay: function _startAutoPlay () {
        if (!this.autoPlay || this.autoPlay === 'false') {
          return
        }
        if (this._autoPlayTimer) {
          clearTimeout(this._autoPlayTimer);
          this._autoPlayTimer = null;
        }
        var interval = parseInt(this.interval - TRANSITION_TIME - NEIGHBOR_SCALE_TIME);
        interval = interval > INTERVAL_MINIMUM ? interval : INTERVAL_MINIMUM;
        this._autoPlayTimer = setTimeout(weex.utils.bind(this._next, this), interval);
      },

      _stopAutoPlay: function _stopAutoPlay () {
        if (this._autoPlayTimer) {
          clearTimeout(this._autoPlayTimer);
          this._autoPlayTimer = null;
        }
      },

      _slideTo: function _slideTo (index, isTouchScroll) {
        var this$1 = this;

        if (this.frameCount <= 0) {
          return
        }
        if (!this.infinite || this.infinite === 'false') {
          if (index === -1 || index > (this.frameCount - 1)) {
            this._slideTo(this.currentIndex);
            return
          }
        }
        if (!this._preIndex && this._preIndex !== 0) {
          if (this._showNodes && this._showNodes[0]) {
            this._preIndex = this._showNodes[0].index;
          }
          else {
            this._preIndex = this.currentIndex;
          }
        }

        if (this._sliding) {
          return
        }
        this._sliding = true;

        var newIndex = this._normalizeIndex(index);
        var inner = this.$refs.inner;
        var step = this._step = this.frameCount <= 1 ? 0 : this._preIndex - index;

        if (inner) {
          this._prepareNodes();
          var translate = weex.utils.getTransformObj(inner).translate;
          var match = translate && translate.match(/translate[^(]+\(([+-\d.]+)/);
          var innerX = match && match[1] || 0;
          var dist = innerX - this.innerOffset;
          this.innerOffset += step * this._wrapperWidth;
          // transform the whole slides group.
          inner.style.webkitTransition = "-webkit-transform " + (TRANSITION_TIME / 1000) + "s ease-in-out";
          inner.style.mozTransition = "transform " + (TRANSITION_TIME / 1000) + "s ease-in-out";
          inner.style.transition = "transform " + (TRANSITION_TIME / 1000) + "s ease-in-out";
          inner.style.webkitTransform = "translate3d(" + (this.innerOffset) + "px, 0, 0)";
          inner.style.mozTransform = "translate3d(" + (this.innerOffset) + "px, 0, 0)";
          inner.style.transform = "translate3d(" + (this.innerOffset) + "px, 0, 0)";

          // emit scroll events.
          if (!isTouchScroll) {
            this._emitScrollEvent('scrollstart');
          }
          setTimeout(function () {
            this$1._throttleEmitScroll(dist, function () {
              this$1._emitScrollEvent('scrollend');
            });
          }, THROTTLE_SCROLL_TIME);

          this._loopShowNodes(step);

          setTimeout(function () {
            if (this$1.isNeighbor) {
              this$1._setNeighbors();
            }

            setTimeout(function () {
              inner.style.webkitTransition = '';
              inner.style.mozTransition = '';
              inner.style.transition = '';
              for (var i = this$1._showStartIdx; i <= this$1._showEndIdx; i++) {
                var node = this$1._showNodes[i];
                if (!node) { continue }
                var elm = node.firstElementChild;
                elm.style.webkitTransition = '';
                elm.style.mozTransition = '';
                elm.style.transition = '';
              }
              // clean cloned nodes and rearrange slide cells.
              this$1._rearrangeNodes(newIndex);
            }, NEIGHBOR_SCALE_TIME);
          }, TRANSITION_TIME);
        }

        if (newIndex !== this._preIndex) {
          weex.utils.dispatchNativeEvent(this.$el, 'change', {
            index: newIndex
          });
        }
      },

      _clearNodesOffset: function _clearNodesOffset () {
        var this$1 = this;

        var end = this._showEndIdx;
        for (var i = this._showStartIdx; i <= end; i++) {
          var node = this$1._showNodes[i];
          node = node && node.firstElementChild;
          if (!node) { continue }
          weex.utils.addTransform(this$1._showNodes[i].firstElementChild, {
            translate: 'translate3d(0px, 0px, 0px)'
          });
        }
      },

      _loopShowNodes: function _loopShowNodes (step) {
        var this$1 = this;

        if (!step || this.frameCount <= 1) {
          return
        }
        var sign = step > 0 ? 1 : -1;
        var i = step <= 0 ? this._showStartIdx : this._showEndIdx;
        var end = step <= 0 ? this._showEndIdx : this._showStartIdx;
        for (; i !== end - sign; i -= sign) {
          var nextIdx = i + step;
          this$1._showNodes[nextIdx] = this$1._showNodes[i];
          this$1._showNodes[nextIdx]._showIndex = nextIdx;
          delete this$1._showNodes[i];
        }
        this._showStartIdx += step;
        this._showEndIdx += step;
      },

      _prepareNodes: function _prepareNodes () {
        // test if the next slide towards the direction exists.
        // e.g. currentIndex 0 -> 1: should prepare 4 slides: -1, 0, 1, 2
        // if not, translate a node to here, or just clone it.
        var step = this._step;
        if (!this._inited) {
          this._initNodes();
          this._inited = true;
          this._showNodes = {};
        }
        if (this.frameCount <= 1) {
          this._showStartIdx = this._showEndIdx = 0;
          var node = this._cells[0].elm;
          node.style.opacity = 1;
          node.style.zIndex = 99;
          node.index = 0;
          this._showNodes[0] = node;
          node._inShow = true;
          node._showIndex = 0;
          return
        }

        var showCount = this._showCount = Math.abs(step) + 3;
        this._showStartIdx = step <= 0 ? -1 : 2 - showCount;
        this._showEndIdx = step <= 0 ? showCount - 2 : 1;
        this._clearNodesOffset();
        this._positionNodes(this._showStartIdx, this._showEndIdx, step);
      },

      _clearClones: function _clearClones () {
        var this$1 = this;

        // clear all clones.
        Object.keys(this._clones).forEach(function (key) {
          this$1._clones[key].forEach(function (cloneNode) {
            cloneNode.parentNode.removeChild(cloneNode);
          });
          this$1._clones[key] = [];
        });
      },

      // reset nodes' index and _inShow state. But leave the styles
      // as they are to prevent dom rerendering.
      _resetNodes: function _resetNodes () {
        this._clearClones();
        // reset status.
        this._cells.forEach(function (cell, idx) {
          var elm = cell.elm;
          elm.index = idx;
          elm._inShow = false;
        });
      },

      _initNodes: function _initNodes () {
        this._cells.forEach(function (cell, idx) {
          var node = cell.elm;
          node.index = idx;
          node._inShow = false;
          node.style.zIndex = 0;
          node.style.opacity = 0;
        });
      },

      _positionNodes: function _positionNodes (begin, end, step, anim) {
        var this$1 = this;

        var cells = this._cells;
        var start = step <= 0 ? begin : end;
        var stop = step <= 0 ? end : begin;
        var sign = step <= 0 ? -1 : 1;
        var cellIndex = this._preIndex + sign;
        for (var i = start; i !== stop - sign; i = i - sign) {
          var node = cells[this$1._normalizeIndex(cellIndex)].elm;
          cellIndex = cellIndex - sign;
          this$1._positionNode(node, i);
        }
      },

      /**
       * index: position index in the showing cells' view.
       */
      _positionNode: function _positionNode (node, index) {
        var holder = this._showNodes[index];
        if (node._inShow && (holder !== node || holder._showIndex !== index)) {
          if (holder && holder._isClone) { this._removeClone(holder); }
          node = this._getClone(node.index);
        }
        else if (node._inShow) {  // holder === node
          return
        }

        node._inShow = true;
        var translateX = index * this._wrapperWidth - this.innerOffset;
        weex.utils.addTransform(node, {
          translate: ("translate3d(" + translateX + "px, 0px, 0px)")
        });
        node.style.zIndex = 99 - Math.abs(index);
        node.style.opacity = 1;
        node._showIndex = index;
        this._showNodes[index] = node;
      },

      _getClone: function _getClone (index) {
        var arr = this._clones[index] || (this._clones[index] = []);
        var origNode = this._cells[index].elm;
        var clone = origNode.cloneNode(true);
        clone._isClone = true;
        clone._inShow = true;
        // clone._inShow = origNode._inShow
        clone.index = origNode.index;
        clone.style.opacity = 0;
        clone.style.zIndex = 0;
        this.$refs.inner.appendChild(clone);
        arr.push(clone);
        return clone
        // try {
        //   let arr = this._clones[index]
        //   if (!arr) {
        //     this._clones[index] = arr = []
        //   }
        //   if (arr.length <= 0) {

        //   }
        //   return arr.pop()
        // } catch (err) {
        //   console.error('this._cells -> ', this._cells)
        // }
      },

      _removeClone: function _removeClone (node) {
        var cloneArr = this._clones[node.index];
        var i;
        if (cloneArr && (i = cloneArr.indexOf(node)) > -1) {
          cloneArr.splice(i, 1);
        }
        try {
          node.parentNode.removeChild(node);
        }
        catch (err) {
          // maybe cells has been updated and this clone node is already removed from the dom tree
          // throught _clearClones method.
        }
        // const idx = node.index
        // this._hideNode(node)
        // const arr = this._clones[idx]
        // arr.push(node)
      },

      _hideNode: function _hideNode (node) {
        node._inShow = false;
        node.style.opacity = 0;
        node.style.zIndex = 0;
      },

      /**
       * hide nodes from begin to end in showArray.
       * if it is clone node, just move the clone node to the buffer.
       */
      _clearNodes: function _clearNodes (begin, end) {
        var this$1 = this;

        for (var i = begin; i <= end; i++) {
          var node = this$1._showNodes[i];
          if (!node) { return }
          if (node._isClone) {
            this$1._removeClone(node);
          }
          else if (!node._inShow) {
            this$1._hideNode(node);
          }
          delete this$1._showNodes[i];
        }
      },

      /**
       * copy node style props (opacity and zIndex) and transform status from
       * one element to another.
       */
      _copyStyle: function _copyStyle (from, to, styles, transformExtra) {
        if ( styles === void 0 ) styles = ['opacity', 'zIndex'];
        if ( transformExtra === void 0 ) transformExtra = {};

        weex.utils.extendKeys(to.style, from.style, styles);
        var transObj = weex.utils.getTransformObj(from);
        for (var k in transformExtra) {
          transObj[k] = transformExtra[k];
        }
        weex.utils.addTransform(to, transObj);
        var fromInner = from.firstElementChild;
        var toInner = to.firstElementChild;
        toInner.style.opacity = fromInner.style.opacity;
        weex.utils.copyTransform(fromInner, toInner);
      },

      /**
       * replace a clone node with the original node if it's not in use.
       */
      _replaceClone: function _replaceClone (clone, pos) {
        var this$1 = this;

        var origCell = this._cells[clone.index];
        if (!origCell) {
          return
        }
        var origNode = origCell.elm;
        if (origNode._inShow) {
          return
        }
        var origShowIndex = origNode._showIndex;
        var styleProps = ['opacity', 'zIndex'];
        var cl;
        if (Math.abs(origShowIndex) <= 1) {
          // leave a clone to replace the origNode in the show zone(-1 ~ 1).
          cl = this._getClone(origNode.index);
          this._copyStyle(origNode, cl);
          this._showNodes[origShowIndex] = cl;
        }
        origNode._inShow = true;
        var transObj = weex.utils.getTransformObj(clone);
        transObj.translate = transObj.translate.replace(/[+-\d.]+[pw]x/, function ($0) {
          return pos * this$1._wrapperWidth - this$1.innerOffset + 'px'
        });
        this._copyStyle(clone, origNode, styleProps, transObj);
        this._removeClone(clone);
        if (!cl) {
          delete this._showNodes[origShowIndex];
        }
        this._showNodes[pos] = origNode;
        origNode._showIndex = pos;
      },

      _rearrangeNodes: function _rearrangeNodes (newIndex) {
        var this$1 = this;

        if (this.frameCount <= 1) {
          this._sliding = false;
          this.currentIndex = 0;
          return
        }

        // clear autoPlay timer (and restart after updated hook).
        this._startAutoPlay();

        /**
         * clean nodes. replace current node with non-cloned node.
         * set current index to the new index.
         */
        var shows = this._showNodes;
        for (var i = this._showStartIdx; i <= this._showEndIdx; i++) {
          shows[i]._inShow = false;
        }
        for (var i$1 = -1; i$1 <= 1; i$1++) {
          var node = shows[i$1];
          if (!node._isClone) {
            node._inShow = true;
          }
          else {
            this$1._replaceClone(node, i$1);
          }
        }

        this._clearNodes(this._showStartIdx, -2);
        this._showStartIdx = -1;
        this._clearNodes(2, this._showEndIdx);
        this._showEndIdx = 1;
        this._sliding = false;

        // set current index to the new index.
        this.currentIndex = newIndex;
        this._preIndex = newIndex;
      },

      /**
       * according to the attrs: neighborScale, neighborAlpha, neighborSpace.
       * 1. apply the main cell transform effects.
       * 2. set the previous cell and the next cell's positon, scale and alpha.
       * 3. set other cells' scale and alpha.
       */
      _setNeighbors: function _setNeighbors () {
        var this$1 = this;

        for (var i = this._showStartIdx; i <= this._showEndIdx; i++) {
          var elm = this$1._showNodes[i].firstElementChild;
          elm.style.webkitTransition = "all " + (NEIGHBOR_SCALE_TIME / 1000) + "s ease";
          elm.style.mozTransition = "all " + (NEIGHBOR_SCALE_TIME / 1000) + "s ease";
          elm.style.transition = "all " + (NEIGHBOR_SCALE_TIME / 1000) + "s ease";
          var transObj = {
            scale: ("scale(" + (i === 0 ? this$1.currentItemScale : this$1.neighborScale) + ")")
          };
          var translateX = (void 0);
          if (!this$1._neighborWidth) {
            this$1._neighborWidth = parseFloat(elm.style.width) || elm.getBoundingClientRect().width;
          }
          // calculate position offsets according to neighbor scales.
          if (Math.abs(i) === 1) {
            var dist = ((this$1._wrapperWidth - this$1._neighborWidth * this$1.neighborScale) / 2
              + this$1.neighborSpace * weex.config.env.scale) / this$1.neighborScale;
            translateX = -i * dist;
          }
          else {
            // clear position offsets.
            translateX = 0;
          }
          transObj.translate = "translate3d(" + translateX + "px, 0px, 0px)";
          weex.utils.addTransform(elm, transObj);
          elm.style.opacity = i === 0 ? MAIN_SLIDE_OPACITY : this$1.neighborAlpha;
        }
      },

      _next: function _next () {
        var next = this.currentIndex + 1;
        if (this.frameCount <= 1) {
          next--;
        }
        this._slideTo(next);
      },

      _prev: function _prev () {
        var prev = this.currentIndex - 1;
        if (this.frameCount <= 1) {
          prev++;
        }
        this._slideTo(prev);
      },

      _handleTouchStart: function _handleTouchStart (event) {
        var touch = event.changedTouches[0];
        this._stopAutoPlay();
        var inner = this.$refs.inner;
        this._touchParams = {
          originalTransform: inner.style.webkitTransform
            || inner.style.mozTransform
            || inner.style.transform,
          startTouchEvent: touch,
          startX: touch.pageX,
          startY: touch.pageY,
          timeStamp: event.timeStamp
        };
      },

      _handleTouchMove: function _handleTouchMove (event) {
        var tp = this._touchParams;
        if (!tp) { return }
        if (this._sliding) {
          return
        }
        var ref = this._touchParams;
        var startX = ref.startX;
        var startY = ref.startY;
        var touch = event.changedTouches[0];
        var offsetX = touch.pageX - startX;
        var offsetY = touch.pageY - startY;
        tp.offsetX = offsetX;
        tp.offsetY = offsetY;
        var isV = tp.isVertical;
        if (typeof isV === 'undefined') {
          isV = tp.isVertical = Math.abs(offsetX) < Math.abs(offsetY);
          if (!isV) {
            this._emitScrollEvent('scrollstart');
          }
        }
        // vertical scroll. just ignore it.
        if (isV) {
          return
        }
        // horizontal scroll. trigger scroll event.
        event.preventDefault();
        var inner = this.$refs.inner;
        if (inner && offsetX) {
          if (!this._nodesOffsetCleared) {
            this._nodesOffsetCleared = true;
            this._clearNodesOffset();
          }
          this._emitScrollEvent('weex$scroll', {
            offsetXRatio: offsetX / this._wrapperWidth
          });
          inner.style.webkitTransform = "translate3d(" + (this.innerOffset + offsetX) + "px, 0, 0)";
          inner.style.mozTransform = "translate3d(" + (this.innerOffset + offsetX) + "px, 0, 0)";
          inner.style.transform = "translate3d(" + (this.innerOffset + offsetX) + "px, 0, 0)";
        }
      },

      _handleTouchEnd: function _handleTouchEnd (event) {
        this._startAutoPlay();
        var tp = this._touchParams;
        if (!tp) { return }
        var isV = tp.isVertical;
        if (typeof isV === 'undefined') {
          return
        }
        var inner = this.$refs.inner;
        var offsetX = tp.offsetX;
        if (inner) {
          this._nodesOffsetCleared = false;
          // TODO: test the velocity if it's less than 0.2.
          var reset = Math.abs(offsetX / this._wrapperWidth) < 0.2;
          var direction = offsetX > 0 ? 1 : -1;
          var newIndex = reset ? this.currentIndex : (this.currentIndex - direction);
          this._slideTo(newIndex, true);
        }
        delete this._touchParams;
      },

      _handleTouchCancel: function _handleTouchCancel (event) {
        return this._handleTouchEnd(event)
      },

      _emitScrollEvent: function _emitScrollEvent (type, data) {
        if ( data === void 0 ) data = {};

        var el = this.$el;
        if (el) {
          weex.utils.dispatchNativeEvent(el, type, data);
        }
      },

      _throttleEmitScroll: function _throttleEmitScroll (offset, callback) {
        var this$1 = this;

        var i = 0;
        var throttleTime = THROTTLE_SCROLL_TIME;
        var cnt = parseInt(TRANSITION_TIME / throttleTime) - 1;
        var sign = offset > 0 ? 1 : -1;
        var r = Math.abs(offset / this._wrapperWidth);
        var throttledScroll = function () {
          if (++i > cnt) {
            return callback && callback.call(this$1)
          }
          var ratio = this$1._step === 0
            ? sign * r * (1 - i / cnt)
            : sign * (r + (1 - r) * i / cnt);
          this$1._emitScrollEvent('weex$scroll', {
            offsetXRatio: ratio
          });
          setTimeout(throttledScroll, THROTTLE_SCROLL_TIME);
        };
        throttledScroll();
      }
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var slider = {
    mixins: [slideMixin],
    props: {
      index: {
        type: [String, Number],
        default: 0
      },
      'auto-play': {
        type: [String, Boolean],
        default: false
      },
      interval: {
        type: [String, Number],
        default: 3000
      },
      infinite: {
        type: [String, Boolean],
        default: true
      }
    },

    watch: {
      index: function index () {
        this.currentIndex = this._normalizeIndex(this.index);
      }
    },

    data: function data () {
      return {
        frameCount: 0,
        currentIndex: this.index
      }
    },

    beforeCreate: function beforeCreate () {
      this.weexType = 'slider';
    },

    render: function render (createElement) {
      /* istanbul ignore next */
      // if ("production" === 'development') {
      //   validateStyles('slider', this.$vnode.data && this.$vnode.data.staticStyle)
      // }
      return this._renderSlides(createElement)
    }
  };

  var slider$1 = {
    init: function init (weex) {
      weex.registerComponent('slider', slider);
      weex.registerComponent('cycleslider', slider);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var DEFAULT_NEIGHBOR_SPACE = 20;
  var DEFAULT_NEIGHBOR_ALPHA = 0.6;
  var DEFAULT_NEIGHBOR_SCALE = 0.8;
  var DEFAULT_CURRENT_ITEM_SCALE = 0.9;

  var sliderNeighbor = {
    mixins: [slideMixin],
    props: {
      index: {
        type: [String, Number],
        default: 0
      },
      autoPlay: {
        type: [String, Boolean],
        default: false
      },
      interval: {
        type: [String, Number],
        default: 3000
      },
      infinite: {
        type: [String, Boolean],
        default: true
      },
      neighborSpace: {
        type: [String, Number],
        validator: function (val) {
          val = parseFloat(val);
          return !isNaN(val) && val > 0
        },
        default: DEFAULT_NEIGHBOR_SPACE
      },
      neighborAlpha: {
        type: [String, Number],
        validator: function (val) {
          val = parseFloat(val);
          return !isNaN(val) && val >= 0 && val <= 1
        },
        default: DEFAULT_NEIGHBOR_ALPHA
      },
      neighborScale: {
        type: [String, Number],
        validator: function (val) {
          val = parseFloat(val);
          return !isNaN(val) && val >= 0 && val <= 1
        },
        default: DEFAULT_NEIGHBOR_SCALE
      },
      currentItemScale: {
        type: [String, Number],
        validator: function (val) {
          val = parseFloat(val);
          return !isNaN(val) && val >= 0 && val <= 1
        },
        default: DEFAULT_CURRENT_ITEM_SCALE
      }
    },

    watch: {
      index: function index () {
        this.currentIndex = this._normalizeIndex(this.index);
      }
    },

    data: function data () {
      return {
        currentIndex: this.index,
        frameCount: 0
      }
    },

    beforeCreate: function beforeCreate () {
      this.isNeighbor = true;
      this.weexType = 'slider-neighbor';
    },

    render: function render (createElement) {
      return this._renderSlides(createElement)
    }
  };

  var neighbor = {
    init: function init (weex) {
      weex.registerComponent('slider-neighbor', sliderNeighbor);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var getComponentInlineStyle$1;

  function getIndicatorItemStyle (ms, isActive) {
    var style = {};
    var bgColor = isActive
      ? ms['itemSelectedColor'] || ms['item-selected-color']
      : ms['itemColor'] || ms['item-color'];
    style['background-color'] = bgColor;
    style['width'] = style['height'] = ms['itemSize'] || ms['item-size'];
    return style
  }

  function getScopeIds (context) {
    var scopeIds = context._scopeIds;
    if (scopeIds) {
      return scopeIds
    }
    else {
      scopeIds = [];
    }
    var parent = context.$parent;
    while (parent) {
      var i = (void 0);
      if ((i = parent.$options) && (i = i._scopeId)) {
        scopeIds.push(i);
      }
      parent = parent.$parent;
    }
    context._scopeIds = scopeIds;
    return scopeIds
  }

  function _render (context, h) {
    var children = [];
    var mergedStyle = getComponentInlineStyle$1(context);
    var scopeIds = getScopeIds(context);
    var attrs = {};
    for (var i = 0, l = scopeIds.length; i < l; i++) {
      attrs[scopeIds[i]] = '';
    }
    for (var i$1 = 0; i$1 < Number(context.count); ++i$1) {
      var classNames = ['weex-indicator-item weex-el'];
      var isActive = false;
      if (i$1 === Number(context.active)) {
        classNames.push('weex-indicator-item-active');
        isActive = true;
      }
      children.push(h('mark', {
        attrs: attrs,
        staticClass: classNames.join(' '),
        staticStyle: getIndicatorItemStyle(mergedStyle, isActive)
      }));
    }
    return h('nav', {
      attrs: { 'weex-type': 'indicator' },
      staticClass: 'weex-indicator weex-ct'
    }, [
      // the indicator nav may cover the slides, and may stop the
      // click event be triggered on the slides.
      // so a smaller wrapper is needed to prevent the overlap.
      // This wrapper will cover only the whole size of all the
      // indicator pointers' item-sizes.
      h('div', {
        staticClass: 'weex-indicator-inner'
      }, children)
    ])
  }

  var indicator = {
    name: 'weex-indicator',
    methods: {
      show: function () {
        this.$el.style.visibility = 'visible';
      }
    },
    props: {
      itemColor: [String],
      itemSelectedColor: [String],
      itemSize: [String]
    },
    data: function data () {
      return {
        count: 0,
        active: 0
      }
    },
    render: function render (createElement) {
      var ref = this.$vnode.data.attrs || {};
      var count = ref.count;
      var active = ref.active;
      this.count = count;
      this.active = active;
      if (!this.count) { return }
      return _render(this, createElement)
    }
  };

  var indicator$1 = {
    init: function init (weex) {
      getComponentInlineStyle$1 = weex.getComponentInlineStyle;
      weex.registerComponent('indicator', indicator);
    }
  };

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n \n.weex-slider-wrapper {\n  overflow: hidden;\n}\n\n.weex-slider-inner {\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n}\n\n.weex-slider-cell {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  background: transparent !important;\n  overflow: hidden;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n\n.neighbor-cell {\n  overflow: visible !important;\n}\n\nnav.weex-indicator {\n  position: absolute;\n  z-index: 10;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n  margin: 0;\n  padding: 0;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-transform: translate(-10rem, 0px);\n          transform: translate(-10rem, 0px)\n}\n\ndiv.weex-indicator-inner {\n  -webkit-transform: translate(10rem, 0px);\n          transform: translate(10rem, 0px);\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n}\n\n.weex-indicator-item {\n  display: inline-block;\n  position: relative;\n  border-radius: 50%;\n  width: 0.266667rem;\n  height: 0.266667rem;\n  background-color: #BBBBBB;\n}\n.weex-indicator-item + .weex-indicator-item {\n  margin-left: 0.133333rem;\n}\n\n.weex-indicator-item-active {\n  background-color: blue;\n}", {});

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var slider$2 = {
    init: function init (weex) {
      weex.install(slider$1);
      weex.install(neighbor);
      weex.install(indicator$1);
    }
  };

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.weex-textarea {\n  font-size: 0.426667rem\n}\n.weex-textarea:focus {\n  outline: none;\n}\n", {});

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getTextarea (weex) {
    var extractComponentStyle = weex.extractComponentStyle;
    var ref = weex.mixins;
    var inputCommon = ref.inputCommon;
    var ref$1 = weex.utils;
    var extend = ref$1.extend;
    var mapFormEvents = ref$1.mapFormEvents;

    return {
      name: 'weex-textarea',
      mixins: [inputCommon],
      props: {
        value: String,
        placeholder: String,
        disabled: {
          type: [String, Boolean],
          default: false
        },
        autofocus: {
          type: [String, Boolean],
          default: false
        },
        rows: {
          type: [String, Number],
          default: 2
        },
        returnKeyType: String
      },

      render: function render (createElement) {
        /* istanbul ignore next */
        // if ("production" === 'development') {
        //   validateStyles('textarea', this.$vnode.data && this.$vnode.data.staticStyle)
        // }
        var events = extend(mapFormEvents(this));
        return createElement('html:textarea', {
          attrs: {
            'weex-type': 'textarea',
            value: this.value,
            disabled: (this.disabled !== 'false' && this.disabled !== false),
            autofocus: (this.autofocus !== 'false' && this.autofocus !== false),
            placeholder: this.placeholder,
            rows: this.rows,
            'return-key-type': this.returnKeyType
          },
          domProps: {
            value: this.value
          },
          on: this.createKeyboardEvent(events),
          staticClass: 'weex-textarea weex-el',
          staticStyle: extractComponentStyle(this)
        })
      }
    }
  }

  var textarea = {
    init: function init (weex) {
      weex.registerComponent('textarea', getTextarea(weex));
    }
  };

  /*
  * Licensed to the Apache Software Foundation (ASF) under one
  * or more contributor license agreements.  See the NOTICE file
  * distributed with this work for additional information
  * regarding copyright ownership.  The ASF licenses this file
  * to you under the Apache License, Version 2.0 (the
  * "License"); you may not use this file except in compliance
  * with the License.  You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing,
  * software distributed under the License is distributed on an
  * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  * KIND, either express or implied.  See the License for the
  * specific language governing permissions and limitations
  * under the License.
  */

  function getVideo (weex) {
    var extractComponentStyle = weex.extractComponentStyle;
    var mapNativeEvents = weex.mapNativeEvents;
    var ref = weex.utils;
    var dispatchNativeEvent = ref.dispatchNativeEvent;

    return {
      name: 'weex-video',
      props: {
        src: String,
        playStatus: {
          type: String,
          default: 'pause',
          validator: function validator (value) {
            return ['play', 'pause'].indexOf(value) !== -1
          }
        },
        autoplay: {
          type: [String, Boolean],
          default: false
        },
        autoPlay: {
          type: [String, Boolean],
          default: false
        },
        playsinline: {
          type: [String, Boolean],
          default: true
        },
        controls: {
          type: [String, Boolean],
          default: false
        }
      },

      render: function render (createElement) {
        if (this.playStatus === 'play') {
          this.$nextTick(function () {
            try {
              this.$el && this.$el.play();
            }
            catch (err) {
              dispatchNativeEvent(this && this.$el, 'error', {
                message: err.message
              });
            }
          });
        }
        else if (this.playStatus === 'pause') {
          this.$nextTick(function () {
            this.$el && this.$el.pause();
          });
        }

        return createElement('html:video', {
          attrs: {
            'weex-type': 'video',
            autoplay: ((this.autoplay !== 'false' && this.autoplay !== false)
              || (this.autoPlay !== 'false' && this.autoPlay !== false)),
            'webkit-playsinline': this.playsinline,
            controls: this.controls,
            src: this.src
          },
          on: mapNativeEvents(this, {
            play: 'start',
            error: 'fail'
          }),
          staticClass: 'weex-video weex-el',
          staticStyle: extractComponentStyle(this)
        })
      }
    }
  }

  var video = {
    init: function init (weex) {
      weex.registerComponent('video', getVideo(weex));
    }
  };

  __$styleInject("/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.weex-web {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  box-sizing: border-box;\n}\n", {});

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  function getWeb (weex) {
    var extractComponentStyle = weex.extractComponentStyle;
    var ref = weex.utils;
    var dispatchNativeEvent = ref.dispatchNativeEvent;

    return {
      data: function data () {
        return {
          currentSrc: ''
        }
      },
      name: 'weex-web',
      props: {
        src: String
      },
      watch: {
        src: function src (newVal) {
          this.currentSrc = newVal;
        }
      },
      methods: {
        goBack: function goBack () {
          var el = this.$el;
          if (el) {
            var win = el.contentWindow;
            try {
              win.history.back();
              this.currentSrc = win.location.href;
            }
            catch (err) {
              dispatchNativeEvent(el, 'error', err);
            }
          }
        },
        goForward: function goForward () {
          var el = this.$el;
          if (el) {
            var win = el.contentWindow;
            try {
              win.history.forward();
              this.currentSrc = win.location.href;
            }
            catch (err) {
              dispatchNativeEvent(el, 'error', err);
            }
          }
        },
        reload: function reload () {
          var el = this.$el;
          if (el) {
            try {
              el.contentWindow.location.reload();
              dispatchNativeEvent(el, 'pagestart', { url: this.currentSrc });
            }
            catch (err) {
              dispatchNativeEvent(el, 'error', err);
            }
          }
        }
      },

      created: function created () {
        this.currentSrc = this.src;
      },

      mounted: function mounted () {
        var el = this.$el;
        this._prevSrc = this.currentSrc;
        if (el) {
          dispatchNativeEvent(el, 'pagestart', { url: this.currentSrc });
        }
      },

      updated: function updated () {
        if (this.currentSrc !== this._prevSrc) {
          this._prevSrc = this.currentSrc;
          dispatchNativeEvent(this.$el, 'pagestart', { url: this.currentSrc });
        }
      },

      render: function render (createElement) {
        var this$1 = this;

        return createElement('iframe', {
          attrs: {
            'weex-type': 'web',
            src: this.currentSrc
          },
          on: {
            load: function (event) {
              this$1.$nextTick(function () {
                var el = this.$el;
                try {
                  var html = el.contentWindow.document.documentElement;
                  if (html) {
                    dispatchNativeEvent(el, 'pagefinish', { url: this.currentSrc });
                  }
                  else {
                    dispatchNativeEvent(el, 'error', new Error('[vue-render]:found no page content.'));
                  }
                }
                catch (err) {
                  dispatchNativeEvent(el, 'error', err);
                }
              });
            }
          },
          staticClass: 'weex-web weex-el',
          staticStyle: extractComponentStyle(this)
        })
      }
    }
  }

  var web = {
    init: function init (weex) {
      weex.registerComponent('web', getWeb(weex));
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var components = [
    // a,
    // div,
    // image,
    input,
    _switch,
    scrollable$1,
    slider$2,
    // text,
    textarea,
    video,
    web
  ];

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var supportGeolocation = 'geolocation' in navigator;
  var errorMsg = "[h5-render]: browser doesn't support geolocation.";

  var geolocation = {
    // options:
    //   - enableHighAccuracy optional, value is true or false, false by default.
    //   - timeout [none-native] optional, value is a number (milliseconds), default vaule is FINFINITY.
    //   - maximumAge [none-native] optional, value is a number (milliseconds), default value is 0.
    getCurrentPosition: function getCurrentPosition (successCbId, errorCbId, options) {
      var this$1 = this;

      var successCb = function (pos) { return this$1.sender.performCallback(successCbId, pos); };
      var errorCb = function (err) { return this$1.sender.performCallback(errorCbId, err); };
      if (supportGeolocation) {
        navigator.geolocation.getCurrentPosition(successCb, errorCb, options);
      }
      else {
        console.warn(errorMsg);
        errorCb(new Error(errorMsg));
      }
    },

    // options: the same with `getCurrentPosition`.
    watchPosition: function watchPosition (successCbId, errorCbId, options) {
      var this$1 = this;

      var successCb = function (pos) { return this$1.sender.performCallback(successCbId, pos, true); };
      var errorCb = function (err) { return this$1.sender.performCallback(errorCbId, err); };
      if (supportGeolocation) {
        var id = navigator.geolocation.watchPosition(function (pos) {
          pos.watchId = id;
          successCb(pos);
        }, errorCb, options);
      }
      else {
        console.warn(errorMsg);
        errorCb(new Error(errorMsg));
      }
    },

    clearWatch: function clearWatch (watchId) {
      if (supportGeolocation) {
        navigator.geolocation.clearWatch(watchId);
      }
      else {
        console.warn(errorMsg);
      }
    }
  };

  var meta = {
    geolocation: [{
      name: 'getCurrentPosition',
      args: ['function', 'function', 'object']
    }, {
      name: 'watchPosition',
      args: ['function', 'function', 'object']
    }, {
      name: 'clearWatch',
      args: ['string']
    }]
  };

  var geolocation$1 = {
    init: function init (Weex) {
      Weex.registerApiModule('geolocation', geolocation, meta);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var supportLocalStorage = false;
  try {
    supportLocalStorage = typeof localStorage !== 'undefined';
  }
  catch (err) {
    // not support.
  }

  var SUCCESS = 'success';
  var FAILED = 'failed';
  var INVALID_PARAM = 'invalid_param';
  var UNDEFINED = 'undefined';

  function callFail (sender, callbackId, errorMsg) {
    sender.performCallback(callbackId, {
      result: FAILED,
      data: errorMsg || UNDEFINED
    });
  }

  function callNotSupportFail (sender, callbackId) {
    sender.performCallback(callbackId, {
      result: FAILED,
      data: 'localStorage is disabled or not supported.'
    });
  }

  var storage = {

    /**
     * When passed a key name and value, will add that key to the storage,
     * or update that key's value if it already exists.
     * @param {string} key
     * @param {string} value not null nor undifinedï¼but 0 works.
     * @param {function} callbackId
     */
    setItem: function (key, value, callbackId) {
      var sender = this.sender;
      if (!supportLocalStorage) {
        return callNotSupportFail(sender, callbackId)
      }
      if (!key || (!value && value !== 0)) {
        sender.performCallback(callbackId, {
          result: 'failed',
          data: INVALID_PARAM
        });
        return
      }
      try {
        localStorage.setItem(key, value);
        sender.performCallback(callbackId, {
          result: SUCCESS,
          data: UNDEFINED
        });
      }
      catch (e) {
        // accept any exception thrown during a storage attempt as a quota error
        callFail(sender, callbackId);
      }
    },

    /**
     * When passed a key name, will return that key's value.
     * @param {string} key
     * @param {function} callbackId
     */
    getItem: function (key, callbackId) {
      var sender = this.sender;
      if (!supportLocalStorage) {
        return callNotSupportFail(sender, callbackId)
      }
      if (!key) {
        sender.performCallback(callbackId, {
          result: FAILED,
          data: INVALID_PARAM
        });
        return
      }
      try {
        var val = localStorage.getItem(key);
        sender.performCallback(callbackId, {
          result: val ? SUCCESS : FAILED,
          data: val || UNDEFINED
        });
      }
      catch (e) {
        // accept any exception thrown during a storage attempt as a quota error
        callFail(sender, callbackId);
      }
    },

    /**
     *When passed a key name, will remove that key from the storage.
     * @param {string} key
     * @param {function} callbackId
     */
    removeItem: function (key, callbackId) {
      var sender = this.sender;
      if (!supportLocalStorage) {
        return callNotSupportFail(sender, callbackId)
      }
      if (!key) {
        sender.performCallback(callbackId, {
          result: FAILED,
          data: INVALID_PARAM
        });
        return
      }
      try {
        localStorage.removeItem(key);
        sender.performCallback(callbackId, {
          result: SUCCESS,
          data: UNDEFINED
        });
      }
      catch (e) {
        // accept any exception thrown during a storage attempt as a quota error
        callFail(sender, callbackId);
      }
    },

    /**
     * Returns an integer representing the number of data items stored in the Storage object.
     * @param {function} callbackId
     */
    length: function (callbackId) {
      var sender = this.sender;
      if (!supportLocalStorage) {
        return callNotSupportFail(sender, callbackId)
      }
      try {
        var len = localStorage.length;
        sender.performCallback(callbackId, {
          result: SUCCESS,
          data: len
        });
      }
      catch (e) {
        // accept any exception thrown during a storage attempt as a quota error
        callFail(sender, callbackId);
      }
    },

    /**
     * Returns an array that contains all keys stored in Storage object.
     * @param {function} callbackId
     */
    getAllKeys: function (callbackId) {
      var sender = this.sender;
      if (!supportLocalStorage) {
        return callNotSupportFail(sender, callbackId)
      }
      try {
        var _arr = [];
        for (var i = 0; i < localStorage.length; i++) {
          _arr.push(localStorage.key(i));
        }
        sender.performCallback(callbackId, {
          result: SUCCESS,
          data: _arr
        });
      }
      catch (e) {
        // accept any exception thrown during a storage attempt as a quota error
        callFail(sender, callbackId);
      }
    }
  };

  var meta$1 = {
    storage: [{
      name: 'setItem',
      args: ['string', 'string', 'function']
    }, {
      name: 'getItem',
      args: ['string', 'function']
    }, {
      name: 'removeItem',
      args: ['string', 'function']
    }, {
      name: 'length',
      args: ['function']
    }, {
      name: 'getAllKeys',
      args: ['function']
    }]
  };

  var storage$1 = {
    init: function (Weex) {
      Weex.registerApiModule('storage', storage, meta$1);
    }
  };

  (typeof window === 'undefined') && (window = {ctrl: {}, lib: {}});!window.ctrl && (window.ctrl = {});!window.lib && (window.lib = {});!function(a,b){function c(a){var b={};Object.defineProperty(this,"params",{set:function(a){if("object"==typeof a){for(var c in b){ delete b[c]; }for(var c in a){ b[c]=a[c]; }}},get:function(){return b},enumerable:!0}),Object.defineProperty(this,"search",{set:function(a){if("string"==typeof a){0===a.indexOf("?")&&(a=a.substr(1));var c=a.split("&");for(var d in b){ delete b[d]; }for(var e=0;e<c.length;e++){var f=c[e].split("=");if(void 0!==f[1]&&(f[1]=f[1].toString()),f[0]){ try{b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]);}catch(g){b[f[0]]=f[1];} }}}},get:function(){var a=[];for(var c in b){ if(void 0!==b[c]){ if(""!==b[c]){ try{a.push(encodeURIComponent(c)+"="+encodeURIComponent(b[c]));}catch(d){a.push(c+"="+b[c]);} }else { try{a.push(encodeURIComponent(c));}catch(d){a.push(c);} } } }return a.length?"?"+a.join("&"):""},enumerable:!0});var c;Object.defineProperty(this,"hash",{set:function(a){"string"==typeof a&&(a&&a.indexOf("#")<0&&(a="#"+a),c=a||"");},get:function(){return c},enumerable:!0}),this.set=function(a){a=a||"";var b;if(!(b=a.match(new RegExp("^([a-z0-9-]+:)?[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#;]*)?(?:[?]([^#]*))?([#][^?]*)?$","i")))){ throw new Error("Wrong uri scheme."); }this.protocol=b[1]||("object"==typeof location?location.protocol:""),this.username=b[2]||"",this.password=b[3]||"",this.hostname=this.host=b[4],this.port=b[5]||"",this.pathname=b[6]||"/",this.search=b[7]||"",this.hash=b[8]||"",this.origin=this.protocol+"//"+this.hostname;},this.toString=function(){var a=this.protocol+"//";return this.username&&(a+=this.username,this.password&&(a+=":"+this.password),a+="@"),a+=this.host,this.port&&"80"!==this.port&&(a+=":"+this.port),this.pathname&&(a+=this.pathname),this.search&&(a+=this.search),this.hash&&(a+=this.hash),a},a&&this.set(a.toString());}b.httpurl=function(a){return new c(a)};}(window,window.lib||(window.lib={}));var httpurl_common = window.lib['httpurl'];

  var _strictUriEncode_1_1_0_strictUriEncode = function (str) {
  	return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {
  		return '%' + c.charCodeAt(0).toString(16).toUpperCase();
  	});
  };

  var _strictUriEncode_1_1_0_strictUriEncode$1 = /*#__PURE__*/Object.freeze({
    default: _strictUriEncode_1_1_0_strictUriEncode,
    __moduleExports: _strictUriEncode_1_1_0_strictUriEncode
  });

  /*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */
  /* eslint-disable no-unused-vars */
  var getOwnPropertySymbols = Object.getOwnPropertySymbols;
  var hasOwnProperty$1 = Object.prototype.hasOwnProperty;
  var propIsEnumerable = Object.prototype.propertyIsEnumerable;

  function toObject$1(val) {
  	if (val === null || val === undefined) {
  		throw new TypeError('Object.assign cannot be called with null or undefined');
  	}

  	return Object(val);
  }

  function shouldUseNative() {
  	try {
  		if (!Object.assign) {
  			return false;
  		}

  		// Detect buggy property enumeration order in older V8 versions.

  		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
  		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
  		test1[5] = 'de';
  		if (Object.getOwnPropertyNames(test1)[0] === '5') {
  			return false;
  		}

  		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
  		var test2 = {};
  		for (var i = 0; i < 10; i++) {
  			test2['_' + String.fromCharCode(i)] = i;
  		}
  		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
  			return test2[n];
  		});
  		if (order2.join('') !== '0123456789') {
  			return false;
  		}

  		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
  		var test3 = {};
  		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
  			test3[letter] = letter;
  		});
  		if (Object.keys(Object.assign({}, test3)).join('') !==
  				'abcdefghijklmnopqrst') {
  			return false;
  		}

  		return true;
  	} catch (err) {
  		// We don't expect any of the above to throw, but better to be safe.
  		return false;
  	}
  }

  var _objectAssign_4_1_1_objectAssign = shouldUseNative() ? Object.assign : function (target, source) {
  	var arguments$1 = arguments;

  	var from;
  	var to = toObject$1(target);
  	var symbols;

  	for (var s = 1; s < arguments.length; s++) {
  		from = Object(arguments$1[s]);

  		for (var key in from) {
  			if (hasOwnProperty$1.call(from, key)) {
  				to[key] = from[key];
  			}
  		}

  		if (getOwnPropertySymbols) {
  			symbols = getOwnPropertySymbols(from);
  			for (var i = 0; i < symbols.length; i++) {
  				if (propIsEnumerable.call(from, symbols[i])) {
  					to[symbols[i]] = from[symbols[i]];
  				}
  			}
  		}
  	}

  	return to;
  };

  var _objectAssign_4_1_1_objectAssign$1 = /*#__PURE__*/Object.freeze({
    default: _objectAssign_4_1_1_objectAssign,
    __moduleExports: _objectAssign_4_1_1_objectAssign
  });

  var strictUriEncode = ( _strictUriEncode_1_1_0_strictUriEncode$1 && _strictUriEncode_1_1_0_strictUriEncode ) || _strictUriEncode_1_1_0_strictUriEncode$1;

  var objectAssign = ( _objectAssign_4_1_1_objectAssign$1 && _objectAssign_4_1_1_objectAssign ) || _objectAssign_4_1_1_objectAssign$1;

  function encoderForArrayFormat(opts) {
  	switch (opts.arrayFormat) {
  		case 'index':
  			return function (key, value, index) {
  				return value === null ? [
  					encode(key, opts),
  					'[',
  					index,
  					']'
  				].join('') : [
  					encode(key, opts),
  					'[',
  					encode(index, opts),
  					']=',
  					encode(value, opts)
  				].join('');
  			};

  		case 'bracket':
  			return function (key, value) {
  				return value === null ? encode(key, opts) : [
  					encode(key, opts),
  					'[]=',
  					encode(value, opts)
  				].join('');
  			};

  		default:
  			return function (key, value) {
  				return value === null ? encode(key, opts) : [
  					encode(key, opts),
  					'=',
  					encode(value, opts)
  				].join('');
  			};
  	}
  }

  function parserForArrayFormat(opts) {
  	var result;

  	switch (opts.arrayFormat) {
  		case 'index':
  			return function (key, value, accumulator) {
  				result = /\[(\d*)\]$/.exec(key);

  				key = key.replace(/\[\d*\]$/, '');

  				if (!result) {
  					accumulator[key] = value;
  					return;
  				}

  				if (accumulator[key] === undefined) {
  					accumulator[key] = {};
  				}

  				accumulator[key][result[1]] = value;
  			};

  		case 'bracket':
  			return function (key, value, accumulator) {
  				result = /(\[\])$/.exec(key);
  				key = key.replace(/\[\]$/, '');

  				if (!result) {
  					accumulator[key] = value;
  					return;
  				} else if (accumulator[key] === undefined) {
  					accumulator[key] = [value];
  					return;
  				}

  				accumulator[key] = [].concat(accumulator[key], value);
  			};

  		default:
  			return function (key, value, accumulator) {
  				if (accumulator[key] === undefined) {
  					accumulator[key] = value;
  					return;
  				}

  				accumulator[key] = [].concat(accumulator[key], value);
  			};
  	}
  }

  function encode(value, opts) {
  	if (opts.encode) {
  		return opts.strict ? strictUriEncode(value) : encodeURIComponent(value);
  	}

  	return value;
  }

  function keysSorter(input) {
  	if (Array.isArray(input)) {
  		return input.sort();
  	} else if (typeof input === 'object') {
  		return keysSorter(Object.keys(input)).sort(function (a, b) {
  			return Number(a) - Number(b);
  		}).map(function (key) {
  			return input[key];
  		});
  	}

  	return input;
  }

  var extract = function (str) {
  	return str.split('?')[1] || '';
  };

  var parse = function (str, opts) {
  	opts = objectAssign({arrayFormat: 'none'}, opts);

  	var formatter = parserForArrayFormat(opts);

  	// Create an object with no prototype
  	// https://github.com/sindresorhus/query-string/issues/47
  	var ret = Object.create(null);

  	if (typeof str !== 'string') {
  		return ret;
  	}

  	str = str.trim().replace(/^(\?|#|&)/, '');

  	if (!str) {
  		return ret;
  	}

  	str.split('&').forEach(function (param) {
  		var parts = param.replace(/\+/g, ' ').split('=');
  		// Firefox (pre 40) decodes `%3D` to `=`
  		// https://github.com/sindresorhus/query-string/pull/37
  		var key = parts.shift();
  		var val = parts.length > 0 ? parts.join('=') : undefined;

  		// missing `=` should be `null`:
  		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
  		val = val === undefined ? null : decodeURIComponent(val);

  		formatter(decodeURIComponent(key), val, ret);
  	});

  	return Object.keys(ret).sort().reduce(function (result, key) {
  		var val = ret[key];
  		if (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {
  			// Sort object keys, not values
  			result[key] = keysSorter(val);
  		} else {
  			result[key] = val;
  		}

  		return result;
  	}, Object.create(null));
  };

  var stringify = function (obj, opts) {
  	var defaults = {
  		encode: true,
  		strict: true,
  		arrayFormat: 'none'
  	};

  	opts = objectAssign(defaults, opts);

  	var formatter = encoderForArrayFormat(opts);

  	return obj ? Object.keys(obj).sort().map(function (key) {
  		var val = obj[key];

  		if (val === undefined) {
  			return '';
  		}

  		if (val === null) {
  			return encode(key, opts);
  		}

  		if (Array.isArray(val)) {
  			var result = [];

  			val.slice().forEach(function (val2) {
  				if (val2 === undefined) {
  					return;
  				}

  				result.push(formatter(key, val2, result.length));
  			});

  			return result.join('&');
  		}

  		return encode(key, opts) + '=' + encode(val, opts);
  	}).filter(function (x) {
  		return x.length > 0;
  	}).join('&') : '';
  };

  var _queryString_4_3_4_queryString = {
  	extract: extract,
  	parse: parse,
  	stringify: stringify
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var utils$1;

  var jsonpCnt = 0;
  var ERROR_STATE = -1;

  function _jsonp (config, callback, progressCallback) {
    var cbName = config.jsonpCallbackName || 'jsonp_' + (++jsonpCnt);
    var url;

    if (!config.url) {
      console.error('[h5-render] config.url should be set in _jsonp for \'fetch\' API.');
    }

    global[cbName] = (function (cb) {
      return function (response) {
        callback({
          status: 200,
          ok: true,
          statusText: 'OK',
          data: response
        });
        delete global[cb];
      }
    })(cbName);

    var script = document.createElement('script');
    try {
      url = lib.httpurl(config.url);
    }
    catch (err) {
      console.error('[h5-render] invalid config.url in _jsonp for \'fetch\' API: '
        + config.url);
    }
    url.params.callback = cbName;
    script.type = 'text/javascript';
    script.src = url.toString();
    // script.onerror is not working on IE or safari.
    // but they are not considered here.
    script.onerror = (function (cb) {
      return function (err) {
        console.error('[h5-render] unexpected error in _jsonp for \'fetch\' API', err);
        callback({
          status: ERROR_STATE,
          ok: false,
          statusText: '',
          data: ''
        });
        delete global[cb];
      }
    })(cbName);
    var head = document.getElementsByTagName('head')[0];
    head.insertBefore(script, null);
  }

  function _xhr (config, callback, progressCallback) {
    var xhr = new XMLHttpRequest();
    xhr.responseType = config.type;
    xhr.open(config.method, config.url, true);

    // cors cookie support
    if (config.withCredentials === true) {
      xhr.withCredentials = true;
    }

    var headers = config.headers || {};
    for (var k in headers) {
      xhr.setRequestHeader(k, headers[k]);
    }

    xhr.onload = function (res) {
      callback({
        status: xhr.status,
        ok: xhr.status >= 200 && xhr.status < 300,
        statusText: xhr.statusText,
        data: xhr.response,
        headers: xhr.getAllResponseHeaders().split('\n')
          .reduce(function (obj, headerStr) {
            var headerArr = headerStr.match(/(.+): (.+)/);
            if (headerArr) {
              obj[headerArr[1]] = headerArr[2];
            }
            return obj
          }, {})
      });
    };

    if (progressCallback) {
      xhr.onprogress = function (e) {
        progressCallback({
          readyState: xhr.readyState,
          status: xhr.status,
          length: e.loaded,
          total: e.total,
          statusText: xhr.statusText,
          headers: xhr.getAllResponseHeaders().split('\n')
            .reduce(function (obj, headerStr) {
              var headerArr = headerStr.match(/(.+): (.+)/);
              if (headerArr) {
                obj[headerArr[1]] = headerArr[2];
              }
              return obj
            }, {})
        });
      };
    }

    xhr.onerror = function (err) {
      console.error('[h5-render] unexpected error in _xhr for \'fetch\' API', err);
      callback({
        status: ERROR_STATE,
        ok: false,
        statusText: '',
        data: ''
      });
    };

    xhr.send(config.body || null);
  }

  var stream = {

    /**
     * sendHttp
     * @deprecated
     * Note: This API is deprecated. Please use stream.fetch instead.
     * send a http request through XHR.
     * @param  {obj} params
     *  - method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'PATCH',
     *  - url: url requested
     * @param  {string} callbackId
     */
    sendHttp: function (param, callbackId) {
      if (typeof param === 'string') {
        try {
          param = JSON.parse(param);
        }
        catch (e) {
          return
        }
      }
      if (typeof param !== 'object' || !param.url) {
        return console.error(
          '[h5-render] invalid config or invalid config.url for sendHttp API')
      }

      var sender = this.sender;
      var method = param.method || 'GET';
      var xhr = new XMLHttpRequest();
      xhr.open(method, param.url, true);
      xhr.onload = function () {
        sender.performCallback(callbackId, this.responseText);
      };
      xhr.onerror = function (error) {
        return console.error('[h5-render] unexpected error in sendHttp API', error)
        // sender.performCallback(
        //   callbackId,
        //   new Error('unexpected error in sendHttp API')
        // )
      };
      xhr.send();
    },

    /**
     * fetch
     * use stream.fetch to request for a json file, a plain text file or
     * a arraybuffer for a file stream. (You can use Blob and FileReader
     * API implemented by most modern browsers to read a arraybuffer.)
     * @param  {object} options config options
     *   - method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'PATCH'
     *   - headers {obj}
     *   - url {string}
     *   - mode {string} 'cors' | 'no-cors' | 'same-origin' | 'navigate'
     *   - withCredentials {boolean}
     *   - body
     *   - type {string} 'json' | 'jsonp' | 'text'
     * @param  {string} callbackId
     * @param  {string} progressCallbackId
     */
    fetch: function (options, callbackId, progressCallbackId) {
      var DEFAULT_METHOD = 'GET';
      var DEFAULT_MODE = 'cors';
      var DEFAULT_TYPE = 'text';

      var methodOptions = ['GET', 'POST', 'PUT', 'DELETE', 'HEAD', 'PATCH'];
      var modeOptions = ['cors', 'no-cors', 'same-origin', 'navigate'];
      var typeOptions = ['text', 'json', 'jsonp', 'arraybuffer'];

      // const fallback = false  // fallback from 'fetch' API to XHR.
      var sender = this.sender;

      var config = utils$1.extend({}, options);

      // validate options.method
      if (typeof config.method === 'undefined') {
        config.method = DEFAULT_METHOD;
        console.warn('[h5-render] options.method for \'fetch\' API has been set to '
          + 'default value \'' + config.method + '\'');
      }
      else if (methodOptions.indexOf((config.method + '')
        .toUpperCase()) === -1) {
        return console.error('[h5-render] options.method \''
          + config.method
          + '\' for \'fetch\' API should be one of '
          + methodOptions + '.')
      }

      // validate options.url
      if (!config.url) {
        return console.error('[h5-render] options.url should be set for \'fetch\' API.')
      }

      // validate body content for method 'GET'.
      if (config.method.toUpperCase() === 'GET') {
        var body = config.body;
        if (utils$1.isPlainObject(body)) {
          body = _queryString_4_3_4_queryString.stringify(body);
        }
        var url = config.url;
        var hashIdx = url.indexOf('#');
        hashIdx <= -1 && (hashIdx = url.length);
        var hash = url.substr(hashIdx);
        if (hash && hash[0] === '#') {
          hash = hash.substr(1);
        }
        url = url.substring(0, hashIdx);
        if (body) {
          url += (config.url.indexOf('?') <= -1 ? '?' : '&') + body;
        }
        url += '#' + hash;
        config.url = url;
      }

      // validate options.mode
      if (typeof config.mode === 'undefined') {
        config.mode = DEFAULT_MODE;
      }
      else if (modeOptions.indexOf((config.mode + '').toLowerCase()) === -1) {
        return console.error('[h5-render] options.mode \''
          + config.mode
          + '\' for \'fetch\' API should be one of '
          + modeOptions + '.')
      }

      // validate options.type
      if (typeof config.type === 'undefined') {
        config.type = DEFAULT_TYPE;
        console.warn('[h5-render] options.type for \'fetch\' API has been set to '
          + 'default value \'' + config.type + '\'.');
      }
      else if (typeOptions.indexOf((config.type + '').toLowerCase()) === -1) {
        return console.error('[h5-render] options.type \''
            + config.type
            + '\' for \'fetch\' API should be one of '
            + typeOptions + '.')
      }

      // validate options.headers
      config.headers = config.headers || {};
      if (!utils$1.isPlainObject(config.headers)) {
        return console.error('[h5-render] options.headers should be a plain object')
      }

      // validate options.timeout
      config.timeout = parseInt(config.timeout, 10) || 2500;

      var _callArgs = [config, function (res) {
        sender.performCallback(callbackId, res);
      }];
      if (progressCallbackId) {
        _callArgs.push(function (res) {
          // Set 'keepAlive' to true for sending continuous callbacks
          sender.performCallback(progressCallbackId, res, true);
        });
      }

      if (config.type === 'jsonp') {
        _jsonp.apply(this, _callArgs);
      }
      else {
        _xhr.apply(this, _callArgs);
      }
    }

  };

  var meta$2 = {
    stream: [{
      name: 'sendHttp',
      args: ['object', 'function']
    }, {
      name: 'fetch',
      args: ['object', 'function', 'function']
    }]
  };

  var stream$1 = {
    init: function (Weex) {
      utils$1 = Weex.utils;
      Weex.registerApiModule('stream', stream, meta$2);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**

  AUCTION:
  taskQueue
  Clipboard.setString()  NOW not works, facing to user-act lose of taskQueue.

  works in Chrome Firefox Opera. but not in Safari.
  @see https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Browser_compatibility

  Clipboard.getString() unimplemented. There is no easy way to do paste from clipboard to js variable.

  So look out your app behavior, when downgrade to html5 render.
  Any idea is welcome.
  **/

  var WEEX_CLIPBOARD_ID = '__weex_clipboard_id__';

  var clipboard = {

    getString: function (callbackId) {
      // not supported in html5
      console.log('clipboard.getString() is not supported now.');
    },

    setString: function (text) {
      // not support safari
      if (typeof text === 'string' && text !== '' && document.execCommand) {
        var tempInput = element();
        tempInput.value = text;

        tempInput.select();
        document.execCommand('copy');
        // var out = document.execCommand('copy');
        // console.log("execCommand out is " + out);
        tempInput.value = '';
        tempInput.blur();
      }
      else {
        console.log('only support string input now');
      }
    }

  };

  function element () {
    var tempInput = document.getElementById(WEEX_CLIPBOARD_ID);
    if (!tempInput) {
      tempInput = document.createElement('input');
      tempInput.setAttribute('id', WEEX_CLIPBOARD_ID);
      tempInput.style.cssText = 'height:1px;width:1px;border:none;';
      // tempInput.style.cssText = "height:40px;width:300px;border:solid;"
      document.body.appendChild(tempInput);
    }
    return tempInput
  }

  var meta$3 = {
    clipboard: [{
      name: 'getString',
      args: ['function']
    }, {
      name: 'setString',
      args: ['string']
    }]
  };

  var clipboard$1 = {
    init: function (Weex) {
      Weex.registerApiModule('clipboard', clipboard, meta$3);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var event$2 = {
    /**
     * openUrl
     * @param  {string} url
     */
    openURL: function (url) {
      location.href = url;
    }

  };

  var meta$4 = {
    event: [{
      name: 'openURL',
      args: ['string']
    }]
  };

  var eventModule = {
    init: function (Weex) {
      Weex.registerApiModule('event', event$2, meta$4);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var utils$2 = {};
  var endEvent;
  var styleName;

  var DESIGN_ROOT_VALUE = 75;

  var EVENT_NAME_MAP = {
    transition: 'transitionend',
    WebkitTransition: 'webkitTransitionEnd',
    MozTransition: 'mozTransitionEnd',
    OTransition: 'oTransitionEnd',
    msTransition: 'MSTransitionEnd'
  };

  function detectEvents () {
    var testEl = document.createElement('div');
    var style = testEl.style;
    for (var name in EVENT_NAME_MAP) {
      if (name in style) {
        endEvent = EVENT_NAME_MAP[name];
        styleName = name;
        break
      }
    }
  }

  detectEvents();

  function transitionOnce (vnode, config, callback) {
    var nextFrame = utils$2.nextFrame;
    var toCSSText = utils$2.toCSSText;
    var styleObject2rem = utils$2.styleObject2rem;
    var isArray = utils$2.isArray;

    if (isArray(vnode)) {
      vnode = vnode[0];
    }

    var duration = config.duration || 0; // ms
    var timing = config.timingFunction || 'linear';
    var delay = config.delay || 0;  // ms

    // TODO: parse transition properties
    var transitionValue = "all " + duration + "ms " + timing + " " + delay + "ms";

    var dom = vnode instanceof HTMLElement ? vnode : vnode.$el;
    // trigger image lazyloading by force.
    dom && weex.utils.fireLazyload(dom, true);

    var transitionEndHandler = function (event) {
      event && event.stopPropagation();
      if (endEvent) {
        dom.removeEventListener(endEvent, transitionEndHandler);
        dom.style[styleName] = '';
      }
      callback();
    };
    if (endEvent) {
      dom.style[styleName] = transitionValue;
      dom.addEventListener(endEvent, transitionEndHandler);
    }
    nextFrame(function () {
      dom.style.cssText
        += toCSSText(styleObject2rem(config.styles, DESIGN_ROOT_VALUE) || {});
    });
  }

  var animation = {
    /**
     * transition
     * @param  {String} vnode
     * @param  {Object} config
     * @param  {String} callback
     */
    transition: function transition (vnode, config, callback) {
      if (!config.styles) { return }
      return transitionOnce(vnode, config, function () {
        callback && callback();
      })
    }
  };

  var animation$1 = {
    init: function init (weex) {
      var extendKeys = weex.utils.extendKeys;
      extendKeys(utils$2, weex.utils, [
        'nextFrame',
        'toCSSText',
        'styleObject2rem',
        // 'autoPrefix',
        // 'normalizeStyle',
        'isArray'
      ]);

      weex.registerModule('animation', animation);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var utils$3 = {};

  function now () {
    var now = window.performance && window.performance.now
      ? window.performance.now.bind(window.performance) : Date.now;
    return now()
  }

  function scrollElement (dSuffix, position) {
    if ((this === document.body) || (this === window)
      && window.scrollTo) {
      return window.scrollTo(0, position)
    }
    this[("scroll" + dSuffix)] = position;
  }
  /**
   * self invoked function that, given a context, steps through scrolling
   * @method step
   * @param {Object} context
   */
  function step$1 (context) {
    // call method again on next available frame
    context.frame = window.requestAnimationFrame(step$1.bind(window, context));
    var time = now();
    var elapsed = (time - context.startTime) / 468;
    // avoid elapsed times higher than one
    elapsed = elapsed > 1 ? 1 : elapsed;
    // apply easing to elapsed time
    var value = ease(elapsed);
    var currentPosition = context.startPosition + (context.position - context.startPosition) * value;
    context.method.call(context.scrollable, context.dSuffix, currentPosition);
    // return when end points have been reached
    /**
      * NOTE: should use ~~ to parse position number into integer. Otherwise
      * this two float numbers maybe have a slicely little difference, which
      * will cause this function never to stop.
    */
    if (~~currentPosition === ~~context.position) {
      window.cancelAnimationFrame(context.frame);
      return
    }
  }
  /**
   * returns result of applying ease math function to a number
   * @method ease
   * @param {Number} k
   * @returns {Number}
   */
  function ease (k) {
    return 0.5 * (1 - Math.cos(Math.PI * k))
  }
  var dom = {
    /**
     * scrollToElement
     * @param  {Vnode | VComponent} vnode
     * @param  {Object} options {offset:Number}
     *   ps: scroll-to has 'ease' and 'duration'(ms) as options.
     */
    scrollToElement: function (vnode, options) {
      var isArray = utils$3.isArray;
      var getParentScrollerElement = utils$3.getParentScrollerElement;
      if (isArray(vnode)) {
        vnode = vnode[0];
      }
      var isElement = vnode instanceof HTMLElement;
      var el = isElement ? vnode : (vnode.$el || vnode.elm);
      var ct = getParentScrollerElement(vnode);
      var scroller = ct.__vue__;
      var isWindow = ct === document.body;
      var scrollDirection =
        isWindow ? 'vertical'
          : (scroller && scroller.scrollDirection || 'vertical');
      if (ct && el) {
        var dSuffix = ({
          horizontal: 'Left',
          vertical: 'Top'
        })[scrollDirection];
        var ctRect = ct.getBoundingClientRect();
        var elRect = el.getBoundingClientRect();
        /**
          * if it's a waterfall, and you want to scroll to a header, then just
          * scroll to the top.
        */
        if (
          !isElement
          && scroller
          && scroller.weexType === 'waterfall'
          && scroller._headers
          && scroller._headers.indexOf(vnode.$vnode || vnode) > -1) {
          // it's in waterfall. just scroll to the top.
          elRect = ct.firstElementChild.getBoundingClientRect();
        }
        var dir = dSuffix.toLowerCase();
        var offset = (isWindow ? 0 : ct[("scroll" + dSuffix)]) + elRect[dir] - ctRect[dir];
        if (options) {
          offset += options.offset && options.offset * weex.config.env.scale || 0;
        }
        if (options && options.animated === false) {
          return scrollElement.call(ct, dSuffix, offset)
        }
        step$1({
          scrollable: ct,
          startTime: now(),
          frame: null,
          startPosition: isWindow ? window.pageYOffset : ct[("scroll" + dSuffix)],
          position: offset,
          method: scrollElement,
          dSuffix: dSuffix
        });
      }
    },
    /**
     * getComponentRect
     * @param {String} vnode
     * @param {Function} callback
     */
    getComponentRect: function (vnode, callback) {
      var isArray = utils$3.isArray;
      if (isArray(vnode)) {
        vnode = vnode[0];
      }
      var scale = window.weex.config.env.scale;
      var info = {
        result: false
      };
      var rectKeys = ['width', 'height', 'top', 'bottom', 'left', 'right'];

      function recalc (rect) {
        var res = {};
        rectKeys.forEach(function (key) {
          if (rect[key]) {
            res[key] = rect[key] / scale;
          }
        });
        return res
      }
      if (vnode && vnode === 'viewport') {
        info.result = true;
        info.size = recalc({
          width: document.documentElement.clientWidth,
          height: document.documentElement.clientHeight,
          top: 0,
          left: 0,
          right: document.documentElement.clientWidth,
          bottom: document.documentElement.clientHeight
        });
      }
      else if (vnode) {
        var el = vnode instanceof HTMLElement
          ? vnode
          : vnode.$el;
        if (el.getBoundingClientRect) {
          info.result = true;
          info.size = recalc(el.getBoundingClientRect());
        }
        else {
          info.result = false;
        }
      }
      var message = info.result ? info : {
        result: false,
        errMsg: 'Illegal parameter'
      };
      callback && callback(message);
      return message
    },
    /**
     * getLayoutDirection
     * @param {String} vnode
     * @param {Function} callback
     */
    getLayoutDirection: function (vnode, callback) {
      var isArray = utils$3.isArray;
      if (isArray(vnode)) {
        vnode = vnode[0];
      }
      var direction = 'ltr';
      if (vnode && vnode === 'viewport') {
        direction = getComputedStyle(document.documentElement)['direction'];
      }
      else if (vnode) {
        var el = vnode instanceof HTMLElement ? vnode : vnode.$el;
        direction = getComputedStyle(el)['direction'];
      }
      callback && callback(direction);
      return direction
    },
    /**
     * for adding fontFace
     * @param {string} key fontFace
     * @param {object} styles rules
     */
    addRule: function (key, styles) {
      var camelToKebab = utils$3.camelToKebab;
      var appendCss = utils$3.appendCss;
      key = camelToKebab(key);
      var stylesText = '';
      for (var k in styles) {
        if (styles.hasOwnProperty(k)) {
          stylesText += camelToKebab(k) + ':' + styles[k] + ';';
        }
      }
      var styleText = "@" + key + "{" + stylesText + "}";
      appendCss(styleText, 'dom-added-rules');
    }
  };
  var dom$1 = {
    init: function init (weex) {
      var extendKeys = weex.utils.extendKeys;
      extendKeys(utils$3, weex.utils, ['camelToKebab', 'appendCss', 'isArray', 'getParentScrollerElement']);
      weex.registerModule('dom', dom);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  /**
   * globalEvent API:
   * @doc http://weex.apache.org/cn/references/modules/globalevent.html
   */
  // track varies kinds of events and listeners.
  var handlerTraker = {};

  var globalEvent = {
    /**
     * addEventListener
     * NOTE: one callback can only be bound to the same event once. Bind a callback twice doesn't
     *  mean it will be called twice when the event fired once.
     * @param {string} evt - the event name to add a listener on.
     */
    addEventListener: function addEventListener (evt, callback) {
      if (!callback) {
        return
      }
      var handlers = handlerTraker[evt];
      if (!handlers) {
        handlers = handlerTraker[evt] = [];
      }
      var len = handlers.length;
      for (var i = 0; i < len; i++) {
        if (handlers[i] === callback) {
          // this callback is already bound. no need to bind it again.
          return
        }
      }
      handlers.push(callback);
      document.addEventListener(evt, callback);
    },

    /**
     * removeEventListener
     * NOTE: remove all the event handlers for the specified event type.
     * @param {string} evt - the event name to remove a listener from.
     */
    removeEventListener: function removeEventListener (evt) {
      var handlers = handlerTraker[evt];
      if (!handlers) {
        // evt handlers has been already removed.
        return
      }
      handlers.forEach(function (cb) { return document.removeEventListener(evt, cb); });
      delete handlerTraker[evt];
    }
  };

  var globalEvent$1 = {
    init: function init (weex) {
      weex.registerModule('globalEvent', globalEvent);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var queue$1 = [];
  var isProcessing = false;
  var toastWin;
  var TOAST_WIN_CLASS_NAME = 'weex-toast';
  var TOAST_TRANSITION_DURATION = 0.4;

  var DEFAULT_DURATION = 0.8;

  function showToastWindow (msg, callback) {
    if (!toastWin) {
      toastWin = document.createElement('div');
      toastWin.classList.add(TOAST_WIN_CLASS_NAME);
      toastWin.classList.add('hide');
      document.body.appendChild(toastWin);
    }
    toastWin.textContent = msg;
    setTimeout(function () {
      toastWin.classList.remove('hide');
      callback && callback();
    }, 16);
  }

  function hideToastWindow (callback) {
    if (!toastWin) {
      return
    }
    toastWin.classList.add('hide');
    setTimeout(function () {
      callback && callback();
    }, TOAST_TRANSITION_DURATION * 1000);
  }

  var toast = {
    push: function (msg, duration) {
      queue$1.push({
        msg: msg,
        duration: duration || DEFAULT_DURATION
      });
      this.show();
    },

    show: function () {
      var that = this;

      // All messages had been toasted already, so remove the toast window,
      if (!queue$1.length) {
        toastWin && toastWin.parentNode.removeChild(toastWin);
        toastWin = null;
        return
      }

      // the previous toast is not ended yet.
      if (isProcessing) {
        return
      }
      isProcessing = true;

      var toastInfo = queue$1.shift();
      showToastWindow(toastInfo.msg, function () {
        setTimeout(function () {
          hideToastWindow(function () {
            isProcessing = false;
            that.show();
          });
        }, toastInfo.duration * 1000);
      });
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  // there will be only one instance of modal.
  var MODAL_WRAP_CLASS = 'weex-modal-wrap';
  var MODAL_NODE_CLASS = 'weex-modal-node';

  function Modal () {
    this.wrap = document.querySelector(MODAL_WRAP_CLASS);
    this.node = document.querySelector(MODAL_NODE_CLASS);
    if (!this.wrap) {
      this.createWrap();
    }
    if (!this.node) {
      this.createNode();
    }
    this.clearNode();
    this.createNodeContent();
    this.bindEvents();
  }

  Modal.prototype = {

    show: function () {
      this.wrap.style.display = 'block';
      this.node.classList.remove('hide');
    },

    destroy: function () {
      document.body.removeChild(this.wrap);
      document.body.removeChild(this.node);
      this.wrap = null;
      this.node = null;
    },

    createWrap: function () {
      this.wrap = document.createElement('div');
      this.wrap.className = MODAL_WRAP_CLASS;
      document.body.appendChild(this.wrap);
    },

    createNode: function () {
      this.node = document.createElement('div');
      this.node.classList.add(MODAL_NODE_CLASS, 'hide');
      document.body.appendChild(this.node);
    },

    clearNode: function () {
      this.node.innerHTML = '';
    },

    createNodeContent: function () {

      // do nothing.
      // child classes can override this method.
    },

    bindEvents: function () {
      this.wrap.addEventListener('click', function (e) {
        e.preventDefault();
        e.stopPropagation();
      });
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var CONTENT_CLASS = 'content';
  var MSG_CLASS = 'content-msg';
  var BUTTON_GROUP_CLASS = 'btn-group';
  var BUTTON_CLASS = 'btn';

  function Alert (config) {
    this.msg = config.message || '';
    this.callback = config.callback;
    this.okTitle = config.okTitle || 'OK';
    Modal.call(this);
    this.node.classList.add('weex-alert');
  }

  Alert.prototype = Object.create(Modal.prototype);

  Alert.prototype.createNodeContent = function () {
    var content = document.createElement('div');
    content.classList.add(CONTENT_CLASS);
    this.node.appendChild(content);

    var msg = document.createElement('div');
    msg.classList.add(MSG_CLASS);
    msg.appendChild(document.createTextNode(this.msg));
    content.appendChild(msg);

    var buttonGroup = document.createElement('div');
    buttonGroup.classList.add(BUTTON_GROUP_CLASS);
    this.node.appendChild(buttonGroup);
    var button = document.createElement('div');
    button.classList.add(BUTTON_CLASS, 'alert-ok');
    button.appendChild(document.createTextNode(this.okTitle));
    buttonGroup.appendChild(button);
  };

  Alert.prototype.bindEvents = function () {
    Modal.prototype.bindEvents.call(this);
    var button = this.node.querySelector('.' + BUTTON_CLASS);
    button.addEventListener('click', function () {
      this.destroy();
      this.callback && this.callback();
    }.bind(this));
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var CONTENT_CLASS$1 = 'content';
  var MSG_CLASS$1 = 'content-msg';
  var BUTTON_GROUP_CLASS$1 = 'btn-group';
  var BUTTON_CLASS$1 = 'btn';

  function Confirm (config) {
    this.msg = config.message || '';
    this.callback = config.callback;
    this.okTitle = config.okTitle || 'OK';
    this.cancelTitle = config.cancelTitle || 'Cancel';
    Modal.call(this);
    this.node.classList.add('weex-confirm');
  }

  Confirm.prototype = Object.create(Modal.prototype);

  Confirm.prototype.createNodeContent = function () {
    var content = document.createElement('div');
    content.classList.add(CONTENT_CLASS$1);
    this.node.appendChild(content);

    var msg = document.createElement('div');
    msg.classList.add(MSG_CLASS$1);
    msg.appendChild(document.createTextNode(this.msg));
    content.appendChild(msg);

    var buttonGroup = document.createElement('div');
    buttonGroup.classList.add(BUTTON_GROUP_CLASS$1);
    this.node.appendChild(buttonGroup);
    var btnOk = document.createElement('div');
    btnOk.appendChild(document.createTextNode(this.okTitle));
    btnOk.classList.add('btn-ok', BUTTON_CLASS$1);
    var btnCancel = document.createElement('div');
    btnCancel.appendChild(document.createTextNode(this.cancelTitle));
    btnCancel.classList.add('btn-cancel', BUTTON_CLASS$1);
    buttonGroup.appendChild(btnOk);
    buttonGroup.appendChild(btnCancel);
    this.node.appendChild(buttonGroup);
  };

  Confirm.prototype.bindEvents = function () {
    Modal.prototype.bindEvents.call(this);
    var btnOk = this.node.querySelector('.' + BUTTON_CLASS$1 + '.btn-ok');
    var btnCancel = this.node.querySelector('.' + BUTTON_CLASS$1 + '.btn-cancel');
    btnOk.addEventListener('click', function () {
      this.destroy();
      this.callback && this.callback(this.okTitle);
    }.bind(this));
    btnCancel.addEventListener('click', function () {
      this.destroy();
      this.callback && this.callback(this.cancelTitle);
    }.bind(this));
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var CONTENT_CLASS$2 = 'content';
  var MSG_CLASS$2 = 'content-msg';
  var BUTTON_GROUP_CLASS$2 = 'btn-group';
  var BUTTON_CLASS$2 = 'btn';
  var INPUT_WRAP_CLASS = 'input-wrap';
  var INPUT_CLASS = 'input';

  function Prompt (config) {
    this.msg = config.message || '';
    this.defaultMsg = config.default || '';
    this.callback = config.callback;
    this.okTitle = config.okTitle || 'OK';
    this.cancelTitle = config.cancelTitle || 'Cancel';
    Modal.call(this);
    this.node.classList.add('weex-prompt');
  }

  Prompt.prototype = Object.create(Modal.prototype);

  Prompt.prototype.createNodeContent = function () {
    var content = document.createElement('div');
    content.classList.add(CONTENT_CLASS$2);
    this.node.appendChild(content);

    var msg = document.createElement('div');
    msg.classList.add(MSG_CLASS$2);
    msg.appendChild(document.createTextNode(this.msg));
    content.appendChild(msg);

    var inputWrap = document.createElement('div');
    inputWrap.classList.add(INPUT_WRAP_CLASS);
    content.appendChild(inputWrap);
    var input = document.createElement('input');
    input.classList.add(INPUT_CLASS);
    input.type = 'text';
    input.autofocus = true;
    input.placeholder = this.defaultMsg;
    inputWrap.appendChild(input);

    var buttonGroup = document.createElement('div');
    buttonGroup.classList.add(BUTTON_GROUP_CLASS$2);
    var btnOk = document.createElement('div');
    btnOk.appendChild(document.createTextNode(this.okTitle));
    btnOk.classList.add('btn-ok', BUTTON_CLASS$2);
    var btnCancel = document.createElement('div');
    btnCancel.appendChild(document.createTextNode(this.cancelTitle));
    btnCancel.classList.add('btn-cancel', BUTTON_CLASS$2);
    buttonGroup.appendChild(btnOk);
    buttonGroup.appendChild(btnCancel);
    this.node.appendChild(buttonGroup);
  };

  Prompt.prototype.bindEvents = function () {
    Modal.prototype.bindEvents.call(this);
    var btnOk = this.node.querySelector('.' + BUTTON_CLASS$2 + '.btn-ok');
    var btnCancel = this.node.querySelector('.' + BUTTON_CLASS$2 + '.btn-cancel');
    var that = this;
    btnOk.addEventListener('click', function () {
      var val = document.querySelector('input').value;
      this.destroy();
      this.callback && this.callback({
        result: that.okTitle,
        data: val
      });
    }.bind(this));
    btnCancel.addEventListener('click', function () {
      var val = document.querySelector('input').value;
      this.destroy();
      this.callback && this.callback({
        result: that.cancelTitle,
        data: val
      });
    }.bind(this));
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var _css$1 = "\n.weex-toast {\n  font-size: 0.426667rem;\n  line-height: 0.426667rem;\n  position: fixed;\n  z-index: 1999999999;\n  box-sizing: border-box;\n  max-width: 80%;\n  bottom: 50%;\n  left: 50%;\n  padding: 0.213333rem;\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n  opacity: 0.7;\n  -webkit-transition: all 0.4s ease-in-out;\n  -moz-transition: all 0.4s ease-in-out;\n  -ms-transition: all 0.4s ease-in-out;\n  transition: all 0.4s ease-in-out;\n  border-radius: 0.066667rem;\n  -webkit-transform: translateX(-50%);\n  -moz-transform: translateX(-50%);\n  -ms-transform: translateX(-50%);\n  transform: translateX(-50%);\n}\n\n.weex-toast.hide {\n  opacity: 0;\n}\n\n.weex-alert .weex-alert-ok {\n  width: 100%;\n}\n\n.weex-confirm .btn-group .btn {\n  float: left;\n  width: 50%;\n}\n\n.weex-confirm .btn-group .btn.btn-ok {\n  border-right: 0.013333rem solid #ddd;\n}\n\n.weex-modal-wrap {\n  display: none;\n  position: fixed;\n  z-index: 999999999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.weex-modal-node {\n  position: fixed;\n  z-index: 9999999999;\n  top: 50%;\n  left: 50%;\n  width: 6.666667rem;\n  min-height: 2.666667rem;\n  border-radius: 0.066667rem;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n}\n\n.weex-modal-node.hide {\n  display: none;\n}\n\n.weex-modal-node .content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -moz-box-orient: vertical;\n  -moz-box-direction: normal;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  -moz-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -moz-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: 100%;\n  min-height: 1.866667rem;\n  box-sizing: border-box;\n  font-size: 0.426667rem;\n  line-height: 0.426667rem;\n  padding: 0.213333rem;\n  border-bottom: 0.013333rem solid #ddd;\n}\n\n.weex-modal-node .btn-group {\n  width: 100%;\n  height: 0.8rem;\n  font-size: 0.373333rem;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n\n.weex-modal-node .btn-group .btn {\n  text-align: center;\n}\n\n.weex-modal-node .btn-group .btn {\n  box-sizing: border-box;\n  height: 0.8rem;\n  line-height: 0.8rem;\n  margin: 0;\n  padding: 0;\n  border: none;\n  background: none;\n  text-align: center;\n}\n\n.weex-prompt .input-wrap {\n  box-sizing: border-box;\n  width: 100%;\n  margin-top: 0.133333rem;\n  height: 0.96rem;\n}\n\n.weex-prompt .input-wrap .input {\n  box-sizing: border-box;\n  width: 100%;\n  height: 0.56rem;\n  line-height: 0.56rem;\n  font-size: 0.426667rem;\n  border: 0.013333rem solid #999;\n}\n\n.weex-prompt .btn-group .btn {\n  float: left;\n  width: 50%;\n}\n\n.weex-prompt .btn-group .btn.btn-ok {\n  border-right: 0.013333rem solid #ddd;\n}\n";

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  // TODO: rewrite the modal styles
  var modal = {

    // duration: default is 0.8 seconds.
    toast: function (config) {
      toast.push(config.message, config.duration);
    },

    // config:
    //  - message: string
    //  - okTitle: title of ok button
    //  - callback
    alert: function (config, callback) {
      config.callback = function () {
        callback && callback();
      };
      new Alert(config).show();
    },

    // config:
    //  - message: string
    //  - okTitle: title of ok button
    //  - cancelTitle: title of cancel button
    //  - callback
    confirm: function (config, callback) {
      config.callback = function (val) {
        callback && callback(val);
      };
      new Confirm(config).show();
    },

    // config:
    //  - message: string
    //  - okTitle: title of ok button
    //  - cancelTitle: title of cancel button
    //  - callback
    prompt: function (config, callback) {
      config.callback = function (val) {
        callback && callback(val);
      };
      new Prompt(config).show();
    }
  };

  var modal$1 = {
    init: function (Weex) {
      Weex.utils.appendCss(_css$1, 'weex-mud-modal');
      Weex.registerModule('modal', modal);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * Navigator module
   */
  var navigatorModule = {
    push: function (config, callback) {
      window.location.href = config.url;
      callback && callback();
    },

    pop: function (config, callback) {
      window.history.back();
      callback && callback();
    }
  };

  var navigatorModule$1 = {
    init: function init (weex) {
      weex.registerModule('navigator', navigatorModule);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  /**
   * Webview module
   */
  var isArray$1;

  var webview = {
    goBack: function goBack (vnode) {
      if (isArray$1(vnode)) {
        vnode = vnode[0];
      }
      if (vnode && typeof vnode.goBack === 'function') {
        vnode.goBack();
      }
    },
    goForward: function goForward (vnode) {
      if (isArray$1(vnode)) {
        vnode = vnode[0];
      }
      if (vnode && typeof vnode.goForward === 'function') {
        vnode.goForward();
      }
    },
    reload: function reload (vnode) {
      if (isArray$1(vnode)) {
        vnode = vnode[0];
      }
      if (vnode && typeof vnode.reload === 'function') {
        vnode.reload();
      }
    }
  };

  var webview$1 = {
    init: function init (weex) {
      isArray$1 = weex.utils.isArray;
      weex.registerModule('webview', webview);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  /**
   * websocket module
   */
  /*global WebSocket*/
  var websocket = (function () {
    var registerListeners = ['onopen', 'onmessage', 'onerror', 'onclose'];
    var ws = {
      INSTANCE: null,
      WebSocket: function (url, protocol) {
        if (!url) {
          ws.INSTANCE = null;
          return
        }
        if (!protocol) {
          ws.INSTANCE = new WebSocket(url);
        }
        else {
          ws.INSTANCE = new WebSocket(url, protocol);
        }
        return ws.INSTANCE
      },
      send: function (messages) {
        ws.INSTANCE && ws.INSTANCE.send(messages);
      },
      close: function () {
        ws.INSTANCE && ws.INSTANCE.close();
      }
    };
    var loop = function ( i ) {
      if (registerListeners.hasOwnProperty(i)) {
        Object.defineProperty(ws, registerListeners[i], {
          get: function () {
            return ws.INSTANCE && ws.INSTANCE[registerListeners[i]]
          },
          set: function (fn) {
            if (ws.INSTANCE) {
              ws.INSTANCE[registerListeners[i]] = fn;
            }
          }
        });
      }
    };

    for (var i in registerListeners) loop( i );
    return ws
  })();

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  // TODO: rewrite the module meta
  var websocket$1 = {
    init: function (Weex) {
      Weex.registerModule('webSocket', websocket, { registerType: 'assignment' });
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var meta$5 = {
    /**
     * setViewport.
     * Changing viewport design width at runtime.
     */
    setViewport: function setViewport (options) {
      if (!options) {
        console.error(("[vue-render] set viewport width invalid options: " + options));
      }
      var newWidth = parseInt(options.width);
      if (!isNaN(newWidth) && newWidth > 0) {
        resetViewport(options.width);
      }
      else {
        console.error(("[vue-render] set viewport width invalid options.width: " + (options.width)));
      }
    }
  };

  var meta$6 = {
    init: function init$$1 (weex) {
      weex.registerModule('meta', meta$5);
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var modules$1 = [
    geolocation$1,
    storage$1,
    stream$1,
    clipboard$1,
    eventModule,
    modal$1,
    websocket$1,
    animation$1,
    dom$1,
    globalEvent$1,
    navigatorModule$1,
    webview$1,
    meta$6
  ];

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */
  var valMap = {
    contain: 'contain',
    cover: 'cover',
    stretch: '100% 100%'
  };
  var vals = Object.keys(valMap);
  var defaultVal = 'stretch';

  var resize = {
    init: function init (weex) {
      weex.__vue__.directive('weex-resize', function (el, binding) {
        if (el.tagName.toLowerCase() !== 'figure') {
          return
        }
        var value = binding.value;
        var oldValue = binding.oldvalue;
        if (value === oldValue) {
          return
        }
        if (vals.indexOf(value) <= -1) {
          value = defaultVal;
        }
        el.style.backgroundSize = valMap[value];
      });
    }
  };

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  var directives = {
    resize: resize
  };

  var preInit = weex.init;

  weex.init = function () {
    preInit.apply(weex, arguments);
    var plugins = components.concat(modules$1);

    plugins.forEach(function (plugin) {
      weex.install(plugin);
    });

    for (var k in directives) {
      weex.install(directives[k]);
    }
  };

  if (global.Vue) {
    weex.init(global.Vue);
  }

  return weex;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY29tbW9uLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19kZWZpbmVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19saWJyYXJ5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2dsb2JhbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19jb3JlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fZmFpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9faGlkZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19oYXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fdWlkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3NoYXJlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19mdW5jdGlvbi10by1zdHJpbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19jdHguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fZXhwb3J0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19jb2YuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19odG1sLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fd2tzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fY2xhc3NvZi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19pdGVyLWRldGVjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL2ZuL2FycmF5L2Zyb20uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvZm4vb2JqZWN0L2Fzc2lnbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19mb3Itb2YuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19pbnZva2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fdGFzay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19taWNyb3Rhc2suanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19wZXJmb3JtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3VzZXItYWdlbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NvcmUtanNAMi42LjEyQGNvcmUtanMvbW9kdWxlcy9fcHJvbWlzZS1yZXNvbHZlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jb3JlLWpzQDIuNi4xMkBjb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL19zZXQtc3BlY2llcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY29yZS1qc0AyLjYuMTJAY29yZS1qcy9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwiLi4vLi4vLi4vc3JjL2xpYi9nZXN0dXJlLmpzIiwiLi4vLi4vLi4vc3JjL2xpYi9lbnZkL3ZlcnNpb24uanMiLCIuLi8uLi8uLi9zcmMvbGliL2VudmQvcGFyYW1zLmpzIiwiLi4vLi4vLi4vc3JjL2xpYi9lbnZkL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL3R5cGUuanMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvZnVuYy5qcyIsIi4uLy4uLy4uL3NyYy93ZWV4L3ZpZXdwb3J0LmpzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL2V2ZW50LmpzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy5qcyIsIi4uLy4uLy4uL3NyYy91dGlscy9jb21wb25lbnQuanMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvbGF6eWxvYWQuanMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvc3R5bGUuanMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvd2VleC93eC1lbnYuanMiLCIuLi8uLi8uLi9zcmMvd2VleC9pbnN0YW5jZS5qcyIsIi4uLy4uLy4uL3NyYy9jb3JlL3N0eWxlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL193eHYtdHJhbnNmb3JtZXJAMC4xLjNAd3h2LXRyYW5zZm9ybWVyL2NvbXBpbGVyL3RleHQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3d4di10cmFuc2Zvcm1lckAwLjEuM0B3eHYtdHJhbnNmb3JtZXIvY29tcGlsZXIvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3d4di10cmFuc2Zvcm1lckAwLjEuM0B3eHYtdHJhbnNmb3JtZXIvdHJhbnNmb3JtZXIvdGV4dC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fd3h2LXRyYW5zZm9ybWVyQDAuMS4zQHd4di10cmFuc2Zvcm1lci90cmFuc2Zvcm1lci9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fd3h2LXRyYW5zZm9ybWVyQDAuMS4zQHd4di10cmFuc2Zvcm1lci9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9jb3JlL25vZGUuanMiLCIuLi8uLi8uLi9zcmMvY29yZS9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9taXhpbnMvYmFzZS5qcyIsIi4uLy4uLy4uL3NyYy9taXhpbnMvZXZlbnQuanMiLCIuLi8uLi8uLi9zcmMvbWl4aW5zL3N0eWxlLmpzIiwiLi4vLi4vLi4vc3JjL21peGlucy9pbnB1dC1jb21tb24uanMiLCIuLi8uLi8uLi9zcmMvbWl4aW5zL3N0aWNreS5qcyIsIi4uLy4uLy4uL3NyYy9taXhpbnMvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvd2VleC9nbG9iYWwuanMiLCIuLi8uLi8uLi9zcmMvd2VleC9yZW5kZXItZnVuY3Rpb24uanMiLCIuLi8uLi8uLi9zcmMvd2VleC9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2lucHV0L2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc3dpdGNoL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9taXhpbnMvc2Nyb2xsYWJsZS5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3Njcm9sbGFibGUvbWl4aW5zL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9saXN0LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxlci5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3Njcm9sbGFibGUvd2F0ZXJmYWxsLmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9oZWFkZXIuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zY3JvbGxhYmxlL3JlZnJlc2guanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmctaW5kaWNhdG9yLmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWN5Y2xlLWxpc3QuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zY3JvbGxhYmxlL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlTWl4aW4uanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zbGlkZXIvc2xpZGVyLmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlci1uZWlnaGJvci5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NsaWRlci9pbmRpY2F0b3IuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zbGlkZXIvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy90ZXh0YXJlYS9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZGVvLmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvd2ViL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvbW9kdWxlcy9nZW9sb2NhdGlvbi5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL3N0b3JhZ2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2h0dHB1cmxAMC4xLjJAaHR0cHVybC9idWlsZC9odHRwdXJsLmNvbW1vbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fc3RyaWN0LXVyaS1lbmNvZGVAMS4xLjBAc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX29iamVjdC1hc3NpZ25ANC4xLjFAb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fcXVlcnktc3RyaW5nQDQuMy40QHF1ZXJ5LXN0cmluZy9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL3N0cmVhbS5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL2NsaXBib2FyZC5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL2V2ZW50LmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvYW5pbWF0aW9uLmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvZG9tLmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvZ2xvYmFsRXZlbnQuanMiLCIuLi8uLi8uLi9zcmMvbW9kdWxlcy9tb2RhbC90b2FzdC5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL21vZGFsL21vZGFsLmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvbW9kYWwvYWxlcnQuanMiLCIuLi8uLi8uLi9zcmMvbW9kdWxlcy9tb2RhbC9jb25maXJtLmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvbW9kYWwvcHJvbXB0LmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvbW9kYWwvc3R5bGUuanMiLCIuLi8uLi8uLi9zcmMvbW9kdWxlcy9tb2RhbC9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL25hdmlnYXRvci5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL3dlYnZpZXcuanMiLCIuLi8uLi8uLi9zcmMvbW9kdWxlcy93ZWJzb2NrZXQvd2Vic29ja2V0LmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvd2Vic29ja2V0L2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL21vZHVsZXMvbWV0YS5qcyIsIi4uLy4uLy4uL3NyYy9tb2R1bGVzL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2RpcmVjdGl2ZXMvcmVzaXplLmpzIiwiLi4vLi4vLi4vc3JjL2RpcmVjdGl2ZXMvaW5kZXguanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZmFsc2U7XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi42LjEyJyB9O1xuaWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpIF9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiIsInZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogY29yZS52ZXJzaW9uLFxuICBtb2RlOiByZXF1aXJlKCcuL19saWJyYXJ5JykgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnbmF0aXZlLWZ1bmN0aW9uLXRvLXN0cmluZycsIEZ1bmN0aW9uLnRvU3RyaW5nKTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFNSQyA9IHJlcXVpcmUoJy4vX3VpZCcpKCdzcmMnKTtcbnZhciAkdG9TdHJpbmcgPSByZXF1aXJlKCcuL19mdW5jdGlvbi10by1zdHJpbmcnKTtcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBoYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH0gZWxzZSBpZiAoT1trZXldKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSk7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHA7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmICh0YXJnZXQpIHJlZGVmaW5lKHRhcmdldCwga2V5LCBvdXQsIHR5cGUgJiAkZXhwb3J0LlUpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmIChleHBvcnRzW2tleV0gIT0gb3V0KSBoaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcbiAgICBpZiAoSVNfUFJPVE8gJiYgZXhwUHJvdG9ba2V5XSAhPSBvdXQpIGV4cFByb3RvW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG4iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG4iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBCVUdHWSA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKTsgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxudmFyIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uIChraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKSByZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUztcbiAgdmFyIFZBTFVFU19CVUcgPSBmYWxzZTtcbiAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7XG4gIHZhciAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdO1xuICB2YXIgJGRlZmF1bHQgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKTtcbiAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDtcbiAgdmFyICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlO1xuICB2YXIgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZiAoJGFueU5hdGl2ZSkge1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTtcbiAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmICghTElCUkFSWSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSkge1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuICBpZiAoREVGQVVMVCkge1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChrZXkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSkgcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG4iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICBpZiAoaW5kZXggaW4gb2JqZWN0KSAkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xufTtcbiIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIiwidmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBbN107XG4gICAgdmFyIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4geyBkb25lOiBzYWZlID0gdHJ1ZSB9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24gKGl0ZXIpIHsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpO1xuICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheTtcbiAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIG1hcGZuID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGl0ZXJGbiA9IGdldEl0ZXJGbihPKTtcbiAgICB2YXIgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmIChpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSkge1xuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQygpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZyb207XG4iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIiwiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4iLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSB7XG4gICAgICBrZXkgPSBrZXlzW2orK107XG4gICAgICBpZiAoIURFU0NSSVBUT1JTIHx8IGlzRW51bS5jYWxsKFMsIGtleSkpIFRba2V5XSA9IFNba2V5XTtcbiAgICB9XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcbiIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHsgYXNzaWduOiByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJykgfSk7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuIiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgdGVzdCA9IHt9O1xudGVzdFtyZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKV0gPSAneic7XG5pZiAodGVzdCArICcnICE9ICdbb2JqZWN0IHpdJykge1xuICByZXF1aXJlKCcuL19yZWRlZmluZScpKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbiAgfSwgdHJ1ZSk7XG59XG4iLCIvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSByZXF1aXJlKCcuL193a3MnKSgndW5zY29wYWJsZXMnKTtcbnZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuaWYgKEFycmF5UHJvdG9bVU5TQ09QQUJMRVNdID09IHVuZGVmaW5lZCkgcmVxdWlyZSgnLi9faGlkZScpKEFycmF5UHJvdG8sIFVOU0NPUEFCTEVTLCB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgQXJyYXlQcm90b1tVTlNDT1BBQkxFU11ba2V5XSA9IHRydWU7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpO1xudmFyIHN0ZXAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBraW5kID0gdGhpcy5faztcbiAgdmFyIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZiAoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpIHtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuIiwidmFyICRpdGVyYXRvcnMgPSByZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xudmFyIElURVJBVE9SID0gd2tzKCdpdGVyYXRvcicpO1xudmFyIFRPX1NUUklOR19UQUcgPSB3a3MoJ3RvU3RyaW5nVGFnJyk7XG52YXIgQXJyYXlWYWx1ZXMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbnZhciBET01JdGVyYWJsZXMgPSB7XG4gIENTU1J1bGVMaXN0OiB0cnVlLCAvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS5cbiAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogZmFsc2UsXG4gIENTU1ZhbHVlTGlzdDogZmFsc2UsXG4gIENsaWVudFJlY3RMaXN0OiBmYWxzZSxcbiAgRE9NUmVjdExpc3Q6IGZhbHNlLFxuICBET01TdHJpbmdMaXN0OiBmYWxzZSxcbiAgRE9NVG9rZW5MaXN0OiB0cnVlLFxuICBEYXRhVHJhbnNmZXJJdGVtTGlzdDogZmFsc2UsXG4gIEZpbGVMaXN0OiBmYWxzZSxcbiAgSFRNTEFsbENvbGxlY3Rpb246IGZhbHNlLFxuICBIVE1MQ29sbGVjdGlvbjogZmFsc2UsXG4gIEhUTUxGb3JtRWxlbWVudDogZmFsc2UsXG4gIEhUTUxTZWxlY3RFbGVtZW50OiBmYWxzZSxcbiAgTWVkaWFMaXN0OiB0cnVlLCAvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS5cbiAgTWltZVR5cGVBcnJheTogZmFsc2UsXG4gIE5hbWVkTm9kZU1hcDogZmFsc2UsXG4gIE5vZGVMaXN0OiB0cnVlLFxuICBQYWludFJlcXVlc3RMaXN0OiBmYWxzZSxcbiAgUGx1Z2luOiBmYWxzZSxcbiAgUGx1Z2luQXJyYXk6IGZhbHNlLFxuICBTVkdMZW5ndGhMaXN0OiBmYWxzZSxcbiAgU1ZHTnVtYmVyTGlzdDogZmFsc2UsXG4gIFNWR1BhdGhTZWdMaXN0OiBmYWxzZSxcbiAgU1ZHUG9pbnRMaXN0OiBmYWxzZSxcbiAgU1ZHU3RyaW5nTGlzdDogZmFsc2UsXG4gIFNWR1RyYW5zZm9ybUxpc3Q6IGZhbHNlLFxuICBTb3VyY2VCdWZmZXJMaXN0OiBmYWxzZSxcbiAgU3R5bGVTaGVldExpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBUZXh0VHJhY2tDdWVMaXN0OiBmYWxzZSxcbiAgVGV4dFRyYWNrTGlzdDogZmFsc2UsXG4gIFRvdWNoTGlzdDogZmFsc2Vcbn07XG5cbmZvciAodmFyIGNvbGxlY3Rpb25zID0gZ2V0S2V5cyhET01JdGVyYWJsZXMpLCBpID0gMDsgaSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gIHZhciBOQU1FID0gY29sbGVjdGlvbnNbaV07XG4gIHZhciBleHBsaWNpdCA9IERPTUl0ZXJhYmxlc1tOQU1FXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIHZhciBrZXk7XG4gIGlmIChwcm90bykge1xuICAgIGlmICghcHJvdG9bSVRFUkFUT1JdKSBoaWRlKHByb3RvLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpO1xuICAgIGlmICghcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICAgIEl0ZXJhdG9yc1tOQU1FXSA9IEFycmF5VmFsdWVzO1xuICAgIGlmIChleHBsaWNpdCkgZm9yIChrZXkgaW4gJGl0ZXJhdG9ycykgaWYgKCFwcm90b1trZXldKSByZWRlZmluZShwcm90bywga2V5LCAkaXRlcmF0b3JzW2tleV0sIHRydWUpO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG4gIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgQlJFQUsgPSB7fTtcbnZhciBSRVRVUk4gPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7XG4gIHZhciBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKSBmb3IgKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG4iLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG4iLCJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaW52b2tlID0gcmVxdWlyZSgnLi9faW52b2tlJyk7XG52YXIgaHRtbCA9IHJlcXVpcmUoJy4vX2h0bWwnKTtcbnZhciBjZWwgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIHNldFRhc2sgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xudmFyIGNsZWFyVGFzayA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZTtcbnZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDtcbnZhciBEaXNwYXRjaCA9IGdsb2JhbC5EaXNwYXRjaDtcbnZhciBjb3VudGVyID0gMDtcbnZhciBxdWV1ZSA9IHt9O1xudmFyIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xudmFyIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYgKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spIHtcbiAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgdmFyIGkgPSAxO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpIHtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYgKHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgfTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSkge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldFRhc2ssXG4gIGNsZWFyOiBjbGVhclRhc2tcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgbWFjcm90YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBQcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYgKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKSBwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICBmbiA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGhlYWQpIG5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYgKGlzTm9kZSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyBTYWZhcmkgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIH0gZWxzZSBpZiAoT2JzZXJ2ZXIgJiYgIShnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSkpIHtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmIChQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgIC8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuICAgIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICAgIGlmIChsYXN0KSBsYXN0Lm5leHQgPSB0YXNrO1xuICAgIGlmICghaGVhZCkge1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDI1LjQuMS41IE5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xuXG5mdW5jdGlvbiBQcm9taXNlQ2FwYWJpbGl0eShDKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uICgkJHJlc29sdmUsICQkcmVqZWN0KSB7XG4gICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ID0gJCRyZWplY3Q7XG4gIH0pO1xuICB0aGlzLnJlc29sdmUgPSBhRnVuY3Rpb24ocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiAoQykge1xuICByZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBlOiB0cnVlLCB2OiBlIH07XG4gIH1cbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgbmF2aWdhdG9yID0gZ2xvYmFsLm5hdmlnYXRvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJztcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHtcbiAgYW5PYmplY3QoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG4iLCJ2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzcmMsIHNhZmUpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNyY1trZXldLCBzYWZlKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSkge1xuICB2YXIgQyA9IGdsb2JhbFtLRVldO1xuICBpZiAoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSkgZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciB0YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG52YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi9fdXNlci1hZ2VudCcpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG52YXIgUFJPTUlTRSA9ICdQcm9taXNlJztcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucztcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4IHx8ICcnO1xudmFyICRQcm9taXNlID0gZ2xvYmFsW1BST01JU0VdO1xudmFyIGlzTm9kZSA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xudmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIEludGVybmFsLCBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIE93blByb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSA9ICRQcm9taXNlLnJlc29sdmUoMSk7XG4gICAgdmFyIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbiAoZXhlYykge1xuICAgICAgZXhlYyhlbXB0eSwgZW1wdHkpO1xuICAgIH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZVxuICAgICAgLy8gdjggNi42IChOb2RlIDEwIGFuZCBDaHJvbWUgNjYpIGhhdmUgYSBidWcgd2l0aCByZXNvbHZpbmcgY3VzdG9tIHRoZW5hYmxlc1xuICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG4gICAgICAvLyB3ZSBjYW4ndCBkZXRlY3QgaXQgc3luY2hyb25vdXNseSwgc28ganVzdCBjaGVjayB2ZXJzaW9uc1xuICAgICAgJiYgdjguaW5kZXhPZignNi42JykgIT09IDBcbiAgICAgICYmIHVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUvNjYnKSA9PT0gLTE7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAocHJvbWlzZSwgaXNSZWplY3QpIHtcbiAgaWYgKHByb21pc2UuX24pIHJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgb2sgPSBwcm9taXNlLl9zID09IDE7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbiAocmVhY3Rpb24pIHtcbiAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7XG4gICAgICB2YXIgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmU7XG4gICAgICB2YXIgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0O1xuICAgICAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjtcbiAgICAgIHZhciByZXN1bHQsIHRoZW4sIGV4aXRlZDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgaWYgKHByb21pc2UuX2ggPT0gMikgb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHRydWUpIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTsgLy8gbWF5IHRocm93XG4gICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICAgIGV4aXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2UpIHtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZG9tYWluICYmICFleGl0ZWQpIGRvbWFpbi5leGl0KCk7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKSBydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpIG9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgdW5oYW5kbGVkID0gaXNVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgdmFyIHJlc3VsdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZiAodW5oYW5kbGVkKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pIHtcbiAgICAgICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmICh1bmhhbmRsZWQgJiYgcmVzdWx0LmUpIHRocm93IHJlc3VsdC52O1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICByZXR1cm4gcHJvbWlzZS5faCAhPT0gMSAmJiAocHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jKS5sZW5ndGggPT09IDA7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpIHtcbiAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3YgfSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYgKCFwcm9taXNlLl9hKSBwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgdmFyIHRoZW47XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgJHJlamVjdC5jYWxsKHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpKCRQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9hKSB0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX3MpIG5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBPd25Qcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCA9IGN0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcbiAgfTtcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gJFByb21pc2UgfHwgQyA9PT0gV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFByb21pc2U6ICRQcm9taXNlIH0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKTtcbiAgICB2YXIgJCRyZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoTElCUkFSWSAmJiB0aGlzID09PSBXcmFwcGVyID8gJFByb21pc2UgOiB0aGlzLCB4KTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7XG4gICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyICRpbmRleCA9IGluZGV4Kys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBpc0luaXRpYWxpemVkID0gZmFsc2VcblxuLy8gbWFqb3IgZXZlbnRzIHN1cHBvcnRlZDpcbi8vICAgcGFuc3RhcnRcbi8vICAgcGFubW92ZVxuLy8gICBwYW5lbmRcbi8vICAgc3dpcGVcbi8vICAgbG9uZ3ByZXNzXG4vLyBleHRyYSBldmVudHMgc3VwcG9ydGVkOlxuLy8gICBkdWFsdG91Y2hzdGFydFxuLy8gICBkdWFsdG91Y2hcbi8vICAgZHVhbHRvdWNoZW5kXG4vLyAgIHRhcFxuLy8gICBkb3VibGV0YXBcbi8vICAgcHJlc3NlbmRcblxudmFyIGRvYyA9IHdpbmRvdy5kb2N1bWVudFxudmFyIGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudFxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlXG52YXIgZ2VzdHVyZXMgPSB7fVxudmFyIGxhc3RUYXAgPSBudWxsXG5cbi8qKlxuICogZmluZCB0aGUgY2xvc2VzdCBjb21tb24gYW5jZXN0b3JcbiAqIGlmIHRoZXJlJ3Mgbm8gb25lLCByZXR1cm4gbnVsbFxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsMSBmaXJzdCBlbGVtZW50XG4gKiBAcGFyYW0gIHtFbGVtZW50fSBlbDIgc2Vjb25kIGVsZW1lbnRcbiAqIEByZXR1cm4ge0VsZW1lbnR9ICAgICBjb21tb24gYW5jZXN0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tbW9uQW5jZXN0b3IoZWwxLCBlbDIpIHtcbiAgdmFyIGVsID0gZWwxXG4gIHdoaWxlIChlbCkge1xuICAgIGlmIChlbC5jb250YWlucyhlbDIpIHx8IGVsID09IGVsMikge1xuICAgICAgcmV0dXJuIGVsXG4gICAgfVxuICAgIGVsID0gZWwucGFyZW50Tm9kZVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8qKlxuICogZmlyZSBhIEhUTUxFdmVudFxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsZW1lbnQgd2hpY2ggZWxlbWVudCB0byBmaXJlIGEgZXZlbnQgb25cbiAqIEBwYXJhbSAge3N0cmluZ30gIHR5cGUgICAgdHlwZSBvZiBldmVudFxuICogQHBhcmFtICB7b2JqZWN0fSAgZXh0cmEgICBleHRyYSBkYXRhIGZvciB0aGUgZXZlbnQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGZpcmVFdmVudChlbGVtZW50LCB0eXBlLCBleHRyYSkge1xuICB2YXIgZXZlbnQgPSBkb2MuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKVxuICBldmVudC5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSlcblxuICBpZiAodHlwZW9mIGV4dHJhID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAodmFyIHAgaW4gZXh0cmEpIHtcbiAgICAgIGV2ZW50W3BdID0gZXh0cmFbcF1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBmbGFnIHRvIGRpc3Rpbmd1aXNoIHdpdGggb3RoZXIgZXZlbnRzIHdpdGggdGhlIHNhbWUgbmFtZSBnZW5lcmF0ZWRcbiAgICogYnkgYW5vdGhlciBsaWJyYXJ5IGluIHRoZSBzYW1lIHBhZ2UuXG4gICAqLyBcbiAgZXZlbnQuX2ZvciA9ICd3ZWV4J1xuXG4gIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudClcbn1cblxuLyoqXG4gKiBjYWxjIHRoZSB0cmFuc2Zvcm1cbiAqIGFzc3VtZSA0IHBvaW50cyBBQkNEIG9uIHRoZSBjb29yZGluYXRlIHN5c3RlbVxuICogPiByb3RhdGXvvJphbmdsZSByb3RhdGluZyBmcm9tIEFCIHRvIENEXG4gKiA+IHNjYWxl77yac2NhbGUgcmF0aW8gZnJvbSBBQiB0byBDRFxuICogPiB0cmFuc2xhdGXvvJp0cmFuc2xhdGUgc2hpZnQgZnJvbSBBIHRvIENcbiAqXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHgxIGFic2Npc3NhIG9mIEFcbiAqIEBwYXJhbSAge251bWJlcn0geTEgb3JkaW5hdGUgb2YgQVxuICogQHBhcmFtICB7bnVtYmVyfSB4MiBhYnNjaXNzYSBvZiBCXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHkyIG9yZGluYXRlIG9mIEJcbiAqIEBwYXJhbSAge251bWJlcn0geDMgYWJzY2lzc2Egb2YgQ1xuICogQHBhcmFtICB7bnVtYmVyfSB5MyBvcmRpbmF0ZSBvZiBDXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHg0IGFic2Npc3NhIG9mIERcbiAqIEBwYXJhbSAge251bWJlcn0geTQgb3JkaW5hdGUgb2YgRFxuICogQHJldHVybiB7b2JqZWN0fSAgICB0cmFuc2Zvcm0gb2JqZWN0IGxpa2VcbiAqICAge3JvdGF0ZSwgc2NhbGUsIHRyYW5zbGF0ZVsyXSwgbWF0cml4WzNdWzNdfVxuICovXG5mdW5jdGlvbiBjYWxjKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuICB2YXIgcm90YXRlID0gTWF0aC5hdGFuMih5NCAtIHkzLCB4NCAtIHgzKSAtIE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSlcbiAgdmFyIHNjYWxlID0gTWF0aC5zcXJ0KChNYXRoLnBvdyh5NCAtIHkzLCAyKVxuICAgICsgTWF0aC5wb3coeDQgLSB4MywgMikpIC8gKE1hdGgucG93KHkyIC0geTEsIDIpXG4gICAgKyBNYXRoLnBvdyh4MiAtIHgxLCAyKSkpXG4gIHZhciB0cmFuc2xhdGUgPSBbXG4gICAgeDNcbiAgICAtIHNjYWxlICogeDEgKiBNYXRoLmNvcyhyb3RhdGUpXG4gICAgKyBzY2FsZSAqIHkxICogTWF0aC5zaW4ocm90YXRlKSxcbiAgICB5M1xuICAgIC0gc2NhbGUgKiB5MSAqIE1hdGguY29zKHJvdGF0ZSlcbiAgICAtIHNjYWxlICogeDEgKiBNYXRoLnNpbihyb3RhdGUpXVxuXG4gIHJldHVybiB7XG4gICAgcm90YXRlOiByb3RhdGUsXG4gICAgc2NhbGU6IHNjYWxlLFxuICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlLFxuICAgIG1hdHJpeDogW1xuICAgICAgW3NjYWxlICogTWF0aC5jb3Mocm90YXRlKSwgLXNjYWxlICogTWF0aC5zaW4ocm90YXRlKSwgdHJhbnNsYXRlWzBdXSxcbiAgICAgIFtzY2FsZSAqIE1hdGguc2luKHJvdGF0ZSksIHNjYWxlICogTWF0aC5jb3Mocm90YXRlKSwgdHJhbnNsYXRlWzFdXSxcbiAgICAgIFswLCAwLCAxXVxuICAgIF1cbiAgfVxufVxuXG4vKipcbiAqIHRha2Ugb3ZlciB0aGUgdG91Y2hzdGFydCBldmVudHMuIEFkZCBuZXcgdG91Y2hlcyB0byB0aGUgZ2VzdHVyZXMuXG4gKiBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyByZWNvcmRzLCB0aGVuIGJpbmQgdG91Y2htb3ZlLCB0b2NoZW5kXG4gKiBhbmQgdG91Y2hjYW5jZWwgZXZlbnRzLlxuICogbmV3IHRvdWNoZXMgaW5pdGlhbGl6ZWQgd2l0aCBzdGF0ZSAndGFwcGluZycsIGFuZCB3aXRoaW4gNTAwIG1pbGxpc2Vjb25kc1xuICogaWYgdGhlIHN0YXRlIGlzIHN0aWxsIHRhcHBpbmcsIHRoZW4gdHJpZ2dlciBnZXN0dXJlICdwcmVzcycuXG4gKiBJZiB0aGVyZSBhcmUgdHdvIHRvdWNoZSBwb2ludHMsIHRoZW4gdGhlICdkdWFsdG91Y2hzdGFydCcgaXMgdHJpZ2dlcmQuIFRoZVxuICogbm9kZSBvZiB0aGUgdG91Y2ggZ2VzdHVyZSBpcyB0aGVpciBjbG9lc3QgY29tbW9uIGFuY2VzdG9yLlxuICpcbiAqIEBldmVudFxuICogQHBhcmFtICB7ZXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHRvdWNoc3RhcnRIYW5kbGVyKGV2ZW50KSB7XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT09IDApIHtcbiAgICBkb2NFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmVIYW5kbGVyLCB0cnVlKVxuICAgIGRvY0VsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmRIYW5kbGVyLCB0cnVlKVxuICAgIGRvY0VsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdG91Y2hjYW5jZWxIYW5kbGVyLCB0cnVlKVxuICB9XG5cbiAgLy8gcmVjb3JkIGV2ZXJ5IHRvdWNoXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXVxuICAgIHZhciB0b3VjaFJlY29yZCA9IHt9XG5cbiAgICBmb3IgKHZhciBwIGluIHRvdWNoKSB7XG4gICAgICB0b3VjaFJlY29yZFtwXSA9IHRvdWNoW3BdXG4gICAgfVxuXG4gICAgdmFyIGdlc3R1cmUgPSB7XG4gICAgICBzdGFydFRvdWNoOiB0b3VjaFJlY29yZCxcbiAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgIHN0YXR1czogJ3RhcHBpbmcnLFxuICAgICAgZWxlbWVudDogZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQsXG4gICAgICBwcmVzc2luZ0hhbmRsZXI6IHNldFRpbWVvdXQoZnVuY3Rpb24gKGVsZW1lbnQsIHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAndGFwcGluZycpIHtcbiAgICAgICAgICAgIGdlc3R1cmUuc3RhdHVzID0gJ3ByZXNzaW5nJ1xuXG4gICAgICAgICAgICBmaXJlRXZlbnQoZWxlbWVudCwgJ2xvbmdwcmVzcycsIHtcbiAgICAgICAgICAgICAgLy8gYWRkIHRvdWNoIGRhdGEgZm9yIHdlZXhcbiAgICAgICAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICAgICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgICAgICAgICBjaGFuZ2VkVG91Y2hlczogZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dChnZXN0dXJlLnByZXNzaW5nSGFuZGxlcilcbiAgICAgICAgICBnZXN0dXJlLnByZXNzaW5nSGFuZGxlciA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfShldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV0pLCA1MDApXG4gICAgfVxuICAgIGdlc3R1cmVzW3RvdWNoLmlkZW50aWZpZXJdID0gZ2VzdHVyZVxuICB9XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT0gMikge1xuICAgIHZhciBlbGVtZW50cyA9IFtdXG5cbiAgICBmb3IgKHZhciBwIGluIGdlc3R1cmVzKSB7XG4gICAgICBlbGVtZW50cy5wdXNoKGdlc3R1cmVzW3BdLmVsZW1lbnQpXG4gICAgfVxuXG4gICAgZmlyZUV2ZW50KGdldENvbW1vbkFuY2VzdG9yKGVsZW1lbnRzWzBdLCBlbGVtZW50c1sxXSksICdkdWFsdG91Y2hzdGFydCcsIHtcbiAgICAgIHRvdWNoZXM6IHNsaWNlLmNhbGwoZXZlbnQudG91Y2hlcyksXG4gICAgICB0b3VjaEV2ZW50OiBldmVudFxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiB0YWtlIG92ZXIgdG91Y2htb3ZlIGV2ZW50cywgYW5kIGhhbmRsZSBwYW4gYW5kIGR1YWwgcmVsYXRlZCBnZXN0dXJlcy5cbiAqXG4gKiAxLiB0cmF2ZXJzZSBldmVyeSB0b3VjaCBwb2ludO+8mlxuICogPiBpZiAndGFwcGluZycgYW5kIHRoZSBzaGlmdCBpcyBvdmVyIDEwIHBpeGxlcywgdGhlbiBpdCdzIGEgJ3Bhbm5pbmcnLlxuICogMi4gaWYgdGhlcmUgYXJlIHR3byB0b3VjaCBwb2ludHMsIHRoZW4gY2FsYyB0aGUgdHJhbmZvcm0gYW5kIHRyaWdnZXJcbiAqICAgJ2R1YWx0b3VjaCcuXG4gKlxuICogQGV2ZW50XG4gKiBAcGFyYW0gIHtldmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gdG91Y2htb3ZlSGFuZGxlcihldmVudCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV1cbiAgICB2YXIgZ2VzdHVyZSA9IGdlc3R1cmVzW3RvdWNoLmlkZW50aWZpZXJdXG5cbiAgICBpZiAoIWdlc3R1cmUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS5sYXN0VG91Y2gpIHtcbiAgICAgIGdlc3R1cmUubGFzdFRvdWNoID0gZ2VzdHVyZS5zdGFydFRvdWNoXG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS5sYXN0VGltZSkge1xuICAgICAgZ2VzdHVyZS5sYXN0VGltZSA9IGdlc3R1cmUuc3RhcnRUaW1lXG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS52ZWxvY2l0eVgpIHtcbiAgICAgIGdlc3R1cmUudmVsb2NpdHlYID0gMFxuICAgIH1cbiAgICBpZiAoIWdlc3R1cmUudmVsb2NpdHlZKSB7XG4gICAgICBnZXN0dXJlLnZlbG9jaXR5WSA9IDBcbiAgICB9XG4gICAgaWYgKCFnZXN0dXJlLmR1cmF0aW9uKSB7XG4gICAgICBnZXN0dXJlLmR1cmF0aW9uID0gMFxuICAgIH1cblxuICAgIHZhciB0aW1lID0gIERhdGUubm93KCkgLSBnZXN0dXJlLmxhc3RUaW1lXG4gICAgdmFyIHZ4ID0gKHRvdWNoLmNsaWVudFggLSBnZXN0dXJlLmxhc3RUb3VjaC5jbGllbnRYKSAvIHRpbWVcbiAgICB2YXIgdnkgPSAodG91Y2guY2xpZW50WSAtIGdlc3R1cmUubGFzdFRvdWNoLmNsaWVudFkpIC8gdGltZVxuXG4gICAgdmFyIFJFQ09SRF9EVVJBVElPTiA9IDcwXG4gICAgaWYgKHRpbWUgPiBSRUNPUkRfRFVSQVRJT04pIHtcbiAgICAgIHRpbWUgPSBSRUNPUkRfRFVSQVRJT05cbiAgICB9XG4gICAgaWYgKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lID4gUkVDT1JEX0RVUkFUSU9OKSB7XG4gICAgICBnZXN0dXJlLmR1cmF0aW9uID0gUkVDT1JEX0RVUkFUSU9OIC0gdGltZVxuICAgIH1cblxuICAgIGdlc3R1cmUudmVsb2NpdHlYID0gKGdlc3R1cmUudmVsb2NpdHlYICogZ2VzdHVyZS5kdXJhdGlvbiArIHZ4ICogdGltZSlcbiAgICAgIC8gKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lKVxuICAgIGdlc3R1cmUudmVsb2NpdHlZID0gKGdlc3R1cmUudmVsb2NpdHlZICogZ2VzdHVyZS5kdXJhdGlvbiArIHZ5ICogdGltZSlcbiAgICAgIC8gKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lKVxuICAgIGdlc3R1cmUuZHVyYXRpb24gKz0gdGltZVxuXG4gICAgZ2VzdHVyZS5sYXN0VG91Y2ggPSB7fVxuXG4gICAgZm9yICh2YXIgcCBpbiB0b3VjaCkge1xuICAgICAgZ2VzdHVyZS5sYXN0VG91Y2hbcF0gPSB0b3VjaFtwXVxuICAgIH1cbiAgICBnZXN0dXJlLmxhc3RUaW1lID0gRGF0ZS5ub3coKVxuXG4gICAgdmFyIGRpc3BsYWNlbWVudFggPSB0b3VjaC5jbGllbnRYIC0gZ2VzdHVyZS5zdGFydFRvdWNoLmNsaWVudFhcbiAgICB2YXIgZGlzcGxhY2VtZW50WSA9IHRvdWNoLmNsaWVudFkgLSBnZXN0dXJlLnN0YXJ0VG91Y2guY2xpZW50WVxuICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyhkaXNwbGFjZW1lbnRYLCAyKVxuICAgICAgKyBNYXRoLnBvdyhkaXNwbGFjZW1lbnRZLCAyKSlcbiAgICB2YXIgaXNWZXJ0aWNhbCA9ICEoTWF0aC5hYnMoZGlzcGxhY2VtZW50WCkgPiBNYXRoLmFicyhkaXNwbGFjZW1lbnRZKSlcbiAgICB2YXIgZGlyZWN0aW9uID0gaXNWZXJ0aWNhbFxuICAgICAgPyBkaXNwbGFjZW1lbnRZID49IDAgPyAnZG93bicgOiAndXAnXG4gICAgICA6IGRpc3BsYWNlbWVudFggPj0gMCA/ICdyaWdodCcgOiAnbGVmdCdcblxuICAgIC8vIG1hZ2ljIG51bWJlciAxMDogbW92aW5nIDEwcHggbWVhbnMgcGFuLCBub3QgdGFwXG4gICAgaWYgKChnZXN0dXJlLnN0YXR1cyA9PT0gJ3RhcHBpbmcnIHx8IGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKVxuICAgICAgICAmJiBkaXN0YW5jZSA+IDEwKSB7XG4gICAgICBnZXN0dXJlLnN0YXR1cyA9ICdwYW5uaW5nJ1xuICAgICAgZ2VzdHVyZS5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbFxuICAgICAgZ2VzdHVyZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb25cblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3BhbnN0YXJ0Jywge1xuICAgICAgICB0b3VjaDogdG91Y2gsXG4gICAgICAgIHRvdWNoZXM6IGV2ZW50LnRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzOiBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnQsXG4gICAgICAgIGlzVmVydGljYWw6IGdlc3R1cmUuaXNWZXJ0aWNhbCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIGdlc3R1cmUucGFuVGltZSA9IERhdGUubm93KClcblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3Bhbm1vdmUnLCB7XG4gICAgICAgIGRpc3BsYWNlbWVudFg6IGRpc3BsYWNlbWVudFgsXG4gICAgICAgIGRpc3BsYWNlbWVudFk6IGRpc3BsYWNlbWVudFksXG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hlczogZXZlbnQudG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICB0b3VjaEV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWZXJ0aWNhbDogZ2VzdHVyZS5pc1ZlcnRpY2FsLFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBpZiAoT2JqZWN0LmtleXMoZ2VzdHVyZXMpLmxlbmd0aCA9PSAyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gW11cbiAgICB2YXIgY3VycmVudCA9IFtdXG4gICAgdmFyIGVsZW1lbnRzID0gW11cbiAgICB2YXIgdHJhbnNmb3JtXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbaV1cbiAgICAgIHZhciBnZXN0dXJlID0gZ2VzdHVyZXNbdG91Y2guaWRlbnRpZmllcl1cbiAgICAgIHBvc2l0aW9uLnB1c2goW2dlc3R1cmUuc3RhcnRUb3VjaC5jbGllbnRYLCBnZXN0dXJlLnN0YXJ0VG91Y2guY2xpZW50WV0pXG4gICAgICBjdXJyZW50LnB1c2goW3RvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFldKVxuICAgIH1cblxuICAgIGZvciAodmFyIHAgaW4gZ2VzdHVyZXMpIHtcbiAgICAgIGVsZW1lbnRzLnB1c2goZ2VzdHVyZXNbcF0uZWxlbWVudClcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0gPSBjYWxjKFxuICAgICAgcG9zaXRpb25bMF1bMF0sXG4gICAgICBwb3NpdGlvblswXVsxXSxcbiAgICAgIHBvc2l0aW9uWzFdWzBdLFxuICAgICAgcG9zaXRpb25bMV1bMV0sXG4gICAgICBjdXJyZW50WzBdWzBdLFxuICAgICAgY3VycmVudFswXVsxXSxcbiAgICAgIGN1cnJlbnRbMV1bMF0sXG4gICAgICBjdXJyZW50WzFdWzFdXG4gICAgKVxuICAgIGZpcmVFdmVudChnZXRDb21tb25BbmNlc3RvcihlbGVtZW50c1swXSwgZWxlbWVudHNbMV0pLCAnZHVhbHRvdWNoJywge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogaGFuZGxlIHRvdWNoZW5kIGV2ZW50XG4gKlxuICogMS4gaWYgdGhlcmUgYXJlIHRvdyB0b3VjaCBwb2ludHMsIHRoZW4gdHJpZ2dlciAnZHVhbHRvdWNoZW5kJ+WmglxuICpcbiAqIDIuIHRyYXZlcnNlIGV2ZXJ5IHRvdWNoIHBpb25077yaXG4gKiA+IGlmIHRhcHBpbmcsIHRoZW4gdHJpZ2dlciAndGFwJy5cbiAqIElmIHRoZXJlIGlzIGEgdGFwIDMwMCBtaWxsaXNlY29uZHMgYmVmb3JlLCB0aGVuIGl0J3MgYSAnZG91YmxldGFwJy5cbiAqID4gaWYgcGFkZGluZywgdGhlbiBkZWNpZGUgdG8gdHJpZ2dlciAncGFuZW5kJyBvciAnc3dpcGUnXG4gKiA+IGlmIHByZXNzaW5nLCB0aGVuIHRyaWdnZXIgJ3ByZXNzZW5kJy5cbiAqXG4gKiAzLiByZW1vdmUgbGlzdGVuZXJzLlxuICpcbiAqIEBldmVudFxuICogQHBhcmFtICB7ZXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHRvdWNoZW5kSGFuZGxlcihldmVudCkge1xuXG4gIGlmIChPYmplY3Qua2V5cyhnZXN0dXJlcykubGVuZ3RoID09IDIpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXVxuICAgIGZvciAodmFyIHAgaW4gZ2VzdHVyZXMpIHtcbiAgICAgIGVsZW1lbnRzLnB1c2goZ2VzdHVyZXNbcF0uZWxlbWVudClcbiAgICB9XG4gICAgZmlyZUV2ZW50KGdldENvbW1vbkFuY2VzdG9yKGVsZW1lbnRzWzBdLCBlbGVtZW50c1sxXSksICdkdWFsdG91Y2hlbmQnLCB7XG4gICAgICB0b3VjaGVzOiBzbGljZS5jYWxsKGV2ZW50LnRvdWNoZXMpLFxuICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICB9KVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldXG4gICAgdmFyIGlkID0gdG91Y2guaWRlbnRpZmllclxuICAgIHZhciBnZXN0dXJlID0gZ2VzdHVyZXNbaWRdXG5cbiAgICBpZiAoIWdlc3R1cmUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUucHJlc3NpbmdIYW5kbGVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZ2VzdHVyZS5wcmVzc2luZ0hhbmRsZXIpXG4gICAgICBnZXN0dXJlLnByZXNzaW5nSGFuZGxlciA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoZ2VzdHVyZS5zdGF0dXMgPT09ICd0YXBwaW5nJykge1xuICAgICAgZ2VzdHVyZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgICAvLyBmaXJlIGNsaWNrLCBub3QgdGFwLlxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3dlZXgkdGFwJywge1xuICAgICAgICB0b3VjaDogdG91Y2gsXG4gICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICB9KVxuXG4gICAgICBpZiAobGFzdFRhcCAmJiBnZXN0dXJlLnRpbWVzdGFtcCAtIGxhc3RUYXAudGltZXN0YW1wIDwgMzAwKSB7XG4gICAgICAgIGZpcmVFdmVudChnZXN0dXJlLmVsZW1lbnQsICdkb3VibGV0YXAnLCB7XG4gICAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGxhc3RUYXAgPSBnZXN0dXJlXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpXG4gICAgICB2YXIgZHVyYXRpb24gPSBub3cgLSBnZXN0dXJlLnN0YXJ0VGltZVxuICAgICAgdmFyIGRpc3BsYWNlbWVudFggPSB0b3VjaC5jbGllbnRYIC0gZ2VzdHVyZS5zdGFydFRvdWNoLmNsaWVudFhcbiAgICAgIHZhciBkaXNwbGFjZW1lbnRZID0gdG91Y2guY2xpZW50WSAtIGdlc3R1cmUuc3RhcnRUb3VjaC5jbGllbnRZXG5cbiAgICAgIHZhciB2ZWxvY2l0eSA9IE1hdGguc3FydChnZXN0dXJlLnZlbG9jaXR5WSAqIGdlc3R1cmUudmVsb2NpdHlZXG4gICAgICAgICsgZ2VzdHVyZS52ZWxvY2l0eVggKiBnZXN0dXJlLnZlbG9jaXR5WClcbiAgICAgIHZhciBpc1N3aXBlID0gdmVsb2NpdHkgPiAwLjUgJiYgKG5vdyAtIGdlc3R1cmUubGFzdFRpbWUpIDwgMTAwXG4gICAgICB2YXIgZXh0cmEgPSB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgaXNTd2lwZTogaXNTd2lwZSxcbiAgICAgICAgdmVsb2NpdHlYOiBnZXN0dXJlLnZlbG9jaXR5WCxcbiAgICAgICAgdmVsb2NpdHlZOiBnZXN0dXJlLnZlbG9jaXR5WSxcbiAgICAgICAgZGlzcGxhY2VtZW50WDogZGlzcGxhY2VtZW50WCxcbiAgICAgICAgZGlzcGxhY2VtZW50WTogZGlzcGxhY2VtZW50WSxcbiAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlczogZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50LFxuICAgICAgICBpc1ZlcnRpY2FsOiBnZXN0dXJlLmlzVmVydGljYWwsXG4gICAgICAgIGRpcmVjdGlvbjogZ2VzdHVyZS5kaXJlY3Rpb25cbiAgICAgIH1cblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3BhbmVuZCcsIGV4dHJhKVxuICAgICAgaWYgKGlzU3dpcGUpIHtcbiAgICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3N3aXBlJywgZXh0cmEpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKSB7XG4gICAgICBmaXJlRXZlbnQoZ2VzdHVyZS5lbGVtZW50LCAncHJlc3NlbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZGVsZXRlIGdlc3R1cmVzW2lkXVxuICB9XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT09IDApIHtcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmVIYW5kbGVyLCBmYWxzZSlcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRvdWNoZW5kSGFuZGxlciwgZmFsc2UpXG4gICAgZG9jRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0b3VjaGNhbmNlbEhhbmRsZXIsIGZhbHNlKVxuICB9XG59XG5cbi8qKlxuICogaGFuZGxlIHRvdWNoY2FuY2VsXG4gKlxuICogMS4gaWYgdGhlcmUgYXJlIHR3byB0b3VjaCBwb2ludHMsIHRoZW4gdHJpZ2dlciAnZHVhbHRvdWNoZW5kJ1xuICpcbiAqIDIuIHRyYXZlcnNlIGV2ZXJ0eSB0b3VjaCBwb2ludDpcbiAqID4gaWYgcGFubm5pZywgdGhlbiB0cmlnZ2VyICdwYW5lbmQnXG4gKiA+IGlmIHByZXNzaW5nLCB0aGVuIHRyaWdnZXIgJ3ByZXNzZW5kJ1xuICpcbiAqIDMuIHJlbW92ZSBsaXN0ZW5lcnNcbiAqXG4gKiBAZXZlbnRcbiAqIEBwYXJhbSAge2V2ZW50fSBldmVudFxuICovXG5mdW5jdGlvbiB0b3VjaGNhbmNlbEhhbmRsZXIoZXZlbnQpIHtcblxuICBpZiAoT2JqZWN0LmtleXMoZ2VzdHVyZXMpLmxlbmd0aCA9PSAyKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gW11cbiAgICBmb3IgKHZhciBwIGluIGdlc3R1cmVzKSB7XG4gICAgICBlbGVtZW50cy5wdXNoKGdlc3R1cmVzW3BdLmVsZW1lbnQpXG4gICAgfVxuICAgIGZpcmVFdmVudChnZXRDb21tb25BbmNlc3RvcihlbGVtZW50c1swXSwgZWxlbWVudHNbMV0pLCAnZHVhbHRvdWNoZW5kJywge1xuICAgICAgdG91Y2hlczogc2xpY2UuY2FsbChldmVudC50b3VjaGVzKSxcbiAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgfSlcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXVxuICAgIHZhciBpZCA9IHRvdWNoLmlkZW50aWZpZXJcbiAgICB2YXIgZ2VzdHVyZSA9IGdlc3R1cmVzW2lkXVxuXG4gICAgaWYgKCFnZXN0dXJlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmIChnZXN0dXJlLnByZXNzaW5nSGFuZGxlcikge1xuICAgICAgY2xlYXJUaW1lb3V0KGdlc3R1cmUucHJlc3NpbmdIYW5kbGVyKVxuICAgICAgZ2VzdHVyZS5wcmVzc2luZ0hhbmRsZXIgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIGZpcmVFdmVudChnZXN0dXJlLmVsZW1lbnQsICdwYW5lbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hlczogZXZlbnQudG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICB0b3VjaEV2ZW50OiBldmVudFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKSB7XG4gICAgICBmaXJlRXZlbnQoZ2VzdHVyZS5lbGVtZW50LCAncHJlc3NlbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICAgIH0pXG4gICAgfVxuICAgIGRlbGV0ZSBnZXN0dXJlc1tpZF1cbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyhnZXN0dXJlcykubGVuZ3RoID09PSAwKSB7XG4gICAgZG9jRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2htb3ZlSGFuZGxlciwgdHJ1ZSlcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRvdWNoZW5kSGFuZGxlciwgdHJ1ZSlcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRvdWNoY2FuY2VsSGFuZGxlciwgdHJ1ZSlcbiAgfVxufVxuXG5pZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgZG9jRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoc3RhcnRIYW5kbGVyLCB0cnVlKVxuICBpc0luaXRpYWxpemVkID0gdHJ1ZVxufVxuIiwiY29uc3QgbGliID0gd2luZG93LmxpYiB8fCAod2luZG93LmxpYiA9IHt9KVxuXG4vKipcbiAqIFZlcnNpb24gY2xhc3MuXG4gKiBAY2xhc3MgbGliLmVudn5WZXJzaW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gdiAtIHZlcnNpb24gbnVtYmVyLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWZXJzaW9uICh2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndmFsJywge1xuICAgIHZhbHVlOiB2LnRvU3RyaW5nKCksXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIC8qKlxuICAgKiBsYXJnZXIgdGhhblxuICAgKiBAbWV0aG9kIGd0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2IC0gdmVyc2lvblxuICAgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAgICogQGluc3RhbmNlXG4gICAqIEBtZW1iZXJvZiBWZXJzaW9uXG4gICAqL1xuICB0aGlzLmd0ID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gVmVyc2lvbi5jb21wYXJlKHRoaXMsIHYpID4gMFxuICB9XG5cbiAgLyoqXG4gICAqIGxhcmdlciB0aGFuIG9yIGVxdWFsIHRvLlxuICAgKiBAbWV0aG9kIGd0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdiAtIHZlcnNpb25cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAbWVtYmVyb2YgVmVyc2lvblxuICAgKi9cbiAgdGhpcy5ndGUgPSBmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBWZXJzaW9uLmNvbXBhcmUodGhpcywgdikgPj0gMFxuICB9XG5cbiAgLyoqXG4gICAqIGxlc3MgdGhhbi5cbiAgICogQG1ldGhvZCBsdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdiAtIHZlcnNpb25cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAbWVtYmVyb2YgVmVyc2lvblxuICAgKi9cbiAgdGhpcy5sdCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIFZlcnNpb24uY29tcGFyZSh0aGlzLCB2KSA8IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8uXG4gICAqIEBtZXRob2QgbHRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2IC0gdmVyc2lvblxuICAgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAgICogQGluc3RhbmNlXG4gICAqIEBtZW1iZXJvZiBWZXJzaW9uXG4gICAqL1xuICB0aGlzLmx0ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIFZlcnNpb24uY29tcGFyZSh0aGlzLCB2KSA8PSAwXG4gIH1cblxuICAvKipcbiAgICogZXF1YWwgdG8uXG4gICAqIEBtZXRob2QgZXFcbiAgICogQHBhcmFtIHtTdHJpbmd9IHYgLSB2ZXJzaW9uXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIHRvXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAbWVtYmVyb2YgVmVyc2lvblxuICAgKi9cbiAgdGhpcy5lcSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIFZlcnNpb24uY29tcGFyZSh0aGlzLCB2KSA9PT0gMFxuICB9XG59XG5cbi8qKlxuICogdmVyc2lvbiBudW1iZXIgc3RyaW5nLlxuICogQG1ldGhvZCB0b1N0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBjdXJyZW50IHZlcnNpb24gbnVtYmVyIHN0cmluZy5cbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIFZlcnNpb25cbiAqL1xuVmVyc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZhbFxufVxuXG4vKipcbiAqIHJldHVybiBjdXJyZW50IHZlcnNpb24gbnVtYmVyLlxuICogQG1ldGhvZCB2YWx1ZU9mXG4gKiBAcmV0dXJuIHtCb29sZWFufSB2ZXJzaW9uIG51bWJlclxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgVmVyc2lvblxuICovXG5WZXJzaW9uLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCB2ID0gdGhpcy52YWwuc3BsaXQoJy4nKVxuICBjb25zdCByID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG4gPSBwYXJzZUludCh2W2ldLCAxMClcbiAgICBpZiAoaXNOYU4obikpIHtcbiAgICAgIG4gPSAwXG4gICAgfVxuICAgIGxldCBzID0gbi50b1N0cmluZygpXG4gICAgaWYgKHMubGVuZ3RoIDwgNSkge1xuICAgICAgcyA9IEFycmF5KDYgLSBzLmxlbmd0aCkuam9pbignMCcpICsgc1xuICAgIH1cbiAgICByLnB1c2gocylcbiAgICBpZiAoci5sZW5ndGggPT09IDEpIHtcbiAgICAgIHIucHVzaCgnLicpXG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KHIuam9pbignJykpXG59XG5cbi8qKlxuICogY29tcGFyZSB0d28gdmVyc2lvbnMuXG4gKiBAbWV0aG9kIGNvbXBhcmVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2MSAtIHZlcnNpb24xXG4gKiBAcGFyYW0ge1N0cmluZ30gdjIgLSB2ZXJzaW9uMlxuICogQHJldHVybiB7TnVtYmVyfSAwIGZvciBlcXVhbGl0ee+8jC0xIGZvciBsZXNzIHRoYW7vvIwxIGZvciBsYXJnZXIgdGhhbi5cbiAqIEBtZW1iZXJvZiBWZXJzaW9uXG4gKi9cblZlcnNpb24uY29tcGFyZSA9IGZ1bmN0aW9uICh2MSwgdjIpIHtcbiAgdjEgPSB2MS50b1N0cmluZygpLnNwbGl0KCcuJylcbiAgdjIgPSB2Mi50b1N0cmluZygpLnNwbGl0KCcuJylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2MS5sZW5ndGggfHwgaSA8IHYyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG4xID0gcGFyc2VJbnQodjFbaV0sIDEwKVxuICAgIGxldCBuMiA9IHBhcnNlSW50KHYyW2ldLCAxMClcbiAgICBpZiAod2luZG93LmlzTmFOKG4xKSkge1xuICAgICAgbjEgPSAwXG4gICAgfVxuICAgIGlmICh3aW5kb3cuaXNOYU4objIpKSB7XG4gICAgICBuMiA9IDBcbiAgICB9XG4gICAgaWYgKG4xIDwgbjIpIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICBlbHNlIGlmIChuMSA+IG4yKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH1cbiAgfVxuICByZXR1cm4gMFxufVxuXG4vKipcbiAqIOino+aekOWSjOaTjeS9nOeJiOacrOWPt1xuICogQG1ldGhvZCB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdiAtIOmcgOimgeino+aekOeahOeJiOacrOWPt1xuICogQHJldHVybiB7bGliLmVudn5WZXJzaW9ufSBWZXJzb27lrp7kvotcbiAqIEBtZW1iZXJvZiBsaWJcbiAqL1xubGliLnZlcnNpb24gPSBmdW5jdGlvbiAodikge1xuICByZXR1cm4gbmV3IFZlcnNpb24odilcbn1cbiIsImNvbnN0IGxpYiA9IHdpbmRvdy5saWIgfHwgKHdpbmRvdy5saWIgPSB7fSlcbmNvbnN0IGVudiA9IGxpYi5lbnYgfHwgKGxpYi5lbnYgPSB7fSlcblxuY29uc3Qgc2VhcmNoID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpXG5lbnYucGFyYW1zID0ge31cbmlmIChzZWFyY2gpIHtcbiAgY29uc3QgcGFyYW1zID0gc2VhcmNoLnNwbGl0KCcmJylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJhbXNbaV0gPSBwYXJhbXNbaV0uc3BsaXQoJz0nKVxuICAgIHRyeSB7XG4gICAgICBlbnYucGFyYW1zW3BhcmFtc1tpXVswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFyYW1zW2ldWzFdKVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgZW52LnBhcmFtc1twYXJhbXNbaV1bMF1dID0gcGFyYW1zW2ldWzFdXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgJy4vdmVyc2lvbidcbmltcG9ydCAnLi9wYXJhbXMnXG5cbmNvbnN0IGxpYiA9IHdpbmRvdy5saWIgfHwgKHdpbmRvdy5saWIgPSB7fSlcbmNvbnN0IGVudiA9IGxpYi5lbnYgfHwgKGxpYi5lbnYgPSB7fSlcblxuY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxubGV0IG1hdGNoXG5cbi8qKlxuICogb3NcbiAqL1xuXG5tYXRjaCA9IHVhLm1hdGNoKC9XaW5kb3dzXFxzUGhvbmVcXHMoPzpPU1xccyk/KFtcXGQuXSspLylcbmlmIChtYXRjaCkge1xuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQG1lbWJlcm9mIGxpYi5lbnZcbiAgICogQHByb3BlcnR5IHtTdHJpbmd9IG5hbWUgLSBvcyBuYW1lLCBlLmcuIEFuZHJvaWQvQW5kcm9pZFBhZC9pUGhvbmUvaVBvZC9pUGFkL1dpbmRvd3MgUGhvbmUvdW5rbm93biwgZXRjLlxuICAgKiBAcHJvcGVydHkge2xpYi5lbnZ+VmVyc2lvbn0gdmVyc2lvbiAtIG9zIHZlcnNpb24uXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNXaW5kb3dzUGhvbmVcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc0lQaG9uZSAtIGlzIGlQaG9uZS9pVG91Y2hcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc0lQYWRcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc0lPU1xuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzQW5kcm9pZFxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzQW5kcm9pZFBhZFxuICAgKi9cbiAgZW52Lm9zID0ge1xuICAgIG5hbWU6ICdXaW5kb3dzIFBob25lJyxcbiAgICBpc1dpbmRvd3NQaG9uZTogdHJ1ZSxcbiAgICB2ZXJzaW9uOiBtYXRjaFsxXVxuICB9XG59XG5lbHNlIGlmICghIXVhLm1hdGNoKC9TYWZhcmkvKSAmJiAobWF0Y2ggPSB1YS5tYXRjaCgvQW5kcm9pZFtcXHMvXShbXFxkLl0rKS8pKSkge1xuICBlbnYub3MgPSB7XG4gICAgdmVyc2lvbjogbWF0Y2hbMV1cbiAgfVxuXG4gIGlmICgodWEubWF0Y2goL01vYmlsZVxccytTYWZhcmkvKSkpIHtcbiAgICBlbnYub3MubmFtZSA9ICdBbmRyb2lkJ1xuICAgIGVudi5vcy5pc0FuZHJvaWQgPSB0cnVlXG4gIH1cbiAgZWxzZSB7XG4gICAgZW52Lm9zLm5hbWUgPSAnQW5kcm9pZFBhZCdcbiAgICBlbnYub3MuaXNBbmRyb2lkUGFkID0gdHJ1ZVxuICB9XG59XG5lbHNlIGlmICgobWF0Y2ggPSB1YS5tYXRjaCgvKGlQaG9uZXxpUGFkfGlQb2QpLykpKSB7XG4gIGNvbnN0IG5hbWUgPSBtYXRjaFsxXVxuXG4gIG1hdGNoID0gdWEubWF0Y2goL09TIChbXFxkXy5dKykgbGlrZSBNYWMgT1MgWC8pXG5cbiAgZW52Lm9zID0ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaXNJUGhvbmU6IChuYW1lID09PSAnaVBob25lJyB8fCBuYW1lID09PSAnaVBvZCcpLFxuICAgIGlzSVBhZDogbmFtZSA9PT0gJ2lQYWQnLFxuICAgIGlzSU9TOiB0cnVlLFxuICAgIHZlcnNpb246IG1hdGNoICYmIG1hdGNoWzFdLnNwbGl0KCdfJykuam9pbignLicpIHx8ICcnXG4gIH1cbn1cbmVsc2Uge1xuICBlbnYub3MgPSB7XG4gICAgbmFtZTogJ3Vua25vd24nLFxuICAgIHZlcnNpb246ICcwLjAuMCdcbiAgfVxufVxuXG5pZiAobGliLnZlcnNpb24pIHtcbiAgZW52Lm9zLnZlcnNpb24gPSBsaWIudmVyc2lvbihlbnYub3MudmVyc2lvbilcbn1cblxuLyoqXG4gKiBicm93c2VyXG4gKi9cblxubWF0Y2ggPSB1YS5tYXRjaCgvKD86VUNXRUJ8VUNCcm93c2VyXFwvKShbXFxkLl0rKS8pXG5cbmlmIChtYXRjaCkge1xuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQG1lbWJlcm9mIGVudlxuICAgKiBAcHJvcGVydHkge1N0cmluZ30gbmFtZSAtIGJyb3dzZXIgbmFtZe+8jGUuZy4gVUMvUVEvRmlyZWZveC9DaHJvbWUvQW5kcm9pZC9TYWZhcmkvaU9TIFdlYnZpZXcvQ2hyb21lIFdlYnZpZXcvSUUvSUVNb2JpbGUvdW5rbm93biwgZXRjLlxuICAgKiBAcHJvcGVydHkge2Vudn5WZXJzaW9ufSB2ZXJzaW9uIC0gYnJvd3NlciB2ZXJzaW9uLlxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzVUNcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc1FRXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNJRVxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzSUVNb2JpbGVcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc0lFTGlrZVdlYmtpdFxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzQ2hyb21lXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNBbmRyb2lkXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNTYWZhcmlcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc1dlYnZpZXdcbiAgICovXG4gIGVudi5icm93c2VyID0ge1xuICAgIG5hbWU6ICdVQycsXG4gICAgaXNVQzogdHJ1ZSxcbiAgICB2ZXJzaW9uOiBtYXRjaFsxXVxuICB9XG59XG5lbHNlIGlmICgobWF0Y2ggPSB1YS5tYXRjaCgvTVFRQnJvd3NlclxcLyhbXFxkLl0rKS8pKSkge1xuICBlbnYuYnJvd3NlciA9IHtcbiAgICBuYW1lOiAnUVEnLFxuICAgIGlzUVE6IHRydWUsXG4gICAgdmVyc2lvbjogbWF0Y2hbMV1cbiAgfVxufVxuZWxzZSBpZiAoKG1hdGNoID0gdWEubWF0Y2goL0ZpcmVmb3hcXC8oW1xcZC5dKykvKSkpIHtcbiAgZW52LmJyb3dzZXIgPSB7XG4gICAgbmFtZTogJ0ZpcmVmb3gnLFxuICAgIGlzRmlyZWZveDogdHJ1ZSxcbiAgICB2ZXJzaW9uOiBtYXRjaFsxXVxuICB9XG59XG5lbHNlIGlmICgobWF0Y2ggPSB1YS5tYXRjaCgvTVNJRVxccyhbXFxkLl0rKS8pKVxuICB8fCAobWF0Y2ggPSB1YS5tYXRjaCgvSUVNb2JpbGVcXC8oW1xcZC5dKykvKSkpIHtcbiAgZW52LmJyb3dzZXIgPSB7XG4gICAgdmVyc2lvbjogbWF0Y2hbMV1cbiAgfVxuXG4gIGlmICh1YS5tYXRjaCgvSUVNb2JpbGUvKSkge1xuICAgIGVudi5icm93c2VyLm5hbWUgPSAnSUVNb2JpbGUnXG4gICAgZW52LmJyb3dzZXIuaXNJRU1vYmlsZSA9IHRydWVcbiAgfVxuICBlbHNlIHtcbiAgICBlbnYuYnJvd3Nlci5uYW1lID0gJ0lFJ1xuICAgIGVudi5icm93c2VyLmlzSUUgPSB0cnVlXG4gIH1cblxuICBpZiAodWEubWF0Y2goL0FuZHJvaWR8aVBob25lLykpIHtcbiAgICBlbnYuYnJvd3Nlci5pc0lFTGlrZVdlYmtpdCA9IHRydWVcbiAgfVxufVxuZWxzZSBpZiAoKG1hdGNoID0gdWEubWF0Y2goLyg/OkNocm9tZXxDcmlPUylcXC8oW1xcZC5dKykvKSkpIHtcbiAgZW52LmJyb3dzZXIgPSB7XG4gICAgbmFtZTogJ0Nocm9tZScsXG4gICAgaXNDaHJvbWU6IHRydWUsXG4gICAgdmVyc2lvbjogbWF0Y2hbMV1cbiAgfVxuXG4gIGlmICh1YS5tYXRjaCgvVmVyc2lvblxcL1tcXGQrLl0rXFxzKkNocm9tZS8pKSB7XG4gICAgZW52LmJyb3dzZXIubmFtZSA9ICdDaHJvbWUgV2VidmlldydcbiAgICBlbnYuYnJvd3Nlci5pc1dlYnZpZXcgPSB0cnVlXG4gIH1cbn1cbmVsc2UgaWYgKCEhdWEubWF0Y2goL1NhZmFyaS8pICYmIChtYXRjaCA9IHVhLm1hdGNoKC9BbmRyb2lkW1xccy9dKFtcXGQuXSspLykpKSB7XG4gIGVudi5icm93c2VyID0ge1xuICAgIG5hbWU6ICdBbmRyb2lkJyxcbiAgICBpc0FuZHJvaWQ6IHRydWUsXG4gICAgdmVyc2lvbjogbWF0Y2hbMV1cbiAgfVxufVxuZWxzZSBpZiAodWEubWF0Y2goL2lQaG9uZXxpUGFkfGlQb2QvKSkge1xuICBpZiAodWEubWF0Y2goL1NhZmFyaS8pKSB7XG4gICAgbWF0Y2ggPSB1YS5tYXRjaCgvVmVyc2lvblxcLyhbXFxkLl0rKS8pXG4gICAgZW52LmJyb3dzZXIgPSB7XG4gICAgICBuYW1lOiAnU2FmYXJpJyxcbiAgICAgIGlzU2FmYXJpOiB0cnVlLFxuICAgICAgdmVyc2lvbjogbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJydcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgbWF0Y2ggPSB1YS5tYXRjaCgvT1MgKFtcXGRfLl0rKSBsaWtlIE1hYyBPUyBYLylcbiAgICBlbnYuYnJvd3NlciA9IHtcbiAgICAgIG5hbWU6ICdpT1MgV2VidmlldycsXG4gICAgICBpc1dlYnZpZXc6IHRydWUsXG4gICAgICB2ZXJzaW9uOiBtYXRjaCAmJiBtYXRjaFsxXS5yZXBsYWNlKC9fL2csICcuJykgfHwgJydcbiAgICB9XG4gIH1cbn1cbmVsc2Uge1xuICBlbnYuYnJvd3NlciA9IHtcbiAgICBuYW1lOiAndW5rbm93bicsXG4gICAgdmVyc2lvbjogJzAuMC4wJ1xuICB9XG59XG5cbmlmIChsaWIudmVyc2lvbikge1xuICBlbnYuYnJvd3Nlci52ZXJzaW9uID0gbGliLnZlcnNpb24oZW52LmJyb3dzZXIudmVyc2lvbilcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuLyoqXG4gKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlXG4gKiBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgT2JqZWN0XSdcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gT0JKRUNUX1NUUklOR1xufVxuXG5jb25zdCBBUlJBWV9TVFJJTkcgPSAnW29iamVjdCBBcnJheV0nXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT09IEFSUkFZX1NUUklOR1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcbiAgICB8fCB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnXG4gICAgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbidcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbFxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBpc0FycmF5XG59IGZyb20gJy4vdHlwZSdcbi8qKlxuICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuICogdGhlIHJpZ2h0ZXN0IG9iamVjdCdzIHZhbHVlIGhhcyB0aGUgaGlnaGVzdCBwcmlvcml0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZCAodG8sIC4uLmFyZ3MpIHtcbiAgaWYgKCFhcmdzIHx8IGFyZ3MubGVuZ3RoIDw9IDApIHtcbiAgICByZXR1cm4gdG9cbiAgfVxuICBhcmdzLmZvckVhY2goZnJvbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBmcm9tICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgIHRvW2tleV0gPSBmcm9tW2tleV1cbiAgICB9XG4gIH0pXG4gIHJldHVybiB0b1xufVxuLyoqXG4gKiBNaXggdHJ1dGh5IG9yICcnIHByb3BlcnR5IHZhbHVlcyBpbnRvIHRhcmdldCBvYmplY3QuXG4gKiBtb3N0bHkgZm9yIG1lcmdpbmcgc3R5bGVzLiAodGhhdCdzIHdoeSAnJyBpcyBmYWxzeSBidXQgc3RpbGwgc2hvdWxkIGJlIGNvdW50ZWQgaW4uKVxuICogdGhlIHJpZ2h0ZXN0IG9iamVjdCdzIHZhbHVlIGhhcyB0aGUgaGlnaGVzdCBwcmlvcml0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFRydXRoeSAodG8sIC4uLmFyZ3MpIHtcbiAgaWYgKCFhcmdzIHx8IGFyZ3MubGVuZ3RoIDw9IDApIHtcbiAgICByZXR1cm4gdG9cbiAgfVxuICBhcmdzLmZvckVhY2goZnJvbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBmcm9tICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGxldCBpXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgICAgaWYgKCgoaSA9IGZyb21ba2V5XSkgfHwgaSA9PT0gJycgfHwgaSA9PT0gMCkgJiYgaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdG9ba2V5XSA9IGlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIHJldHVybiB0b1xufVxuLyoqXG4gKiBNaXggc3BlY2lmaWVkIHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kS2V5cyAodG8sIGZyb20gPSB7fSwga2V5cykge1xuICAoa2V5cyB8fCBbXSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGZyb20gJiYgKHRvW2tleV0gPSBmcm9tW2tleV0pXG4gIH0pXG4gIHJldHVybiB0b1xufVxuLyoqXG4gKiBFeHRyYWN0IHNwZWNpZmllZCBwcm9wZXJ0aWVzIGZyb20gc3JjIHRvIHRhcmdldCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0S2V5cyAodG8sIGZyb20gPSB7fSwga2V5cykge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG9cbiAgfVxuICAoa2V5cyB8fCBbXSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGZyb20gJiYgKHRvW2tleV0gPSBmcm9tW2tleV0pXG4gICAgZnJvbSAmJiAoZGVsZXRlIGZyb21ba2V5XSlcbiAgfSlcbiAgcmV0dXJuIHRvXG59XG4vKipcbiAqIFNpbXBsZSBiaW5kLCBmYXN0ZXIgdGhhbiBuYXRpdmVcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGN0eFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kIChmbiwgY3R4KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgcmV0dXJuIGwgPyBsID4gMSA/IGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKSA6IGZuLmNhbGwoY3R4LCBhKSA6IGZuLmNhbGwoY3R4KVxuICB9XG59XG4vKipcbiAqIE9ubHkgY2FsbCB0aGUgZnVuYyB0aGUgbGFzdCB0aW1lIGJlZm9yZSBpdCdzIG5vdCB0aGF0IGZyZXF1ZW50bHkgY2FsbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UgKGZ1bmMsIHdhaXQpIHtcbiAgbGV0IHRpbWVySWRcbiAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gbGF0ZXIgKCkge1xuICAgICAgdGltZXJJZCA9IG51bGxcbiAgICAgIGZ1bmMuYXBwbHkobnVsbCwgYXJncylcbiAgICB9LCB3YWl0KVxuICB9XG59XG4vKipcbiAqIE9ubHkgY2FsbCB0aGUgZnVuYyB0aGUgZmlyc3QgdGltZSBiZWZvcmUgYSBzZXJpZXMgZnJlcXVlbnRseSBmdW5jdGlvbiBjYWxscyBoYXBwZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXByZXNzIChmdW5jLCB3YWl0KSB7XG4gIGxldCB0aW1lcklkXG5cbiAgZnVuY3Rpb24gbGF0ZXIgKCkge1xuICAgIHRpbWVySWQgPSBudWxsXG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRpbWVySWQpIHtcbiAgICAgIGZ1bmMuYXBwbHkoKVxuICAgIH1cbiAgICBjbGVhclRpbWVvdXQodGltZXJJZClcbiAgICB0aW1lcklkID0gc2V0VGltZW91dChsYXRlciwgd2FpdClcbiAgfVxufVxuLyoqXG4gKiBPbmx5IGNhbGwgdGhlIGZ1bmMgZXZlcnkgdGltZSBhZnRlciBhIHdhaXQgbWlsbGlzZWNvbmRzIGlmIGl0J3MgdG9vIGZyZXF1ZW50bHkgY2FsbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUgKGZ1bmMsIHdhaXQsIGNhbGxMYXN0VGltZSkge1xuICBsZXQgbGFzdCA9IDBcbiAgbGV0IGxhc3RUaW1lciA9IG51bGxcbiAgY29uc3QgbGFzdFRpbWVEdXJhdGlvbiA9IHdhaXQgKyAod2FpdCA+IDI1ID8gd2FpdCA6IDI1KSAvLyBwbHVzIGhhbGYgd2FpdCB0aW1lLlxuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpc1xuICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIGlmICh0aW1lIC0gbGFzdCA+IHdhaXQpIHtcbiAgICAgIGlmIChjYWxsTGFzdFRpbWUpIHtcbiAgICAgICAgbGFzdFRpbWVyICYmIGNsZWFyVGltZW91dChsYXN0VGltZXIpXG4gICAgICAgIGxhc3RUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxhc3RUaW1lciA9IG51bGxcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgIH0sIGxhc3RUaW1lRHVyYXRpb24pXG4gICAgICB9XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICBsYXN0ID0gdGltZVxuICAgIH1cbiAgfVxufVxuLy8gZGlyZWN0aW9uOiAnbCcgfCAncicsIGRlZmF1bHQgaXMgJ3InXG4vLyBudW06IGhvdyBtYW55IHRpbWVzIHRvIGxvb3AsIHNob3VsZCBiZSBhIHBvc2l0aXZlIGludGVnZXJcbmV4cG9ydCBmdW5jdGlvbiBsb29wQXJyYXkgKGFyciwgbnVtLCBkaXJlY3Rpb24pIHtcbiAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICByZXR1cm5cbiAgfVxuICBsZXQgaXNMZWZ0ID0gKGRpcmVjdGlvbiArICcnKS50b0xvd2VyQ2FzZSgpID09PSAnbCdcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aFxuICBudW0gPSBudW0gJSBsZW5cbiAgaWYgKG51bSA8IDApIHtcbiAgICBudW0gPSAtbnVtXG4gICAgaXNMZWZ0ID0gIWlzTGVmdFxuICB9XG4gIGlmIChudW0gPT09IDApIHtcbiAgICByZXR1cm4gYXJyXG4gIH1cbiAgbGV0IGxwLCBycFxuICBpZiAoaXNMZWZ0KSB7XG4gICAgbHAgPSBhcnIuc2xpY2UoMCwgbnVtKVxuICAgIHJwID0gYXJyLnNsaWNlKG51bSlcbiAgfVxuICBlbHNlIHtcbiAgICBscCA9IGFyci5zbGljZSgwLCBsZW4gLSBudW0pXG4gICAgcnAgPSBhcnIuc2xpY2UobGVuIC0gbnVtKVxuICB9XG4gIHJldHVybiBycC5jb25jYXQobHApXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FjaGVkIChmbikge1xuICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHtcbiAgICBjb25zdCBoaXQgPSBjYWNoZVtzdHJdXG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpXG4gIH1cbn1cbi8qKlxuICogQ2FtZWxpemUgYSBoeXBoZW4tZGVsbWl0ZWQgc3RyaW5nLlxuICovXG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nXG5leHBvcnQgY29uc3QgY2FtZWxpemUgPSBjYWNoZWQoc3RyID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChfLCBjKSA9PiBjLnRvVXBwZXJDYXNlKCkpXG59KVxuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsaXplS2V5cyAob2JqKSB7XG4gIGNvbnN0IHJlcyA9IHt9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJlc1tjYW1lbGl6ZShrZXkpXSA9IG9ialtrZXldXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuLyoqXG4gKiBDYXBpdGFsaXplIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlZChzdHIgPT4ge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpXG59KVxuLyoqXG4gKiBIeXBoZW5hdGUgYSBjYW1lbENhc2Ugc3RyaW5nLlxuICovXG5jb25zdCBoeXBoZW5hdGVSRSA9IC8oW14tXSkoW0EtWl0pL2dcbmV4cG9ydCBjb25zdCBoeXBoZW5hdGUgPSBjYWNoZWQoc3RyID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKS5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpXG59KVxuZXhwb3J0IGZ1bmN0aW9uIGh5cGhlbmF0ZUtleXMgKG9iaikge1xuICBjb25zdCByZXMgPSB7fVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICByZXNbaHlwaGVuYXRlKGtleSldID0gb2JqW2tleV1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5jb25zdCB2ZW5kb3JzUmVnID0gL3dlYmtpdC18bW96LXxvLXxtcy0vXG5leHBvcnQgZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVLZXlzIChvYmopIHtcbiAgY29uc3QgcmVzID0ge31cbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgY29uc3QgaGsgPSBoeXBoZW5hdGUoa2V5KS5yZXBsYWNlKHZlbmRvcnNSZWcsIGZ1bmN0aW9uICgkMCkge1xuICAgICAgcmV0dXJuICctJyArICQwXG4gICAgfSlcbiAgICByZXNbaGtdID0gb2JqW2tleV1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZnVuY3Rpb24gY2FtZWxUb0tlYmFiIChuYW1lKSB7XG4gIGlmICghbmFtZSkge1xuICAgIHJldHVybiAnJ1xuICB9XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKGcsIGcxKSB7XG4gICAgcmV0dXJuIGAtJHtnMS50b0xvd2VyQ2FzZSgpfWBcbiAgfSlcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDc3MgKGNzcywgY3NzSWQsIHJlcGxhY2UpIHtcbiAgbGV0IHN0eWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3NzSWQpXG4gIGlmIChzdHlsZSAmJiByZXBsYWNlKSB7XG4gICAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSlcbiAgICBzdHlsZSA9IG51bGxcbiAgfVxuICBpZiAoIXN0eWxlKSB7XG4gICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgc3R5bGUudHlwZSA9ICd0ZXh0L2NzcydcbiAgICBjc3NJZCAmJiAoc3R5bGUuaWQgPSBjc3NJZClcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlKVxuICB9XG4gIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpXG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dEZyYW1lIChjYWxsYmFjaykge1xuICBjb25zdCBydW5uZXIgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICB8fCAoY2IgPT4gc2V0VGltZW91dChjYiwgMTYpKVxuICBydW5uZXIoY2FsbGJhY2spXG59XG5leHBvcnQgZnVuY3Rpb24gdG9DU1NUZXh0IChvYmplY3QpIHtcbiAgaWYgKCFvYmplY3QpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBvYmogPSBoeXBoZW5hdGVTdHlsZUtleXMob2JqZWN0KVxuICBsZXQgY3NzVGV4dCA9ICcnXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGNzc1RleHQgKz0gYCR7a2V5fToke29ialtrZXldfTtgXG4gIH1cbiAgcmV0dXJuIGNzc1RleHRcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscy9mdW5jJ1xuXG4vKipcbiAqIHZpZXdwb3J0IHByaW9yaXR5OlxuICpcbiAqIDEuIG1ldGEgd2VleC12aWV3cG9ydCAoZGV2ZWxvcGVyIGN1c3RvbSlcbiAqIDIuIHNldFZpZXdwb3J0KGNvbmZpZykgOj0gY29uZmlnLndpZHRoIChwcml2YXRlIGNvZGUpIEBkZXByZWNhdGVkXG4gKiAzLiBwcm9jZXNzLmVudi5WSUVXUE9SVF9XSURUSCAoYnVpZCB0aW1lKVxuICpcbiAqL1xubGV0IGlzSW5pdGVkID0gZmFsc2VcbmNvbnN0IERFRkFVTFRfVklFV1BPUlRfV0lEVEggPSA3NTBcblxuLyoqXG4gKiBnZXQgdmlld3BvcnQgd2lkdGggZnJvbSB3ZWV4LXZpZXdwb3J0IG1ldGEuXG4gKi9cbmNvbnN0IGVudlZpZXdwb3J0V2lkdGggPSBwYXJzZUludChwcm9jZXNzLmVudi5WSUVXUE9SVF9XSURUSClcbmxldCB3aWR0aCA9ICFpc05hTihlbnZWaWV3cG9ydFdpZHRoKSAmJiBlbnZWaWV3cG9ydFdpZHRoID4gMFxuICA/IGVudlZpZXdwb3J0V2lkdGhcbiAgOiBERUZBVUxUX1ZJRVdQT1JUX1dJRFRIXG5cbmxldCB3eFZpZXdwb3J0TWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cIndlZXgtdmlld3BvcnRcIl0nKVxuY29uc3QgbWV0YVdpZHRoID0gd3hWaWV3cG9ydE1ldGEgJiYgcGFyc2VJbnQod3hWaWV3cG9ydE1ldGEuZ2V0QXR0cmlidXRlKCdjb250ZW50JykpXG5pZiAobWV0YVdpZHRoICYmICFpc05hTihtZXRhV2lkdGgpICYmIG1ldGFXaWR0aCA+IDApIHtcbiAgd2lkdGggPSBtZXRhV2lkdGhcbn1cblxubGV0IGRwciA9IDBcbmxldCBzY3JlZW5XaWR0aCA9IDBcbmxldCBzY3JlZW5IZWlnaHQgPSAwXG5cbmNvbnN0IGluZm8gPSB7XG4gIGRwcixcbiAgc2NhbGU6IDAsXG4gIHJvb3RWYWx1ZTogMCxcbiAgcmVtOiAwLFxuICBkZXZpY2VXaWR0aDogMCxcbiAgZGV2aWNlSGVpZ2h0OiAwXG59XG5cbi8qKlxuICogc2V0IHJvb3QgZm9udC1zaXplIGZvciByZW0gdW5pdHMuIElmIGFscmVhZHkgYmVlbiBzZXQsIGp1c3Qgc2tpcCB0aGlzLlxuICovXG5mdW5jdGlvbiBzZXRSb290Rm9udCAod2lkdGgsIHZpZXdwb3J0V2lkdGgsIGZvcmNlKSB7XG4gIGNvbnN0IGRvYyA9IHdpbmRvdy5kb2N1bWVudFxuICAvLyBsZXQgcmVtID0gd2lkdGggKiA3NTAgLyB2aWV3cG9ydFdpZHRoIC8gMTBcbiAgbGV0IGZvbnRTaXplID0gd2lkdGggLyA3NTAgKiAoNzUwIC8gNDApXG4gIGZvbnRTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoZm9udFNpemUsIDEyKSwgMTgpXG4gIGNvbnN0IHJlbSA9IGZvbnRTaXplIC8gMC40MjY2NjY2NjY2NjY2NjY3XG4gIGlmICghZG9jLmRvY3VtZW50RWxlbWVudCkgeyByZXR1cm4gfVxuICBjb25zdCByb290Rm9udFNpemUgPSBkb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmZvbnRTaXplXG4gIGlmICghcm9vdEZvbnRTaXplIHx8IGZvcmNlKSB7XG4gICAgZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZS5mb250U2l6ZSA9IHJlbSArICdweCdcbiAgfVxuICBpbmZvLnJlbSA9IHJlbVxuICBpbmZvLnJvb3RWYWx1ZSA9IHZpZXdwb3J0V2lkdGggLyAxMFxufVxuXG5mdW5jdGlvbiBzZXRNZXRhVmlld3BvcnQgKHdpZHRoKSB7XG4gIGlmICghd3hWaWV3cG9ydE1ldGEpIHtcbiAgICB3eFZpZXdwb3J0TWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKVxuICAgIHd4Vmlld3BvcnRNZXRhLnNldEF0dHJpYnV0ZSgnbmFtZScsICd3ZWV4LXZpZXdwb3J0JylcbiAgICBjb25zdCBmaXJzdE1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhJylcbiAgICBjb25zdCBoZWFkID0gZmlyc3RNZXRhICYmIGZpcnN0TWV0YS5wYXJlbnRFbGVtZW50XG4gICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2hpbGRyZW5bMF1cbiAgICBmaXJzdE1ldGFcbiAgICAgID8gaGVhZC5pbnNlcnRCZWZvcmUod3hWaWV3cG9ydE1ldGEsIGZpcnN0TWV0YSlcbiAgICAgIDogaGVhZC5hcHBlbmRDaGlsZCh3eFZpZXdwb3J0TWV0YSlcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zdCBtZXRhV2lkdGggPSBwYXJzZUludCh3eFZpZXdwb3J0TWV0YS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSlcbiAgICBpZiAobWV0YVdpZHRoID09PSB3aWR0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG4gIHd4Vmlld3BvcnRNZXRhLnNldEF0dHJpYnV0ZSgnY29udGVudCcsIHdpZHRoICsgJycpXG59XG5cbi8qKlxuICogZXhwb3J0IHZpZXdwb3J0IGluZm8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0ICh2aWV3cG9ydFdpZHRoID0gd2lkdGgpIHtcbiAgaWYgKCFpc0luaXRlZCkge1xuICAgIGlzSW5pdGVkID0gdHJ1ZVxuXG4gICAgY29uc3QgZG9jID0gd2luZG93LmRvY3VtZW50XG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWUtcmVuZGVyXSB3aW5kb3cuZG9jdW1lbnQgaXMgdW5kZmluZWQuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIWRvYy5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWUtcmVuZGVyXSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgaXMgdW5kZmluZWQuJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGRwciA9IGluZm8uZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICBzY3JlZW5XaWR0aCA9IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICBzY3JlZW5IZWlnaHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXG4gICAgY29uc3QgcmVzZXREZXZpY2VIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzY3JlZW5IZWlnaHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgY29uc3QgZW52ID0gd2luZG93LndlZXggJiYgd2luZG93LndlZXguY29uZmlnLmVudlxuICAgICAgaW5mby5kZXZpY2VIZWlnaHQgPSBlbnYuZGV2aWNlSGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogZHByXG4gICAgfVxuXG4gICAgLy8gc2V0IHJvb3QgZm9udCBmb3IgcmVtLlxuICAgIHNldFJvb3RGb250KHNjcmVlbldpZHRoLCB2aWV3cG9ydFdpZHRoKVxuICAgIHNldE1ldGFWaWV3cG9ydCh2aWV3cG9ydFdpZHRoKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2V0RGV2aWNlSGVpZ2h0KVxuXG4gICAgLyoqXG4gICAgICogd2h5IG5vdCB0byB1c2Ugd2luZG93LnNjcmVlbi53aWR0aCB0byBnZXQgc2NyZWVuV2lkdGggPyBCZWNhdXNlIGluIHNvbWVcbiAgICAgKiBvbGQgd2Via2l0IGJyb3dzZXIgb24gYW5kcm9pZCBzeXN0ZW0gaXQgZ2V0IHRoZSBkZXZpY2UgcGl4ZWwgd2lkdGgsIHdoaWNoXG4gICAgICogaXMgdGhlIHNjcmVlbldpZHRoIG11bHRpcGx5IGJ5IHRoZSBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICogZS5nLiBpcDYgLT4gZ2V0IDM3NSBmb3IgdmlydHVhbCBzY3JlZW4gd2lkdGguXG4gICAgICovXG4gICAgY29uc3Qgc2NhbGUgPSBzY3JlZW5XaWR0aCAvIHZpZXdwb3J0V2lkdGhcbiAgICAvKipcbiAgICAgKiAxLiBpZiBzZXQgaW5pdGlhbC9tYXhpbXVtL21pbWltdW0tc2NhbGUgc29tZSBob3cgdGhlIHBhZ2Ugd2lsbCBoYXZlIGEgYm91bmNlXG4gICAgICogZWZmZWN0IHdoZW4gdXNlciBkcmFnIHRoZSBwYWdlIHRvd2FyZHMgaG9yaXpvbnRhbCBheGlzLlxuICAgICAqIDIuIER1ZSB0byBjb21wYXRpYmlsaXR5IHJlYXNvbnMsIG5vdCB0byB1c2Ugdmlld3BvcnQgbWV0YSBhbnltb3JlLlxuICAgICAqIDMuIHZpZXdwb3J0IG1ldGEgc2hvdWxkIGFsd2F5cyBiZTpcbiAgICAgKiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIlxuICAgICAqICAgICAgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCxcbiAgICAgKiAgICAgIGluaXRpYWwtc2NhbGU9MSxcbiAgICAgKiAgICAgIG1heGltdW0tc2NhbGU9MSxcbiAgICAgKiAgICAgIHVzZXItc2NhbGFibGU9bm9cIiAvPlxuICAgICAqL1xuICAgIGV4dGVuZChpbmZvLCB7XG4gICAgICBzY2FsZSxcbiAgICAgIHJvb3RWYWx1ZTogdmlld3BvcnRXaWR0aCAvIDEwLFxuICAgICAgZGV2aWNlV2lkdGg6IHNjcmVlbldpZHRoICogZHByLFxuICAgICAgZGV2aWNlSGVpZ2h0OiBzY3JlZW5IZWlnaHQgKiBkcHJcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIGluZm9cbn1cblxuLyoqXG4gKiByZXNldCB2aWV3cG9ydCB3aWR0aCBhbmQgc2NhbGUuXG4gKiBAcmV0dXJuIG5ldyBzY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Vmlld3BvcnQgKHZpZXdwb3J0V2lkdGgpIHtcbiAgc2V0Um9vdEZvbnQoc2NyZWVuV2lkdGgsIHZpZXdwb3J0V2lkdGgsIHRydWUpXG4gIHNldE1ldGFWaWV3cG9ydCh2aWV3cG9ydFdpZHRoKVxuICBjb25zdCBuZXdTY2FsZSA9IHNjcmVlbldpZHRoIC8gdmlld3BvcnRXaWR0aFxuICBpbmZvLnNjYWxlID0gbmV3U2NhbGVcbiAgcmV0dXJuIG5ld1NjYWxlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydEluZm8gKCkge1xuICByZXR1cm4gaW5mb1xufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIGV4dGVuZCAodG8sIC4uLmFyZ3MpIHtcbiAgaWYgKCFhcmdzIHx8IGFyZ3MubGVuZ3RoIDw9IDApIHsgcmV0dXJuIHRvIH1cbiAgYXJncy5mb3JFYWNoKGZyb20gPT4ge1xuICAgIGlmICh0eXBlb2YgZnJvbSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgICB0b1trZXldID0gZnJvbVtrZXldXG4gICAgfVxuICB9KVxuICByZXR1cm4gdG9cbn1cblxuLy8gaWYgc3VwcG9ydCBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycy5cbmxldCBfc3VwcG9ydHNQYXNzaXZlID0gZmFsc2VcbnRyeSB7XG4gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBfID0+IHt9LCB7XG4gICAgZ2V0IHBhc3NpdmUgKCkge1xuICAgICAgX3N1cHBvcnRzUGFzc2l2ZSA9IHRydWVcbiAgICB9XG4gIH0pXG59XG5jYXRjaCAoZSkge1xuICAvLyBkbyBub3RoaW5nLlxufVxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzUGFzc2l2ZSAoKSB7XG4gIHJldHVybiBfc3VwcG9ydHNQYXNzaXZlXG59XG5cbi8qKlxuICogQ3JlYXRlIEV2ZW50LlxuICogQHBhcmFtIHtET01TdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnQgKHRhcmdldCwgdHlwZSwgcHJvcHMpIHtcbiAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQodHlwZSwgeyBidWJibGVzOiBmYWxzZSB9KVxuXG4gIGV4dGVuZChldmVudCwgcHJvcHMpXG4gIC8vICBwaGFudG9tanMgZG9uJ3Qgc3VwcG9ydCBjdXN0b21lciBldmVudFxuICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdwaGFudG9tanMnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gZXZlbnRcbiAgfVxuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3RhcmdldCcsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGFyZ2V0XG4gICAgfSlcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGV4dGVuZChldmVudCwgeyB0YXJnZXQ6IHRhcmdldCB9KVxuICB9XG4gIHJldHVybiBldmVudFxufVxuXG4vKipcbiAqIENyZWF0ZSBhIGJ1YmJhYmxlIEV2ZW50LlxuICogQHBhcmFtIHtET01TdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnViYmxlc0V2ZW50ICh0YXJnZXQsIHR5cGUsIHByb3BzKSB7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KHR5cGUsIHsgYnViYmxlczogdHJ1ZSB9KVxuICBleHRlbmQoZXZlbnQsIHByb3BzKVxuICAvLyAgcGhhbnRvbWpzIGRvbid0IHN1cHBvcnQgY3VzdG9tZXIgZXZlbnRcbiAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigncGhhbnRvbWpzJykgIT09IC0xKSB7XG4gICAgcmV0dXJuIGV2ZW50XG4gIH1cbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICd0YXJnZXQnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRhcmdldFxuICAgIH0pXG4gIH1cbiAgY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBleHRlbmQoZXZlbnQsIHsgdGFyZ2V0OiB0YXJnZXQgfSlcbiAgfVxuICByZXR1cm4gZXZlbnRcbn1cblxuLyoqXG4gKiBDcmVhdGUgQ3VzdG9tIEV2ZW50LlxuICogQHBhcmFtIHtET01TdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQgKHRhcmdldCwgdHlwZSwgcHJvcHMpIHtcbiAgLy8gY29tcGF0aWJpbGl0eTogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y3VzdG9tZXZlbnRcbiAgLy8gY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSlcbiAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKVxuICBldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgZmFsc2UsIHRydWUsIHt9KVxuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIC8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgZXh0ZW5kKGV2ZW50LCBwcm9wcylcblxuICAvLyBldmVudC50YXJnZXQgaXMgcmVhZG9ubHlcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICd0YXJnZXQnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRhcmdldCB8fCBudWxsXG4gICAgfSlcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGV4dGVuZChldmVudCwgeyB0YXJnZXQ6IHRhcmdldCB8fCBudWxsIH0pXG4gIH1cblxuICByZXR1cm4gZXZlbnRcbn1cblxuLyoqXG4gKiBkaXNwYXRjaCBhIGV2ZW50IG9uIGEgSFRNTCBlbGVtZW50LlxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsbVxuICogQHBhcmFtICB7RXZlbnR9IHR5cGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBleHRyYSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hOYXRpdmVFdmVudCAoZWxtLCB0eXBlLCBkYXRhKSB7XG4gIGVsbS5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KGVsbSwgdHlwZSwgZGF0YSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBGb3JtRXZlbnRzIChjb250ZXh0KSB7XG4gIGNvbnN0IGV2ZW50TWFwID0ge31cbiAgO1snaW5wdXQnLCAnY2hhbmdlJywgJ2ZvY3VzJywgJ2JsdXInLCAncmV0dXJuJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICBldmVudE1hcFt0eXBlXSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChjb250ZXh0LiRlbCkge1xuICAgICAgICBldmVudC52YWx1ZSA9IGNvbnRleHQuJGVsLnZhbHVlXG4gICAgICAgIC8vIGZvciB0aGUgc2FrZSBvZiB2LW1vZGVsLCBhIGlucHV0IGV2ZW50IG11c3QgYmUgZW1pdHRlZC5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgICBjb250ZXh0LiRlbWl0KHR5cGUsIGV2ZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gZXZlbnRNYXBcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYXBGb3JtRXZlbnRzXG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGh5cGhlbmF0ZSB9IGZyb20gJy4vdXRpbHMnXG5cbmNvbnN0IHNjYWxlU3R5bGVzID0gW1xuICAnd2lkdGgnLFxuICAnaGVpZ2h0JyxcbiAgJ2xlZnQnLFxuICAncmlnaHQnLFxuICAndG9wJyxcbiAgJ2JvdHRvbScsXG4gICdib3JkZXInLFxuICAnYm9yZGVyUmFkaXVzJyxcbiAgJ2JvcmRlcldpZHRoJyxcbiAgJ2JvcmRlckxlZnQnLFxuICAnYm9yZGVyUmlnaHQnLFxuICAnYm9yZGVyVG9wJyxcbiAgJ2JvcmRlckJvdHRvbScsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCcsXG4gICdtYXJnaW4nLFxuICAnbWFyZ2luTGVmdCcsXG4gICdtYXJnaW5SaWdodCcsXG4gICdtYXJnaW5Ub3AnLFxuICAnbWFyZ2luQm90dG9tJyxcbiAgJ3BhZGRpbmcnLFxuICAncGFkZGluZ0xlZnQnLFxuICAncGFkZGluZ1JpZ2h0JyxcbiAgJ3BhZGRpbmdUb3AnLFxuICAncGFkZGluZ0JvdHRvbScsXG4gICdmb250U2l6ZScsXG4gICdsaW5lSGVpZ2h0JyxcbiAgJ3RyYW5zZm9ybScsXG4gICd3ZWJraXRUcmFuc2Zvcm0nLFxuICAnV2Via2l0VHJhbnNmb3JtJyxcbiAgJ21velRyYW5zZm9ybScsXG4gICdNb3pUcmFuc2Zvcm0nLFxuICAnaXRlbVNpemUnXG5dXG5cbmNvbnN0IHZlbmRvclJlZyA9IC93ZWJraXR8bW96L2lcbmZ1bmN0aW9uIGh5cGhlbiAoa2V5KSB7XG4gIHJldHVybiBoeXBoZW5hdGUoa2V5LnJlcGxhY2UodmVuZG9yUmVnLCBmdW5jdGlvbiAoJDApIHtcbiAgICByZXR1cm4gYC0keyQwLnRvTG93ZXJDYXNlKCl9LWBcbiAgfSkpXG59XG5cbmZ1bmN0aW9uIGdldEFsbFN0eWxlcyAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzY2FsZVN0eWxlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZSwga2V5KSB7XG4gICAgcHJlW2tleV0gPSAxXG4gICAgcHJlW2h5cGhlbihrZXkpXSA9IDFcbiAgICByZXR1cm4gcHJlXG4gIH0sIHt9KSlcbn1cblxuY29uc3QgYWxsU3R5bGVzID0gZ2V0QWxsU3R5bGVzKClcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzY3JvbGxhYmxlVHlwZXM6IFsnc2Nyb2xsZXInLCAnbGlzdCcsICd3YXRlcmZhbGwnLCAncmVjeWNsZS1saXN0J10sXG4gIGdlc3R1cmVFdmVudHM6IFtcbiAgICAncGFuc3RhcnQnLFxuICAgICdwYW5tb3ZlJyxcbiAgICAncGFuZW5kJyxcbiAgICAnc3dpcGUnLFxuICAgICdsb25ncHJlc3MnLFxuICAgICd0YXAnXG4gIF0sXG4gIC8vIHRoZXNlIGNvbXBvbmVudHMgc2hvdWxkIG5vdCBiaW5kIGV2ZW50cyB3aXRoIC5uYXRpdmUuXG4gIHdlZXhCdWlsdEluQ29tcG9uZW50czogW1xuICAgICdkaXYnLFxuICAgICdjb250YWluZXInLFxuICAgICd0ZXh0JyxcbiAgICAnaW1hZ2UnLFxuICAgICdnaWYnLFxuICAgICdpbWcnLFxuICAgICdjZWxsJyxcbiAgICAnYSdcbiAgXSxcbiAgYmluZGluZ1N0eWxlTmFtZXNGb3JQeDJSZW06IGFsbFN0eWxlc1xufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyB0aHJvdHRsZSwgZXh0ZW5kIH0gZnJvbSAnLi9mdW5jJ1xuaW1wb3J0IHsgZGlzcGF0Y2hOYXRpdmVFdmVudCB9IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcblxuLyoqXG4gKiB3aGV0aGVyIGN0IGNvbnRhaW5zIGVsLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zIChjb250YWluZXIsIHRhcmdldCwgaW5jbHVkZVNlbGYpIHtcbiAgaWYgKGluY2x1ZGVTZWxmICYmIGNvbnRhaW5lciA9PT0gdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gY29udGFpbmVyLmNvbnRhaW5zXG4gICAgPyBjb250YWluZXIuY29udGFpbnModGFyZ2V0KSAmJiAoY29udGFpbmVyICE9PSB0YXJnZXQpXG4gICAgOiBjb250YWluZXIuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGFyZ2V0KSAmIDE2ICE9PSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNpZGVBIChlbCkge1xuICBpZiAodHlwZW9mIGVsLl9pbnNpZGVBID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZWwuX2luc2lkZUFcbiAgfVxuICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudFxuICBjb25zdCBwYXJlbnRzID0gW11cbiAgY29uc3QgY2hlY2tQYXJlbnRzID0gZnVuY3Rpb24gKGluc2lkZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFyZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHBhcmVudHNbaV0uX2luc2lkZUEgPSBpbnNpZGVcbiAgICB9XG4gIH1cbiAgY29uc3QgY2hlY2sgPSBmdW5jdGlvbiAoaW5zaWRlKSB7XG4gICAgZWwuX2luc2lkZUEgPSBpbnNpZGVcbiAgICBjaGVja1BhcmVudHMoaW5zaWRlKVxuICAgIHJldHVybiBpbnNpZGVcbiAgfVxuICB3aGlsZSAocGFyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgaWYgKHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xuICAgICAgcmV0dXJuIGNoZWNrKHRydWUpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyZW50Ll9pbnNpZGVBID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBjaGVjayhwYXJlbnQuX2luc2lkZUEpXG4gICAgfVxuICAgIHBhcmVudHMucHVzaChwYXJlbnQpXG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnRcbiAgfVxuICByZXR1cm4gY2hlY2soZmFsc2UpXG59XG5cbi8qKlxuICogZ2V0IHBhcmVudCBzY3JvbGxlciB2Q29tcG9uZW50LlxuICogcmV0dXJuIGEgVnVlQ29tcG9uZW50IG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRTY3JvbGxlciAodm0pIHtcbiAgaWYgKCF2bSkgcmV0dXJuIG51bGxcbiAgaWYgKHZtLl9wYXJlbnRTY3JvbGxlcikge1xuICAgIHJldHVybiB2bS5fcGFyZW50U2Nyb2xsZXJcbiAgfVxuICBmdW5jdGlvbiBfZ2V0UGFyZW50U2Nyb2xsZXIgKHBhcmVudCkge1xuICAgIGlmICghcGFyZW50KSB7IHJldHVybiB9XG4gICAgaWYgKGNvbmZpZy5zY3JvbGxhYmxlVHlwZXMuaW5kZXhPZihwYXJlbnQud2VleFR5cGUpID4gLTEpIHtcbiAgICAgIHZtLl9wYXJlbnRTY3JvbGxlciA9IHBhcmVudFxuICAgICAgcmV0dXJuIHBhcmVudFxuICAgIH1cbiAgICByZXR1cm4gX2dldFBhcmVudFNjcm9sbGVyKHBhcmVudC4kcGFyZW50KVxuICB9XG4gIHJldHVybiBfZ2V0UGFyZW50U2Nyb2xsZXIodm0uJHBhcmVudClcbn1cblxuLyoqXG4gKiBnZXQgc2Nyb2xsZXIncyBlbGVtZW50LlxuICogQHBhcmFtIHZtIHtIVE1MRWxlbWVudCB8IFZ1ZUNPbXBvbmVudH0gdm0gb3IgZWxlbWVudC5cbiAqIHJldHVybiB0aGUgZWxlbWVudCBvciBkb2N1bWVudC5ib2R5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50U2Nyb2xsZXJFbGVtZW50ICh2bSkge1xuICBpZiAoIXZtKSB7IHJldHVybiBudWxsIH1cbiAgY29uc3QgZWwgPSB2bSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gdm0gOiB2bS4kZWxcbiAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgeyByZXR1cm4gfVxuICBpZiAodm0uX3BhcmVudFNjcm9sbGVyKSB7XG4gICAgcmV0dXJuIHZtLl9wYXJlbnRTY3JvbGxlclxuICB9XG4gIGZ1bmN0aW9uIF9nZXRQYXJlbnRTY3JvbGxlciAocGFyZW50KSB7XG4gICAgaWYgKCFwYXJlbnQpIHsgcmV0dXJuIH1cbiAgICBjb25zdCB0YWdOYW1lID0gcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgIGlmICh0YWdOYW1lID09PSAnYm9keSdcbiAgICAgIHx8ICh0YWdOYW1lID09PSAnbWFpbidcbiAgICAgICYmIGNvbmZpZy5zY3JvbGxhYmxlVHlwZXMuaW5kZXhPZihwYXJlbnQuZ2V0QXR0cmlidXRlKCd3ZWV4LXR5cGUnKSkgPiAtMSlcbiAgICApIHtcbiAgICAgIHZtLl9wYXJlbnRTY3JvbGxlciA9IHBhcmVudFxuICAgICAgcmV0dXJuIHBhcmVudFxuICAgIH1cbiAgICByZXR1cm4gX2dldFBhcmVudFNjcm9sbGVyKHBhcmVudC5wYXJlbnRFbGVtZW50KVxuICB9XG4gIHJldHVybiBfZ2V0UGFyZW50U2Nyb2xsZXIoZWwpXG59XG5cbmZ1bmN0aW9uIGhvcml6b250YWxCYWxhbmNlIChyZWN0LCBjdFJlY3QpIHtcbiAgcmV0dXJuIHJlY3QubGVmdCA8IGN0UmVjdC5yaWdodCAmJiByZWN0LnJpZ2h0ID4gY3RSZWN0LmxlZnRcbn1cblxuZnVuY3Rpb24gdmVydGljYWxCYWxhbmNlIChyZWN0LCBjdFJlY3QpIHtcbiAgcmV0dXJuIHJlY3QudG9wIDwgY3RSZWN0LmJvdHRvbSAmJiByZWN0LmJvdHRvbSA+IGN0UmVjdC50b3Bcbn1cblxuLyoqXG4gKiByZXR1cm4gYSBkYXRhIGFycmF5IHdpdGggdHdvIGJvb2xlYW4gdmFsdWUsIHdoaWNoIGFyZTpcbiAqIDEuIHZpc2libGUgaW4gY3VycmVudCBjdCdzIHZpZXdwb3J0LlxuICogMi4gdmlzaWJsZSB3aXRoIG9mZnNldCBpbiBjdXJyZW50IGN0J3Mgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNJbnRlcnNlY3Rpb24gKHJlY3QsIGN0UmVjdCwgZGlyLCBvZmZzZXQpIHtcbiAgZGlyID0gZGlyIHx8ICd1cCdcbiAgY29uc3QgaXNIb3Jpem9udGFsID0gZGlyID09PSAnbGVmdCcgfHwgZGlyID09PSAncmlnaHQnXG4gIGNvbnN0IGlzVmVydGljYWwgPSBkaXIgPT09ICd1cCcgfHwgZGlyID09PSAnZG93bidcbiAgaWYgKGlzSG9yaXpvbnRhbCAmJiAhdmVydGljYWxCYWxhbmNlKHJlY3QsIGN0UmVjdCkpIHtcbiAgICByZXR1cm4gW2ZhbHNlLCBmYWxzZV1cbiAgfVxuICBpZiAoaXNWZXJ0aWNhbCAmJiAhaG9yaXpvbnRhbEJhbGFuY2UocmVjdCwgY3RSZWN0KSkge1xuICAgIHJldHVybiBbZmFsc2UsIGZhbHNlXVxuICB9XG4gIG9mZnNldCA9IG9mZnNldCA/IHBhcnNlSW50KG9mZnNldCkgKiB3ZWV4LmNvbmZpZy5lbnYuc2NhbGUgOiAwXG4gIHN3aXRjaCAoZGlyKSB7XG4gICAgY2FzZSAndXAnOlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcmVjdC50b3AgPCBjdFJlY3QuYm90dG9tICYmIHJlY3QuYm90dG9tID4gY3RSZWN0LnRvcCxcbiAgICAgICAgcmVjdC50b3AgPCBjdFJlY3QuYm90dG9tICsgb2Zmc2V0ICYmIHJlY3QuYm90dG9tID4gY3RSZWN0LnRvcCAtIG9mZnNldFxuICAgICAgXVxuICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcmVjdC5ib3R0b20gPiBjdFJlY3QudG9wICYmIHJlY3QudG9wIDwgY3RSZWN0LmJvdHRvbSxcbiAgICAgICAgcmVjdC5ib3R0b20gPiBjdFJlY3QudG9wIC0gb2Zmc2V0ICYmIHJlY3QudG9wIDwgY3RSZWN0LmJvdHRvbSArIG9mZnNldFxuICAgICAgXVxuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcmVjdC5sZWZ0IDwgY3RSZWN0LnJpZ2h0ICYmIHJlY3QucmlnaHQgPiBjdFJlY3QubGVmdCxcbiAgICAgICAgcmVjdC5sZWZ0IDwgY3RSZWN0LnJpZ2h0ICsgb2Zmc2V0ICYmIHJlY3QucmlnaHQgPiBjdFJlY3QubGVmdCAtIG9mZnNldFxuICAgICAgXVxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHJlY3QucmlnaHQgPiBjdFJlY3QubGVmdCAmJiByZWN0LmxlZnQgPCBjdFJlY3QucmlnaHQsXG4gICAgICAgIHJlY3QucmlnaHQgPiBjdFJlY3QubGVmdCAtIG9mZnNldCAmJiByZWN0LmxlZnQgPCBjdFJlY3QucmlnaHQgKyBvZmZzZXRcbiAgICAgIF1cbiAgfVxufVxuXG4vKipcbiAqIGlzRWxlbWVudFZpc2libGVcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWwgICAgYSBkb20gZWxlbWVudC5cbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgY29udGFpbmVyICBvcHRpb25hbCwgdGhlIGNvbnRhaW5lciBvZiB0aGlzIGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50VmlzaWJsZSAoZWwsIGNvbnRhaW5lciwgZGlyLCBvZmZzZXQpIHtcbiAgaWYgKCFlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsgcmV0dXJuIGZhbHNlIH1cbiAgY29uc3QgYm9keVJlY3QgPSB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoXG4gIH1cbiAgY29uc3QgY3RSZWN0ID0gKGNvbnRhaW5lciA9PT0gd2luZG93IHx8IGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSlcbiAgICA/IGJvZHlSZWN0IDogY29udGFpbmVyXG4gICAgICA/IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGJvZHlSZWN0XG4gIHJldHVybiBoYXNJbnRlcnNlY3Rpb24oZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGN0UmVjdCwgZGlyLCBvZmZzZXQpXG59XG5cbi8vIHRvIHRyaWdnZXIgdGhlIGFwcGVhci9kaXNhcHBlYXIgZXZlbnQuXG5mdW5jdGlvbiB0cmlnZ2VyQXBwZWFyRXZlbnQgKGVsbSwgZXZ0LCBkaXIpIHtcbiAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbG0sIGV2dCwge1xuICAgIGRpcmVjdGlvbjogZGlyXG4gIH0pXG59XG5cbi8qKlxuICogZ2V0IGFsbCBldmVudCBsaXN0ZW5lcnMuIGluY2x1ZGluZyBib3VuZCBoYW5kbGVycyBpbiBhbGwgcGFyZW50IHZub2Rlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlcnMgKGNvbnRleHQpIHtcbiAgbGV0IHZub2RlID0gY29udGV4dC4kdm5vZGVcbiAgY29uc3QgaGFuZGxlcnMgPSB7fVxuICBjb25zdCBhdHRhY2hlZFZub2RlcyA9IFtdXG4gIHdoaWxlICh2bm9kZSkge1xuICAgIGF0dGFjaGVkVm5vZGVzLnB1c2godm5vZGUpXG4gICAgdm5vZGUgPSB2bm9kZS5wYXJlbnRcbiAgfVxuICBhdHRhY2hlZFZub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh2bm9kZSkge1xuICAgIGNvbnN0IHBhcmVudExpc3RlbmVycyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnMgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucy5saXN0ZW5lcnNcbiAgICBjb25zdCBkYXRhT24gPSB2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEub25cbiAgICBleHRlbmQoaGFuZGxlcnMsIHBhcmVudExpc3RlbmVycywgZGF0YU9uKVxuICB9KVxuICByZXR1cm4gaGFuZGxlcnNcbn1cblxuZnVuY3Rpb24gZ2V0QXBwZWFyT2Zmc2V0IChlbCkge1xuICByZXR1cm4gZWwgJiYgZWwuZ2V0QXR0cmlidXRlKCdhcHBlYXItb2Zmc2V0Jylcbn1cblxuZnVuY3Rpb24gdXBkYXRlV2F0Y2hBcHBlYXJMaXN0IChjb250YWluZXIpIHtcbiAgY29udGFpbmVyLl93YXRjaEFwcGVhckxpc3QgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW3dlZXgtYXBwZWFyXScpKVxufVxuXG4vKipcbiAqIGluamVjdCByZW1vdmVDaGlsZCBmdW5jdGlvbiB0byB3YXRjaCBkaXNhcHBlYXIgYW5kIG9mZnNldERpc2FwcGVhciBldmVudHMuXG4gKi9cbmlmICghd2luZG93Ll9ybUluamVjdGVkKSB7XG4gIHdpbmRvdy5fcm1JbmplY3RlZCA9IHRydWVcbiAgY29uc3QgbmF0aXZlUmVtb3ZlID0gSFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkXG4gIEhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLl92aXNpYmxlICYmIHRyaWdnZXJBcHBlYXJFdmVudChlbCwgJ2Rpc2FwcGVhcicsIG51bGwpXG4gICAgZWwuX29mZnNldFZpc2libGUgJiYgdHJpZ2dlckFwcGVhckV2ZW50KGVsLCAnb2Zmc2V0RGlzYXBwZWFyJywgbnVsbClcbiAgICBuYXRpdmVSZW1vdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG59XG5cbi8qKlxuICogV2F0Y2ggZWxlbWVudCdzIHZpc2liaWxpdHkgdG8gdGVsbCB3aGV0aGVyIHNob3VsZCB0cmlnZ2VyIGEgYXBwZWFyL2Rpc2FwcGVhclxuICogZXZlbnQgaW4gc2Nyb2xsIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXRjaEFwcGVhciAoY29udGV4dCwgZmlyZU5vdykge1xuICBjb25zdCBlbCA9IGNvbnRleHQgJiYgY29udGV4dC4kZWxcbiAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgeyByZXR1cm4gfVxuXG4gIGxldCBpc1dpbmRvdyA9IGZhbHNlXG4gIGNvbnN0IGNvbnRhaW5lciA9IGdldFBhcmVudFNjcm9sbGVyRWxlbWVudChjb250ZXh0KVxuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChjb250YWluZXIgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICBpc1dpbmRvdyA9IHRydWVcbiAgfVxuICAvKipcbiAgICogQ29kZSBiZWxvdyB3aWxsIG9ubHkgZXhlYyBvbmNlIGZvciBiaW5kaW5nIHNjcm9sbCBoYW5kbGVyIGZvciBwYXJlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgbGV0IHNjcm9sbEhhbmRsZXIgPSBjb250YWluZXIuX3Njcm9sbEhhbmRsZXJcbiAgaWYgKCFzY3JvbGxIYW5kbGVyKSB7XG4gICAgc2Nyb2xsSGFuZGxlciA9IGNvbnRhaW5lci5fc2Nyb2xsSGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIHVwZGF0ZVdhdGNoQXBwZWFyTGlzdChjb250YWluZXIpXG4gICAgICAvKipcbiAgICAgICAqIGRldGVjdCBzY3JvbGxpbmcgZGlyZWN0aW9uLlxuICAgICAgICogZGlyZWN0aW9uIG9ubHkgc3VwcG9ydCB1cCAmIGRvd24geWV0LlxuICAgICAgICogVE9ETzogZGlyZWN0aW9uIHN1cHBvcnQgbGVmdCAmIHJpZ2h0LlxuICAgICAgICovXG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSBpc1dpbmRvdyA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGNvbnRhaW5lci5zY3JvbGxUb3BcbiAgICAgIGNvbnN0IHByZVRvcCA9IGNvbnRhaW5lci5fbGFzdFNjcm9sbFRvcFxuICAgICAgY29udGFpbmVyLl9sYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wXG4gICAgICBjb25zdCBkaXIgPSAoc2Nyb2xsVG9wIDwgcHJlVG9wXG4gICAgICAgID8gJ2Rvd24nIDogc2Nyb2xsVG9wID4gcHJlVG9wXG4gICAgICAgICAgPyAndXAnIDogY29udGFpbmVyLl9wcmV2RGlyZWN0aW9uKSB8fCBudWxsXG4gICAgICBjb250YWluZXIuX3ByZXZEaXJlY3Rpb24gPSBkaXJcbiAgICAgIGNvbnN0IHdhdGNoQXBwZWFyTGlzdCA9IGNvbnRhaW5lci5fd2F0Y2hBcHBlYXJMaXN0IHx8IFtdXG4gICAgICBjb25zdCBsZW4gPSB3YXRjaEFwcGVhckxpc3QubGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsID0gd2F0Y2hBcHBlYXJMaXN0W2ldXG4gICAgICAgIGNvbnN0IGFwcGVhck9mZnNldCA9IGdldEFwcGVhck9mZnNldChlbClcbiAgICAgICAgY29uc3QgdmlzaWJsZURhdGEgPSBpc0VsZW1lbnRWaXNpYmxlKGVsLCBjb250YWluZXIsIGRpciwgYXBwZWFyT2Zmc2V0KVxuICAgICAgICBkZXRlY3RBcHBlYXIoZWwsIHZpc2libGVEYXRhLCBkaXIpXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aHJvdHRsZShzY3JvbGxIYW5kbGVyLCAxMDAsIHRydWUpKVxuICB9XG4gIGlmIChmaXJlTm93KSB7XG4gICAgY29udGV4dC4kbmV4dFRpY2soc2Nyb2xsSGFuZGxlcilcbiAgfVxufVxuXG4vKipcbiAqIGRlY2lkZSB3aGV0aGVyIHRvIHRyaWdnZXIgYSBhcHBlYXIvZGlzYXBwZWFyIGV2ZW50LlxuICogQHBhcmFtIHtWdWVDb21wb25lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmlzaWJsZVxuICogQHBhcmFtIHtzdHJpbmd9IGRpclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0QXBwZWFyIChlbCwgdmlzaWJsZURhdGEsIGRpciA9IG51bGwsIGFwcGVhck9mZnNldCkge1xuICBpZiAoIWVsKSB7IHJldHVybiB9XG4gIGNvbnN0IFt2aXNpYmxlLCBvZmZzZXRWaXNpYmxlXSA9IHZpc2libGVEYXRhXG4gIC8qKlxuICAgKiBObyBtYXR0ZXIgaXQncyBiaW5kaW5nIGFwcGVhci9kaXNhcHBlYXIgb3IgYm90aCBvZiB0aGVtLiBBbHdheXNcbiAgICogc2hvdWxkIHRlc3QgaXQncyB2aXNpYmlsaXR5IGFuZCBjaGFuZ2UgdGhlIGVsLl92aXNpYmxlLlxuICAgKiBJZiBuZWlnaGVyIGhhcyBiZWVuIGJvdW5kLCB0aGVuIGlnbm9yZSBpdC5cbiAgICovXG4gIC8qKlxuICAgKiBpZiB0aGUgY29tcG9uZW50IGhhc24ndCBhcHBlYXJlZCBmb3Igb25jZSB5ZXQsIHRoZW4gaXQgc2hvdWxkbid0IHRyaWdnZXJcbiAgICogYSBkaXNhcHBlYXIgZXZlbnQgYXQgYWxsLlxuICAgKi9cbiAgaWYgKGVsLl9hcHBlYXJlZE9uY2UgfHwgdmlzaWJsZSkge1xuICAgIGlmIChlbC5fdmlzaWJsZSAhPT0gdmlzaWJsZSkge1xuICAgICAgZWwuX3Zpc2libGUgPSB2aXNpYmxlXG4gICAgICBpZiAodmlzaWJsZSAmJiAhZWwuX2FwcGVhcmVkT25jZSkge1xuICAgICAgICBlbC5fYXBwZWFyZWRPbmNlID0gdHJ1ZVxuICAgICAgfVxuICAgICAgY29uc3QgZXZ0TmFtZSA9IHZpc2libGUgPyAnYXBwZWFyJyA6ICdkaXNhcHBlYXInXG4gICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKGBkYXRhLWV2dC0ke2V2dE5hbWV9YCkgPT09ICcnKSB7XG4gICAgICAgIHRyaWdnZXJBcHBlYXJFdmVudChlbCwgZXZ0TmFtZSwgZGlyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZWwuX29mZnNldEFwcGVhcmVkT25jZSB8fCBvZmZzZXRWaXNpYmxlKSB7XG4gICAgaWYgKGVsLl9vZmZzZXRWaXNpYmxlICE9PSBvZmZzZXRWaXNpYmxlKSB7XG4gICAgICBlbC5fb2Zmc2V0VmlzaWJsZSA9IG9mZnNldFZpc2libGVcbiAgICAgIGlmIChvZmZzZXRWaXNpYmxlICYmICFlbC5fb2Zmc2V0QXBwZWFyZWRPbmNlKSB7XG4gICAgICAgIGVsLl9vZmZzZXRBcHBlYXJlZE9uY2UgPSB0cnVlXG4gICAgICB9XG4gICAgICBjb25zdCBldnQgPSBvZmZzZXRWaXNpYmxlID8gWydvZmZzZXQtYXBwZWFyJywgJ29mZnNldEFwcGVhciddIDogWydvZmZzZXQtZGlzYXBwZWFyJywgJ29mZnNldERpc2FwcGVhciddXG4gICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKGBkYXRhLWV2dC0ke2V2dFswXX1gKSA9PT0gJycpIHtcbiAgICAgICAgdHJpZ2dlckFwcGVhckV2ZW50KGVsLCBldnRbMV0sIGRpcilcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBpc0VsZW1lbnRWaXNpYmxlIH0gZnJvbSAnLi9jb21wb25lbnQnXG5pbXBvcnQgeyBkaXNwYXRjaE5hdGl2ZUV2ZW50IH0gZnJvbSAnLi9ldmVudCdcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi9mdW5jJ1xuXG5jb25zdCBsYXp5bG9hZEF0dHIgPSAnZGF0YS1pbWctc3JjJ1xuY29uc3QgcGxhY2Vob2xkZXJBdHRyID0gJ3BsYWNlaG9sZGVyJ1xuXG5mdW5jdGlvbiBwcmVMb2FkSW1nIChzcmMsXG4gIGxvYWRDYWxsYmFjayxcbiAgZXJyb3JDYWxsYmFjaykge1xuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuICBpbWcub25sb2FkID0gbG9hZENhbGxiYWNrID8gbG9hZENhbGxiYWNrLmJpbmQoaW1nKSA6IG51bGxcbiAgaW1nLm9uZXJyb3IgPSBlcnJvckNhbGxiYWNrID8gZXJyb3JDYWxsYmFjay5iaW5kKGltZykgOiBudWxsXG4gIGltZy5zcmMgPSBzcmNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3JjIChpdGVtLCBzcmMsIHBsYWNlaG9sZGVyU3JjKSB7XG4gIGlmICghc3JjKSB7IHJldHVybiB9XG4gIGZ1bmN0aW9uIGZpbmFsbENiICgpIHtcbiAgICBkZWxldGUgaXRlbS5fc3JjX2xvYWRpbmdcbiAgfVxuXG4gIGlmICh3aW5kb3cuX3Byb2Nlc3NJbWdTcmMpIHtcbiAgICBzcmMgPSB3aW5kb3cuX3Byb2Nlc3NJbWdTcmMoc3JjLCBpdGVtKVxuICAgIGlmIChwbGFjZWhvbGRlclNyYykge1xuICAgICAgcGxhY2Vob2xkZXJTcmMgPSB3aW5kb3cuX3Byb2Nlc3NJbWdTcmMocGxhY2Vob2xkZXJTcmMsIGl0ZW0pXG4gICAgfVxuICB9XG5cbiAgaWYgKGl0ZW0uX3NyY19sb2FkaW5nID09PSBzcmMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qKlxuICAgKiAxLiBhcHBseSBzcmMgaW1tZWRpYXRlbHkgaW4gY2FzZSBqYXZzY3JpcHQgYmxvY2tzIHRoZSBpbWFnZSBsb2FkaW5nXG4gICAqICBiZWZvcmUgbmV4dCB0aWNrLlxuICAgKi9cbiAgaXRlbS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7c3JjIHx8ICcnfSlgXG4gIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKGxhenlsb2FkQXR0cilcbiAgLyoqXG4gICAqIDIuIHRoZW4gbG9hZCB0aGUgaW1nIHNyYyB3aXRoIEltYWdlIGNvbnN0cnVjdG9yIChidXQgd291bGQgbm90IHBvc3RcbiAgICogIGEgcmVxdWVzdCBhZ2FpbiksIGp1c3QgdG8gdHJpZ2dlciB0aGUgbG9hZCBldmVudC5cbiAgICovXG4gIGl0ZW0uX3NyY19sb2FkaW5nID0gc3JjXG4gIHByZUxvYWRJbWcoc3JjLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgaXRlbS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7c3JjIHx8ICcnfSlgXG4gICAgY29uc3QgeyB3aWR0aDogbmF0dXJhbFdpZHRoLCBoZWlnaHQ6IG5hdHVyYWxIZWlnaHQgfSA9IHRoaXNcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgc2l6ZTogeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfVxuICAgIH1cbiAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KGl0ZW0sICdsb2FkJywgcGFyYW1zKVxuICAgIGZpbmFsbENiKClcbiAgfSwgZnVuY3Rpb24gKGV2dCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgc2l6ZTogeyBuYXR1cmFsV2lkdGg6IDAsIG5hdHVyYWxIZWlnaHQ6IDAgfVxuICAgIH1cbiAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KGl0ZW0sICdsb2FkJywgcGFyYW1zKVxuICAgIGlmIChwbGFjZWhvbGRlclNyYykge1xuICAgICAgcHJlTG9hZEltZyhwbGFjZWhvbGRlclNyYywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtwbGFjZWhvbGRlclNyYyB8fCAnJ30pYFxuICAgICAgfSlcbiAgICB9XG4gICAgZmluYWxsQ2IoKVxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRDdFNjcm9sbGVyIChlbCkge1xuICBpZiAoIWVsKSB7IHJldHVybiB9XG4gIGxldCBzY3JvbGxlciA9IGVsLl9wdFNjcm9sbGVyXG4gIGlmICghc2Nyb2xsZXIpIHtcbiAgICBsZXQgcHQgPSBlbC5wYXJlbnRFbGVtZW50XG4gICAgd2hpbGUgKHB0ICYmIHB0ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBpZiAoKHB0LmNsYXNzTmFtZSArICcnIHx8ICcnKS5tYXRjaCgvd2VleC1saXN0fHdlZXgtc2Nyb2xsZXJ8d2VleC13YXRlcmZhbGwvKSkge1xuICAgICAgICBzY3JvbGxlciA9IHB0XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBwdCA9IHB0LnBhcmVudEVsZW1lbnRcbiAgICB9XG4gICAgc2Nyb2xsZXIgPSBwdFxuICAgIGVsLl9wdFNjcm9sbGVyID0gcHRcbiAgfVxuICByZXR1cm4gc2Nyb2xsZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcmVMYXp5bG9hZCAoZWwsIGlnbm9yZVZpc2liaWxpdHkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XG4gICAgcmV0dXJuIGVsLmZvckVhY2goY3QgPT4gZmlyZUxhenlsb2FkKGN0KSlcbiAgfVxuICBlbCA9IGVsIHx8IGRvY3VtZW50LmJvZHlcbiAgaWYgKCFlbCkgeyByZXR1cm4gfVxuICBsZXQgaW1ncyA9IChlbCB8fCBkb2N1bWVudC5ib2R5KS5xdWVyeVNlbGVjdG9yQWxsKGBbJHtsYXp5bG9hZEF0dHJ9XWApXG4gIGlmIChlbC5nZXRBdHRyaWJ1dGUobGF6eWxvYWRBdHRyKSkgeyBpbWdzID0gW2VsXSB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW1ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGltZyA9IGltZ3NbaV1cbiAgICBpZiAodHlwZW9mIGlnbm9yZVZpc2liaWxpdHkgPT09ICdib29sZWFuJyAmJiBpZ25vcmVWaXNpYmlsaXR5KSB7XG4gICAgICBhcHBseVNyYyhpbWcsIGltZy5nZXRBdHRyaWJ1dGUobGF6eWxvYWRBdHRyKSwgaW1nLmdldEF0dHJpYnV0ZShwbGFjZWhvbGRlckF0dHIpKVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0VsZW1lbnRWaXNpYmxlKGltZywgZ2V0Q3RTY3JvbGxlcihlbCkpWzBdKSB7XG4gICAgICBhcHBseVNyYyhpbWcsIGltZy5nZXRBdHRyaWJ1dGUobGF6eWxvYWRBdHRyKSwgaW1nLmdldEF0dHJpYnV0ZShwbGFjZWhvbGRlckF0dHIpKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIGNhY2hlIGEgdGhyb3R0bGUgbGF6eWxvYWQgZnVuY3Rpb24gZm9yIGV2ZXJ5IGNvbnRhaW5lciBlbGVtZW50XG4gKiBvbmNlIGZvciBkaWZmZXJlbnQgd2FpdCB0aW1lcyBzZXBhcmF0ZS5cbiAqICAgdGhlIGFyY2hpdGVjdHVyZSBvZiB0aGlzIGNhY2hlOlxuICogICAgICBjYWNoZToge1xuICogICAgICAgIGVsLmlkOiB7XG4gKiAgICAgICAgICB3YWl0OiB0aHJvdHRsZWRGdW5jdGlvbiAoKSB7IC4uLiB9XG4gKiAgICAgICAgfVxuICogICAgICB9XG4gKi9cbmNvbnN0IGNhY2hlID0ge31cbmxldCBfdWlkID0gMVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRocm90dGxlTGF6eWxvYWQgKHdhaXQgPSAxNiwgZWwgPSBkb2N1bWVudC5ib2R5KSB7XG4gIGxldCBpZCA9ICsoZWwgJiYgZWwuZGF0YXNldC50aHJvdHRsZUlkKVxuICBpZiAoaXNOYU4oaWQpIHx8IGlkIDw9IDApIHtcbiAgICBpZCA9IF91aWQrK1xuICAgIGVsICYmIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS10aHJvdHRsZS1pZCcsIGlkICsgJycpXG4gIH1cblxuICAhY2FjaGVbaWRdICYmIChjYWNoZVtpZF0gPSB7fSlcbiAgY29uc3QgdGhyb3R0bGVkID0gY2FjaGVbaWRdW3dhaXRdIHx8XG4gICAgKGNhY2hlW2lkXVt3YWl0XSA9IHRocm90dGxlKFxuICAgICAgZmlyZUxhenlsb2FkLmJpbmQodGhpcywgZWwpLFxuICAgICAgcGFyc2VGbG9hdCh3YWl0KSxcbiAgICAgIC8vIHRydWUgZm9yIGNhbGxMYXN0VGltZS5cbiAgICAgIC8vIHRvIHRyaWdnZXIgb25jZSBtb3JlIHRpbWUgYWZ0ZXIgdGhlIGxhc3QgdGhyb3R0bGVkIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGEgbGl0dGxlIG1vcmUgZGVsYXkuXG4gICAgICB0cnVlKVxuICAgIClcbiAgcmV0dXJuIHRocm90dGxlZFxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJ1xuaW1wb3J0IHsgY2FtZWxpemUgfSBmcm9tICcuL2Z1bmMnXG5jb25zdCB7IGJpbmRpbmdTdHlsZU5hbWVzRm9yUHgyUmVtIH0gPSBjb25maWdcblxuLy8gd2hldGhlciB0byBzdXBwb3J0IHVzaW5nIDAuNXB4IHRvIHBhaW50IDFweCB3aWR0aCBib3JkZXIuXG5sZXQgX3N1cHBvcnRIYWlybGluZXNcbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0SGFpcmxpbmVzICgpIHtcbiAgaWYgKHR5cGVvZiBfc3VwcG9ydEhhaXJsaW5lcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb1xuICAgIGlmIChkcHIgJiYgZHByID49IDIgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBjb25zdCBkb2NFbG0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgIGNvbnN0IHRlc3RFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgY29uc3QgZmFrZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5JylcbiAgICAgIGNvbnN0IGJlZm9yZU5vZGUgPSBkb2NFbG0uZmlyc3RFbGVtZW50Q2hpbGQgfHwgZG9jRWxtLmZpcnN0Q2hpbGRcbiAgICAgIHRlc3RFbG0uc3R5bGUuYm9yZGVyID0gJzAuNXB4IHNvbGlkIHRyYW5zcGFyZW50J1xuICAgICAgZmFrZUJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsbSlcbiAgICAgIGRvY0VsbS5pbnNlcnRCZWZvcmUoZmFrZUJvZHksIGJlZm9yZU5vZGUpXG4gICAgICBfc3VwcG9ydEhhaXJsaW5lcyA9IHRlc3RFbG0ub2Zmc2V0SGVpZ2h0ID09PSAxXG4gICAgICBkb2NFbG0ucmVtb3ZlQ2hpbGQoZmFrZUJvZHkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX3N1cHBvcnRIYWlybGluZXMgPSBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gX3N1cHBvcnRIYWlybGluZXNcbn1cblxubGV0IHN1cHBvcnQgPSBudWxsXG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0U3RpY2t5ICgpIHtcbiAgaWYgKHN1cHBvcnQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gc3VwcG9ydFxuICB9XG4gIGNvbnN0IGVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29uc3QgZWxlbWVudFN0eWxlID0gZWxlbWVudC5zdHlsZVxuICBlbGVtZW50U3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjotd2Via2l0LXN0aWNreTtwb3NpdGlvbjpzdGlja3k7J1xuICBzdXBwb3J0ID0gZWxlbWVudFN0eWxlLnBvc2l0aW9uLmluZGV4T2YoJ3N0aWNreScpICE9PSAtMVxuICByZXR1cm4gc3VwcG9ydFxufVxuXG4vKipcbiAqIGdldCB0cmFuc2Zvcm1PYmpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybU9iaiAoZWxtKSB7XG4gIGxldCBzdHlsZU9iaiA9IHt9XG4gIGlmICghZWxtKSB7IHJldHVybiBzdHlsZU9iaiB9XG4gIGNvbnN0IHRyYW5zZm9ybVN0ciA9IGVsbS5zdHlsZS53ZWJraXRUcmFuc2Zvcm1cbiAgICB8fCBlbG0uc3R5bGUubW96VHJhbnNmb3JtXG4gICAgfHwgZWxtLnN0eWxlLnRyYW5zZm9ybVxuICBpZiAodHJhbnNmb3JtU3RyICYmIHRyYW5zZm9ybVN0ci5tYXRjaCgvKD86ICooPzp0cmFuc2xhdGV8cm90YXRlfHNjYWxlKVteKF0qXFwoW14oXStcXCkpKy9pKSkge1xuICAgIHN0eWxlT2JqID0gdHJhbnNmb3JtU3RyLnRyaW0oKS5yZXBsYWNlKC8sICsvZywgJywnKS5zcGxpdCgnICcpLnJlZHVjZShmdW5jdGlvbiAocHJlLCBzdHIpIHtcbiAgICAgIFsndHJhbnNsYXRlJywgJ3NjYWxlJywgJ3JvdGF0ZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKG5ldyBSZWdFeHAobmFtZSwgJ2knKS50ZXN0KHN0cikpIHtcbiAgICAgICAgICBwcmVbbmFtZV0gPSBzdHJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBwcmVcbiAgICB9LCB7fSlcbiAgfVxuICByZXR1cm4gc3R5bGVPYmpcbn1cblxuLyoqXG4gKiB0cmFuc2xhdGUgYSB0cmFuc2Zvcm0gc3RyaW5nIGZyb20gYSB0cmFuc2Zvcm1PYmouXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1TdHIgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKHByZSwga2V5KSB7XG4gICAgcmV0dXJuIHByZSArIG9ialtrZXldICsgJyAnXG4gIH0sICcnKVxufVxuXG4vKipcbiAqIGFkZCB0cmFuc2Zvcm0gc3R5bGUgdG8gZWxlbWVudC5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsbVxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlOiB0cmFuc2Zvcm0gb2JqZWN0LCBmb3JtYXQgaXMgbGlrZSB0aGlzOlxuICogICB7XG4gKiAgICAgdHJhbnNsYXRlOiAndHJhbnNsYXRlM2QoMnB4LCAycHgsIDJweCknLFxuICogICAgIHNjYWxlOiAnc2NhbGUoMC4yKScsXG4gKiAgICAgcm90YXRlOiAncm90YXRlKDMwZGVnKSdcbiAqICAgfVxuICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlOiB3aGV0aGVyIHRvIHJlcGxhY2UgYWxsIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkVHJhbnNmb3JtIChlbG0sIHN0eWxlLCByZXBsYWNlKSB7XG4gIGlmICghc3R5bGUpIHsgcmV0dXJuIH1cbiAgbGV0IHN0eWxlT2JqID0ge31cbiAgaWYgKCFyZXBsYWNlKSB7XG4gICAgc3R5bGVPYmogPSBnZXRUcmFuc2Zvcm1PYmooZWxtKVxuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIHN0eWxlKSB7XG4gICAgY29uc3QgdmFsID0gc3R5bGVba2V5XVxuICAgIGlmICh2YWwpIHtcbiAgICAgIHN0eWxlT2JqW2tleV0gPSB2YWxcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzU3RyID0gZ2V0VHJhbnNmb3JtU3RyKHN0eWxlT2JqKVxuICBlbG0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gcmVzU3RyXG4gIGVsbS5zdHlsZS5tb3pUcmFuc2Zvcm0gPSByZXNTdHJcbiAgZWxtLnN0eWxlLnRyYW5zZm9ybSA9IHJlc1N0clxufVxuXG4vKipcbiAqIGNvcHkgYSB0cmFuc2Zvcm0gYmVoYXZpb3VyIGZyb20gb25lIGVsZW1lbnQgdG8gYW5vdGhlci5cbiAqIGtleSBjb3VsZCBiZTogJ3RyYW5zbGF0ZScgfCAnc2NhbGUnIHwgJ3JvdGF0ZSdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHlUcmFuc2Zvcm0gKGZyb20sIHRvLCBrZXkpIHtcbiAgbGV0IHN0clxuICBpZiAoIWtleSkge1xuICAgIHN0ciA9IGZyb20uc3R5bGUud2Via2l0VHJhbnNmb3JtXG4gICAgICB8fCBmcm9tLnN0eWxlLm1velRyYW5zZm9ybVxuICAgICAgfHwgZnJvbS5zdHlsZS50cmFuc2Zvcm1cbiAgfVxuICBlbHNlIHtcbiAgICBjb25zdCBmcm9tT2JqID0gZ2V0VHJhbnNmb3JtT2JqKGZyb20pXG4gICAgaWYgKCFmcm9tT2JqW2tleV0pIHsgcmV0dXJuIH1cbiAgICBjb25zdCB0b09iaiA9IGdldFRyYW5zZm9ybU9iaih0bylcbiAgICB0b09ialtrZXldID0gZnJvbU9ialtrZXldXG4gICAgc3RyID0gZ2V0VHJhbnNmb3JtU3RyKHRvT2JqKVxuICB9XG4gIHRvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0clxuICB0by5zdHlsZS5tb3pUcmFuc2Zvcm0gPSBzdHJcbiAgdG8uc3R5bGUudHJhbnNmb3JtID0gc3RyXG59XG5cbi8qKlxuICogZ2V0IGNvbG9yJ3MgciwgZywgYiB2YWx1ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBzdXBwb3J0IGFsbCBraW5kcyBvZiB2YWx1ZSBvZiBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJnYiAoY29sb3IpIHtcbiAgY29uc3QgaGF4UmVnID0gLyMoW1xcZGEtZkEtRl17Mn0pKFtcXGRhLWZBLUZdezJ9KShbXFxkYS1mQS1GXXsyfSkvXG4gIGNvbnN0IHJnYlJlZyA9IC9yZ2JcXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspXFwpL1xuICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG4gIHNwYW4uc3R5bGUuY3NzVGV4dCA9IGBjb2xvcjogJHtjb2xvcn07IHdpZHRoOiAwcHg7IGhlaWdodDogMHB4O2BcbiAgYm9keSAmJiBib2R5LmFwcGVuZENoaWxkKHNwYW4pXG4gIGNvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3BhbikuY29sb3IgKyAnJ1xuICBib2R5ICYmIGJvZHkucmVtb3ZlQ2hpbGQoc3BhbilcblxuICBsZXQgbWF0Y2hcbiAgbWF0Y2ggPSBjb2xvci5tYXRjaChoYXhSZWcpXG4gIGlmIChtYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiBwYXJzZUludChtYXRjaFsxXSwgMTYpLFxuICAgICAgZzogcGFyc2VJbnQobWF0Y2hbMl0sIDE2KSxcbiAgICAgIGI6IHBhcnNlSW50KG1hdGNoWzNdLCAxNilcbiAgICB9XG4gIH1cbiAgbWF0Y2ggPSBjb2xvci5tYXRjaChyZ2JSZWcpXG4gIGlmIChtYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiBwYXJzZUludChtYXRjaFsxXSksXG4gICAgICBnOiBwYXJzZUludChtYXRjaFsyXSksXG4gICAgICBiOiBwYXJzZUludChtYXRjaFszXSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBnZXQgc3R5bGUgc2hlZXQgd2l0aCBvd25lciBub2RlJ3MgaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvd25lciBub2RlIGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGVTaGVldEJ5SWQgKGlkKSB7XG4gIGlmICghaWQpIHsgcmV0dXJuIH1cbiAgY29uc3Qgc3R5bGVTaGVldHMgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1xuICBjb25zdCBsZW4gPSBzdHlsZVNoZWV0cy5sZW5ndGhcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBzdHlsZVNoZWV0c1tpXVxuICAgIGlmIChzdHlsZVNoZWV0Lm93bmVyTm9kZS5pZCA9PT0gaWQpIHtcbiAgICAgIHJldHVybiBzdHlsZVNoZWV0XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldENoaWxkcmVuVG90YWxXaWR0aCAoY2hpbGRyZW4pIHtcbiAgY29uc3QgbGVuID0gY2hpbGRyZW4ubGVuZ3RoXG4gIGxldCB0b3RhbCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHRvdGFsICs9IGNoaWxkcmVuW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG4gIH1cbiAgcmV0dXJuIHRvdGFsXG59XG4vKipcbiAqIGdldCB0b3RhbCBjb250ZW50IHdpZHRoIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5nZVdpZHRoIChlbG0pIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBlbG0uY2hpbGRyZW5cbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBlbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgfVxuICBpZiAoIVJhbmdlKSB7XG4gICAgcmV0dXJuIGdldENoaWxkcmVuVG90YWxXaWR0aChjaGlsZHJlbilcbiAgfVxuICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgaWYgKCFyYW5nZS5zZWxlY3ROb2RlQ29udGVudHMpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5Ub3RhbFdpZHRoKGNoaWxkcmVuKVxuICB9XG4gIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbG0pXG4gIHJldHVybiByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxufVxuXG4vKipcbiAqIHB4MnJlbSBhbmQgY2FtZWxpemUga2V5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlT2JqZWN0MnJlbSAoc3R5bGUsIHJvb3RWYWx1ZSkge1xuICBjb25zdCBvYmogPSB7fVxuICBmb3IgKGNvbnN0IGsgaW4gc3R5bGUpIHtcbiAgICBjb25zdCBjYW1LID0gY2FtZWxpemUoaylcbiAgICBpZiAoYmluZGluZ1N0eWxlTmFtZXNGb3JQeDJSZW0uaW5kZXhPZihjYW1LKSA+IC0xKSB7XG4gICAgICBvYmpbY2FtS10gPSBweDJyZW0oc3R5bGVba10gKyAnJywgcm9vdFZhbHVlKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9ialtjYW1LXSA9IHN0eWxlW2tdXG4gICAgfVxuICB9XG4gIHJldHVybiBvYmpcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHB4MnJlbSAocHgsIHJvb3RWYWx1ZSkge1xuICByZXR1cm4gcHgucmVwbGFjZSgvKFsrLV0/XFxkKyg/Oi5cXGQqKT8pKFtwfHddeCkvZywgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDIgPT09ICd3eCcpIHsgLy8gJ3d4JyAtPiBweFxuICAgICAgcmV0dXJuICQxICsgJ3B4J1xuICAgIH1cbiAgICBlbHNlIHsgIC8vICdweCcgLT4gcmVtXG4gICAgICBjb25zdCBweFZhbCA9IHBhcnNlRmxvYXQoJDEpXG4gICAgICBjb25zdCBzaWduID0gcHhWYWwgPiAwXG4gICAgICAgID8gMSA6IHB4VmFsIDwgMCA/XG4gICAgICAgICAgLTEgOiAwXG4gICAgICBpZiAoTWF0aC5hYnMocHhWYWwpIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRIYWlybGluZXMoKVxuICAgICAgICAgID8gYCR7c2lnbiAqIDAuNX1weGBcbiAgICAgICAgICA6IGAke3NpZ24gKiAxfXB4YFxuICAgICAgfVxuICAgICAgcmV0dXJuIHB4VmFsXG4gICAgICAgIC8gKHJvb3RWYWx1ZSB8fCB3aW5kb3cud2VleC5jb25maWcuZW52LnJlbSlcbiAgICAgICAgKyAncmVtJ1xuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbTJweCAocmVtLCByb290VmFsdWUpIHtcbiAgcmV0dXJuIHJlbS5yZXBsYWNlKC8oWystXT9cXGQrKD86LlxcZCopPylyZW0vZywgZnVuY3Rpb24gKCQwLCAkMSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KCQxKVxuICAgICAgKiAocm9vdFZhbHVlIHx8IHdpbmRvdy53ZWV4LmNvbmZpZy5lbnYucmVtKVxuICAgICAgKyAncHgnXG4gIH0pXG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vZnVuYydcbmV4cG9ydCAqIGZyb20gJy4vZXZlbnQnXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudCdcbmV4cG9ydCAqIGZyb20gJy4vbGF6eWxvYWQnXG5leHBvcnQgKiBmcm9tICcuL3N0eWxlJ1xuZXhwb3J0ICogZnJvbSAnLi90eXBlJ1xuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgJy4uL2xpYi9lbnZkJ1xuXG5pbXBvcnQgeyBpbml0IGFzIGluaXRWaWV3cG9ydCB9IGZyb20gJy4vdmlld3BvcnQnXG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscydcblxuLyoqXG4gKiBnZXQgV1hFbnZpcm9ubWVudCBpbmZvLlxuICogQHBhcmFtICB7b2JqZWN0fSB2aWV3cG9ydEluZm86IGluZm8gYWJvdXQgdmlld3BvcnQuXG4gKiBAcGFyYW0gIHtvYmplY3R9IGVudkluZm86IGluZm8gcGFyc2VkIGZyb20gbGliLmVudi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFbnYgKHZpZXdwb3J0SW5mbywgZW52SW5mbykge1xuICBjb25zdCBicm93c2VyTmFtZSA9IGVudkluZm8uYnJvd3NlciA/IGVudkluZm8uYnJvd3Nlci5uYW1lIDogbmF2aWdhdG9yLmFwcE5hbWVcbiAgY29uc3QgYnJvd3NlclZlcnNpb24gPSBlbnZJbmZvLmJyb3dzZXIgPyBlbnZJbmZvLmJyb3dzZXIudmVyc2lvbi52YWwgOiBudWxsXG4gIGxldCBvc05hbWUgPSBlbnZJbmZvLm9zLm5hbWVcbiAgaWYgKG9zTmFtZS5tYXRjaCgvKGlQaG9uZXxpUGFkfGlQb2QpL2kpKSB7XG4gICAgb3NOYW1lID0gJ2lPUydcbiAgfVxuICBlbHNlIGlmIChvc05hbWUubWF0Y2goL0FuZHJvaWQvaSkpIHtcbiAgICBvc05hbWUgPSAnYW5kcm9pZCdcbiAgfVxuICBjb25zdCBvc1ZlcnNpb24gPSBlbnZJbmZvLm9zLnZlcnNpb24udmFsXG4gIGNvbnN0IGVudiA9IHtcbiAgICBwbGF0Zm9ybTogJ1dlYicsXG4gICAgd2VleFZlcnNpb246ICdwcm9jZXNzLmVudi5XRUVYX1ZFUlNJT04nLFxuICAgIGxheW91dERpcmVjdGlvbjogJ2x0cicsXG4gICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgIGFwcE5hbWU6IGJyb3dzZXJOYW1lLFxuICAgIGFwcFZlcnNpb246IGJyb3dzZXJWZXJzaW9uLFxuICAgIG9zTmFtZSxcbiAgICBvc1ZlcnNpb24sXG4gICAgZGV2aWNlTW9kZWw6IGVudkluZm8ub3MubmFtZSB8fCBudWxsXG4gIH1cbiAgLyoqXG4gICAqIHZpZXdwb3J0SW5mbzogc2NhbGUsIGRldmljZVdpZHRoLCBkZXZpY2VIZWlnaHQuIGRwclxuICAgKi9cbiAgcmV0dXJuIGV4dGVuZCh2aWV3cG9ydEluZm8sIGVudilcbn1cblxuLy8gY29uc3Qgdmlld3BvcnRJbmZvID0gaW5pdFZpZXdwb3J0KClcblxuLy8gNzUwIGJ5IGRlZmF1bHQgY3VycmVudGx5XG4vLyBjb25zdCBzY2FsZSA9IHZpZXdwb3J0SW5mby5zY2FsZVxuXG4vLyBjb25zdCB1bml0cyA9IHtcbi8vICAgUkVNOiAxMiAqIHNjYWxlLFxuLy8gICBWVzogdmlld3BvcnRJbmZvLmRldmljZVdpZHRoIC8gMTAwLFxuLy8gICBWSDogdmlld3BvcnRJbmZvLmRldmljZUhlaWdodCAvIDEwMCxcbi8vICAgVk1JTjogTWF0aC5taW4odmlld3BvcnRJbmZvLmRldmljZVdpZHRoLCB2aWV3cG9ydEluZm8uZGV2aWNlSGVpZ2h0KSAvIDEwMCxcbi8vICAgVk1BWDogTWF0aC5tYXgodmlld3BvcnRJbmZvLmRldmljZVdpZHRoLCB2aWV3cG9ydEluZm8uZGV2aWNlSGVpZ2h0KSAvIDEwMCxcbi8vICAgQ006IDk2IC8gMi41NCAqIHNjYWxlLFxuLy8gICBNTTogOTYgLyAyNS40ICogc2NhbGUsXG4vLyAgIFE6IDk2IC8gMjUuNCAvIDQgKiBzY2FsZSxcbi8vICAgSU46IDk2ICogc2NhbGUsXG4vLyAgIFBUOiA5NiAvIDcyICogc2NhbGUsXG4vLyAgIFBDOiA5NiAvIDYgKiBzY2FsZSxcbi8vICAgUFg6IHNjYWxlXG4vLyB9XG5cbi8vIE9iamVjdC5mcmVlemUodW5pdHMpXG4vLyBPYmplY3QuZnJlZXplKGVudilcblxuLy8gd2luZG93LkNTU19VTklUID0gdW5pdHNcbndpbmRvdy5XWEVudmlyb25tZW50ID0gaW5pdEVudihpbml0Vmlld3BvcnQoKSwgd2luZG93LmxpYi5lbnYpXG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qIGdsb2JhbCBWdWUgKi9cblxuaW1wb3J0ICcuL3d4LWVudidcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnXG5cbmNvbnN0IHdlZXhNb2R1bGVzID0ge31cbmNvbnN0IF9yb290cyA9IFtdXG5cbmNvbnN0IHdlZXggPSB7XG4gIF9fdnVlX186IG51bGwsXG4gIHV0aWxzLFxuICAvLyB1bml0czogd2luZG93LkNTU19VTklULFxuICBjb25maWc6IHtcbiAgICBlbnY6IHdpbmRvdy5XWEVudmlyb25tZW50LFxuICAgIGJ1bmRsZVVybDogbG9jYXRpb24uaHJlZlxuICB9LFxuXG4gIF9jb21wb25lbnRzOiB7fSxcbiAgX21vZHVsZXM6IHdlZXhNb2R1bGVzLFxuXG4gIF9tZXRhOiB7XG4gICAgbW91bnRlZDoge30sXG4gICAgdXBkYXRlZDoge30sXG4gICAgZGVzdHJveWVkOiB7fSxcbiAgICByZXF1aXJlZE1vZHVsZXM6IHt9LFxuICAgIGFwaUNhbGxlZDoge30sXG4gICAgcGVyZjoge31cbiAgfSxcblxuICBkb2N1bWVudDoge1xuICAgIGJvZHk6IHt9XG4gIH0sXG5cbiAgcmVxdWlyZU1vZHVsZSAobW9kdWxlTmFtZSkge1xuICAgIGNvbnN0IG1ldGFNb2QgPSB3ZWV4Ll9tZXRhLnJlcXVpcmVkTW9kdWxlc1xuICAgIGlmICghbWV0YU1vZFttb2R1bGVOYW1lXSkge1xuICAgICAgbWV0YU1vZFttb2R1bGVOYW1lXSA9IDBcbiAgICB9XG4gICAgbWV0YU1vZFttb2R1bGVOYW1lXSsrXG4gICAgcmV0dXJuIHdlZXhNb2R1bGVzW21vZHVsZU5hbWVdXG4gIH0sXG5cbiAgcmVnaXN0ZXJNb2R1bGUgKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RlckFwaU1vZHVsZSguLi5hcmdzKVxuICB9LFxuXG4gIHN1cHBvcnQgKGZlYXR1cmUgPSAnJykge1xuICAgIGNvbnN0IG1hdGNoID0gKGZlYXR1cmUgKyAnJykubWF0Y2goL0AoY29tcG9uZW50fG1vZHVsZSlcXC8oXFx3KykoLlxcdyspPy8pXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCB0eXBlID0gbWF0Y2hbMV1cbiAgICAgIGNvbnN0IG1vZCA9IG1hdGNoWzJdXG4gICAgICBsZXQgbWV0aG9kID0gbWF0Y2hbM11cbiAgICAgIG1ldGhvZCA9IG1ldGhvZCAmJiBtZXRob2QucmVwbGFjZSgvXlxcLi8sICcnKVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NvbXBvbmVudCc6XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9jb21wb25lbnRzW21vZF0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICB8fCBjb25maWcud2VleEJ1aWx0SW5Db21wb25lbnRzLmluZGV4T2YobW9kKSA+PSAwXG4gICAgICAgIGNhc2UgJ21vZHVsZSc6XG4gICAgICAgICAgY29uc3QgbW9kdWxlID0gd2VleE1vZHVsZXNbbW9kXVxuICAgICAgICAgIHJldHVybiBtb2R1bGUgJiYgbWV0aG9kID8gISFtb2R1bGVbbWV0aG9kXSA6ICEhbW9kdWxlXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGBbdnVlLXJlbmRlcl0gaW52YWxpZCBhcmd1bWVudCBmb3Igd2VleC5zdXBwb3J0OiAke2ZlYXR1cmV9YClcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9LFxuXG4gIHN1cHBvcnRzICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdXBwb3J0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfSxcblxuICBpc1JlZ2lzdGVyZWRNb2R1bGUgKG1vZHVsZU5hbWUsIG1ldGhvZE5hbWUpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gbWV0aG9kTmFtZSA/IGAke21vZHVsZU5hbWV9LiR7bWV0aG9kTmFtZX1gIDogbW9kdWxlTmFtZVxuICAgIHJldHVybiB0aGlzLnN1cHBvcnQoJ0Btb2R1bGUvJyArIGZlYXR1cmUpXG4gIH0sXG5cbiAgaXNSZWdpc3RlcmVkQ29tcG9uZW50IChjb21wb25lbnROYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VwcG9ydCgnQGNvbXBvbmVudC8nICsgY29tcG9uZW50TmFtZSlcbiAgfSxcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBuZXcgdnVlIGluc3RhbmNlIGluIHRoaXMgd2VleCBpbnN0YW5jZS4gUHV0IGl0cyByb290IGVsZW1lbnQgaW50byB3ZWV4LmRvY3VtZW50LmJvZHkuY2hpbGRyZW4sIHNvXG4gICAqIHRoYXQgdXNlciBjYW4gdXNlIHdlZXguZG9jdW1lbnQuYm9keSB0byB3YWxrIHRocm91Z2ggYWxsIGRvbSBzdHJ1Y3R1cmVzIGluIGFsbCB2dWUgaW5zdGFuY2VzIGluIHRoZSBwYWdlLlxuICAgKi9cbiAgcmVnaXN0ZXJWdWVJbnN0YW5jZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoIWluc3RhbmNlIGluc3RhbmNlb2YgVnVlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW3Z1ZS1yZW5kZXJdIHJlZ2lzdGVyVnVlSW5zdGFuY2U6IGludmFsaWQgaW5zdGFuY2UsIG5vdCBhIHZ1ZSBpbnN0YW5jZS5gKVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHJvb3QgPSBpbnN0YW5jZS4kcm9vdFxuICAgIGlmICghcm9vdCB8fCAhcm9vdC4kZWwpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbdnVlLXJlbmRlcl0gcmVnaXN0ZXJWdWVJbnN0YW5jZTogaW5zdGFuY2UgaGFzIG5vIHJvb3QuYClcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4ucHVzaChyb290LiRlbClcbiAgfSxcblxuICAvLyBAZGVwcmVjYXRlZFxuICByZXF1aXJlICguLi5hcmdzKSB7XG4gICAgY29uc29sZS5sb2coYFtWdWUgUmVuZGVyXSBcIndlZXgucmVxdWlyZVwiIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCJ3ZWV4LnJlcXVpcmVNb2R1bGVcIiBpbnN0ZWFkLmApXG4gICAgcmV0dXJuIHRoaXMucmVxdWlyZU1vZHVsZSguLi5hcmdzKVxuICB9LFxuXG4gIC8vIEBkZXByZWNhdGVkXG4gIC8vIFRPRE86IHJlbmFtZSB0byByZWdpc3Rlck1vZHVsZVxuICByZWdpc3RlckFwaU1vZHVsZSAobmFtZSwgbW9kdWxlLCBtZXRhKSB7XG4gICAgaWYgKCF3ZWV4TW9kdWxlc1tuYW1lXSkge1xuICAgICAgd2VleE1vZHVsZXNbbmFtZV0gPSB7fVxuICAgIH1cbiAgICBpZiAoISFtZXRhICYmIG1ldGEucmVnaXN0ZXJUeXBlID09PSAnYXNzaWdubWVudCcpIHtcbiAgICAgIHdlZXhNb2R1bGVzW25hbWVdID0gbW9kdWxlXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbW9kdWxlKSB7XG4gICAgICAgIGlmIChtb2R1bGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHdlZXhNb2R1bGVzW25hbWVdW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsZWQgPSB3ZWV4Ll9tZXRhLmFwaUNhbGxlZFxuICAgICAgICAgICAgaWYgKCFjYWxsZWRbbmFtZV0pIHtcbiAgICAgICAgICAgICAgY2FsbGVkW25hbWVdID0ge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGxlZE1vZCA9IGNhbGxlZFtuYW1lXVxuICAgICAgICAgICAgaWYgKCFjYWxsZWRNb2Rba2V5XSkge1xuICAgICAgICAgICAgICBjYWxsZWRNb2Rba2V5XSA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZE1vZFtrZXldKytcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVba2V5XS5hcHBseSh3ZWV4LCBhcmd1bWVudHMpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHJlZ2lzdGVyQ29tcG9uZW50IChuYW1lLCBjb21wb25lbnQpIHtcbiAgICBpZiAoIXRoaXMuX192dWVfXykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdbVnVlIFJlbmRlcl0gVnVlIGlzIG5vdCBmb3VuZC4gUGxlYXNlIGltcG9ydCBWdWUuanMgYmVmb3JlIHJlZ2lzdGVyIGEgY29tcG9uZW50LicpXG4gICAgfVxuICAgIHRoaXMuX2NvbXBvbmVudHNbbmFtZV0gPSAwXG4gICAgaWYgKGNvbXBvbmVudC5fY3NzKSB7XG4gICAgICBjb25zdCBjc3MgPSBjb21wb25lbnQuX2Nzcy5yZXBsYWNlKC9cXGJbKy1dP1tcXGQuXStyZW07P1xcYi9nLCBmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtKSAqIDc1ICogd2VleC5jb25maWcuZW52LnNjYWxlICsgJ3B4J1xuICAgICAgfSlcbiAgICAgIHV0aWxzLmFwcGVuZENzcyhjc3MsIGB3ZWV4LWNtcC0ke25hbWV9YClcbiAgICAgIGRlbGV0ZSBjb21wb25lbnQuX2Nzc1xuICAgIH1cbiAgICB0aGlzLl9fdnVlX18uY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudClcbiAgfSxcblxuICAvLyBAZGVwcmVjYXRlZFxuICBnZXRSb290ICgpIHt9LFxuXG4gIC8vIEBkZXByZWNhdGVkXG4gIHNlbmRlcjoge1xuICAgIHBlcmZvcm1DYWxsYmFjayAoY2FsbGJhY2ssIGRhdGEsIGtlZXBBbGl2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9LFxuXG4gIC8vIEBkZXByZWNhdGVkXG4gIGluc3RhbGwgKG1vZHVsZSkge1xuICAgIG1vZHVsZS5pbml0KHRoaXMpXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdlZXguZG9jdW1lbnQuYm9keSwgJ2NoaWxkcmVuJywge1xuICBnZXQgKCkgeyByZXR1cm4gX3Jvb3RzIH1cbn0pXG5cbjsgWydvbicsICdvbmNlJywgJ29mZicsICdlbWl0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gIHdlZXhbbWV0aG9kXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgaWYgKCF0aGlzLl92dWUpIHtcbiAgICAgIHRoaXMuX3Z1ZSA9IG5ldyB0aGlzLl9fdnVlX18oKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdnVlW2AkJHttZXRob2R9YF0oLi4uYXJncylcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgd2VleFxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICAvLyBjYW1lbGl6ZUtleXMsXG4gIC8vIGh5cGhlbmF0ZUtleXMsXG4gIGV4dGVuZCxcbiAgZXh0ZW5kVHJ1dGh5XG4gIC8vIHRyaW1Db21tZW50LFxuICAvLyBub3JtYWxpemVTdHlsZSxcbiAgLy8gYXV0b1ByZWZpeCxcbiAgLy8gaXNBcnJheSxcbiAgLy8gZ2V0UGFyZW50U2Nyb2xsZXIsXG4gIC8vIHN1cHBvcnRTdGlja3ksXG4gIC8vIGFwcGVuZENzc1xufSBmcm9tICcuLi91dGlscydcblxuZnVuY3Rpb24gZ2V0SW5saW5lU3R5bGUgKHZub2RlKSB7XG4gIGNvbnN0IGRhdGEgPSB2bm9kZS5kYXRhIHx8IHt9XG4gIHJldHVybiBleHRlbmRUcnV0aHkoe30sIGRhdGEuc3RhdGljU3R5bGUsIGRhdGEuc3R5bGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0Q29tcG9uZW50U3R5bGUgKGNvbnRleHQpIHtcbiAgcmV0dXJuIGdldENvbXBvbmVudElubGluZVN0eWxlKGNvbnRleHQpXG4gIC8vIHJldHVybiBnZXRDb21wb25lbnRTdHlsZShjb250ZXh0LCB0cnVlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG9uZW50SW5saW5lU3R5bGUgKGNvbnRleHQpIHtcbiAgbGV0IHZub2RlID0gY29udGV4dCAmJiBjb250ZXh0LiR2bm9kZVxuICBpZiAoIXZub2RlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW3Z1ZS1yZW5kZXJdIGdldENvbXBvbmVudFN0eWxlIGZhaWxlZDogbm8gJHZub2RlIGluIGNvbnRleHQuJylcbiAgICB9XG4gICAgcmV0dXJuIHt9XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSB7fVxuICB3aGlsZSAodm5vZGUpIHtcbiAgICBleHRlbmQoc3R5bGUsIGdldElubGluZVN0eWxlKHZub2RlKSlcbiAgICB2bm9kZSA9IHZub2RlLnBhcmVudFxuICB9XG4gIHJldHVybiBzdHlsZVxufVxuXG4iLCJmdW5jdGlvbiBnZW5Qcm9wTm9kZSAoaywgdikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdQcm9wZXJ0eScsXG4gICAga2V5OiB7XG4gICAgICB0eXBlOiAnSWRlbnRpZmllcicsXG4gICAgICBuYW1lOiBrXG4gICAgfSxcbiAgICBjb21wdXRlZDogZmFsc2UsXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6ICdMaXRlcmFsJyxcbiAgICAgIHZhbHVlOiB2XG4gICAgfSxcbiAgICBraW5kOiAnaW5pdCcsXG4gICAgbWV0aG9kOiBmYWxzZSxcbiAgICBzaG9ydGhhbmQ6IGZhbHNlXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbXBpbGUgKG9iak5vZGUsIHB4MnJlbVRhZ3MsIHJvb3RWYWx1ZSkge1xuICAgIGNvbnN0IHByb3BzID0gb2JqTm9kZS5wcm9wZXJ0aWVzXG4gICAgbGV0IGhhc0xpbmVzID0gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHByb3BzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgcHJvcE5vZGUgPSBwcm9wc1tpXVxuICAgICAgY29uc3Qga2V5Tm9kZSA9IHByb3BOb2RlLmtleVxuICAgICAgY29uc3Qga2V5VHlwZSA9IGtleU5vZGUudHlwZVxuICAgICAgY29uc3Qga2V5Tm9kZVZhbFN0ciA9IGtleVR5cGUgPT09ICdMaXRlcmFsJyA/ICd2YWx1ZScgOiAnbmFtZSdcbiAgICAgIGNvbnN0IGtleU5hbWUgPSBrZXlOb2RlW2tleU5vZGVWYWxTdHJdXG4gICAgICBjb25zdCB2YWxOb2RlID0gcHJvcE5vZGUudmFsdWVcbiAgICAgIGlmIChrZXlOYW1lID09PSAnbGluZXMnKSB7XG4gICAgICAgIGhhc0xpbmVzID0gdHJ1ZVxuICAgICAgICBrZXlOb2RlW2tleU5vZGVWYWxTdHJdID0gJ3dlYmtpdExpbmVDbGFtcCdcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHB4MnJlbVRhZ3MuaW5kZXhPZihrZXlOYW1lKSA+IC0xKSB7XG4gICAgICAgIHByb3BOb2RlLnZhbHVlID0ge1xuICAgICAgICAgIHR5cGU6ICdDYWxsRXhwcmVzc2lvbicsXG4gICAgICAgICAgY2FsbGVlOiB7XG4gICAgICAgICAgICB0eXBlOiAnSWRlbnRpZmllcicsXG4gICAgICAgICAgICBuYW1lOiAnX3B4MnJlbSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFyZ3VtZW50czogW3ZhbE5vZGUsIHsgdHlwZTogJ0xpdGVyYWwnLCB2YWx1ZTogcm9vdFZhbHVlIH1dXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc0xpbmVzKSB7XG4gICAgICBvYmpOb2RlLnByb3BlcnRpZXMgPSBwcm9wcy5jb25jYXQoW1xuICAgICAgICBnZW5Qcm9wTm9kZSgnb3ZlcmZsb3cnLCAnaGlkZGVuJyksXG4gICAgICAgIGdlblByb3BOb2RlKCd0ZXh0T3ZlcmZsb3cnLCAnZWxsaXBzaXMnKVxuICAgICAgXSlcbiAgICB9XG4gIH1cbn1cbiIsImNvbnN0IHRhZ01hcCA9IHtcbiAgdGV4dDogcmVxdWlyZSgnLi90ZXh0Jylcbn1cblxuZXhwb3J0cy5nZXRDb21waWxlciA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgcmV0dXJuIHRhZ01hcFt0YWddXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgdHJhbnNmb3JtIChzdHlsZSkge1xuICAgIGNvbnN0IGxpbmVzID0gc3R5bGUubGluZXNcbiAgICBpZiAobGluZXMgPiAwKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihzdHlsZSwge1xuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgICAgV2Via2l0TGluZUNsYW1wOiBsaW5lc1xuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlXG4gIH1cbn1cbiIsImNvbnN0IHRhZ01hcCA9IHtcbiAgdGV4dDogcmVxdWlyZSgnLi90ZXh0Jylcbn1cblxuZXhwb3J0cy5nZXRUcmFuc2Zvcm1lciA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgcmV0dXJuIHRhZ01hcFt0YWddXG59XG4iLCJjb25zdCB7IGdldENvbXBpbGVyIH0gPSByZXF1aXJlKCcuL2NvbXBpbGVyJylcbmNvbnN0IHsgZ2V0VHJhbnNmb3JtZXIgfSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtZXInKVxuXG5leHBvcnRzLmdldENvbXBpbGVyID0gZ2V0Q29tcGlsZXJcbmV4cG9ydHMuZ2V0VHJhbnNmb3JtZXIgPSBnZXRUcmFuc2Zvcm1lclxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm1lciB9IGZyb20gJ3d4di10cmFuc2Zvcm1lcidcbmltcG9ydCB7XG4gIGlzQXJyYXksXG4gIGlzRGVmLFxuICBpc1ByaW1pdGl2ZSxcbiAgZGlzcGF0Y2hOYXRpdmVFdmVudFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJ1xuXG5jb25zdCB7XG4gIHdlZXhCdWlsdEluQ29tcG9uZW50c1xufSA9IGNvbmZpZ1xuXG5jb25zdCBhcHBlYXJFdmVudHNNYXAgPSB7XG4gIGFwcGVhcjogJ2FwcGVhcicsXG4gIGRpc2FwcGVhcjogJ2Rpc2FwcGVhcicsXG4gIG9mZnNldEFwcGVhcjogJ29mZnNldC1hcHBlYXInLFxuICBvZmZzZXREaXNhcHBlYXI6ICdvZmZzZXQtZGlzYXBwZWFyJ1xufVxuXG4vKipcbiAqIHJlbW92ZSB0ZXh0IG5vZGVzIGluIHRoZSBub2RlcyBhcnJheS5cbiAqIEBwYXJhbSAge0FycmF5fSBub2Rlc1xuICogQHJldHVybiB7QXJyYXl9IG5vZGVzIHdpdGhvdXQgdGV4dCBub2Rlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaW1UZXh0Vk5vZGVzICh2bm9kZXMpIHtcbiAgaWYgKGlzQXJyYXkodm5vZGVzKSkge1xuICAgIHJldHVybiB2bm9kZXMuZmlsdGVyKHZub2RlID0+ICEhdm5vZGUudGFnKVxuICB9XG4gIHJldHVybiB2bm9kZXNcbn1cblxuLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogbWV0aG9kIHRvIHRyYW5zZm9ybSBhcmdzIHBhc3NlZCB0byBjcmVhdGVFbGVtZW50XG4gKiBmb3IgcmVuZGVyIGZ1bmN0aW9uLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBzaG91bGQgc2hhcmUgd2l0aCBwcmVjb21waWxlci5cbmNvbnN0IG1ldGFNYXAgPSB7XG4gIGZpZ3VyZTogWydpbWcnLCAnaW1hZ2UnLCAnZ2lmJywgJ2ZpZ3VyZSddLFxuICBwOiBbJ3RleHQnLCAncCddLFxuICBkaXY6IFsnY29udGFpbmVyJywgJ2RpdiddLFxuICBzZWN0aW9uOiBbJ2NlbGwnLCAnY2VsbC1zbG90J10sXG4gICdyZWN5Y2xlLWxpc3QnOiBbJ3JlY3ljbGUtbGlzdCddXG59XG5cbmNvbnN0IGNoZWNrTWFwID0gT2JqZWN0LmtleXMobWV0YU1hcCkucmVkdWNlKGZ1bmN0aW9uIChwcmUsIHRhcmdldFRhZykge1xuICBjb25zdCB0YWdBcnIgPSBtZXRhTWFwW3RhcmdldFRhZ11cbiAgdGFnQXJyLmZvckVhY2goZnVuY3Rpb24gKGZyb21UYWcpIHtcbiAgICBwcmVbZnJvbVRhZ10gPSB0YXJnZXRUYWdcbiAgfSlcbiAgcmV0dXJuIHByZVxufSwge30pXG5cbmNvbnN0IF9zdGRUYWdNYXAgPSB7XG4gIHA6ICd0ZXh0JyxcbiAgZmlndXJlOiAnaW1hZ2UnLFxuICBzZWN0aW9uOiAnY2VsbCdcbn1cbmZ1bmN0aW9uIGdldFN0ZFRhZyAodGFnKSB7XG4gIGNvbnN0IHN0ZFRhZyA9IF9zdGRUYWdNYXBbdGFnXVxuICByZXR1cm4gc3RkVGFnIHx8IHRhZ1xufVxuXG5jb25zdCBwcmVjb21waWxlZENsYXNzTWFwID0ge1xuICBkaXY6IHtcbiAgICAnd2VleC1jdCc6IHRydWUsXG4gICAgJ3dlZXgtZGl2JzogdHJ1ZVxuICB9LFxuICBpbWFnZToge1xuICAgICd3ZWV4LWVsJzogdHJ1ZSxcbiAgICAnd2VleC1pbWFnZSc6IHRydWVcbiAgfSxcbiAgdGV4dDoge1xuICAgICd3ZWV4LWVsJzogdHJ1ZSxcbiAgICAnd2VleC10ZXh0JzogdHJ1ZVxuICB9LFxuICBjZWxsOiB7XG4gICAgJ3dlZXgtY3QnOiB0cnVlLFxuICAgICd3ZWV4LWNlbGwnOiB0cnVlXG4gIH0sXG4gIGE6IHtcbiAgICAnd2VleC1jdCc6IHRydWUsXG4gICAgJ3dlZXgtYSc6IHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1ByZWNvbXBpbGVkICh0YWcpIHtcbiAgcmV0dXJuIGNvbmZpZy53ZWV4QnVpbHRJbkNvbXBvbmVudHMuaW5kZXhPZih0YWcpID4gLTFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVJlbmRlciAoY3R4LCBoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoXG4gICAgdGFnLFxuICAgIGRhdGEsXG4gICAgY2hpbGRyZW4sXG4gICAgbm9ybWFsaXphdGlvblR5cGUsXG4gICAgYWx3YXlzTm9ybWFsaXplXG4gICkge1xuICAgIGlmIChpc0FycmF5KGRhdGEpIHx8IGlzUHJpbWl0aXZlKGRhdGEpKSB7XG4gICAgICBub3JtYWxpemF0aW9uVHlwZSA9IGNoaWxkcmVuXG4gICAgICBjaGlsZHJlbiA9IGRhdGFcbiAgICAgIGRhdGEgPSB7fVxuICAgIH1cbiAgICBpZiAoIWlzRGVmKGRhdGEpKSB7XG4gICAgICBkYXRhID0ge31cbiAgICB9XG4gICAgaWYgKGlzRGVmKGRhdGEuaXMpKSB7XG4gICAgICB0YWcgPSBkYXRhLmlzXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0YSA9IHRyYW5zZm9ybURhdGEodGhpcywgZGF0YSwgdGFnKVxuICAgICAgdGFnID0gdHJhbnNmb3JtVGFnKHRoaXMsIHRhZylcbiAgICB9XG4gICAgZWxzZSB7ICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuICAgICAgZGF0YSA9IHRyYW5zZm9ybURhdGEodGhpcywgZGF0YSwgdW5kZWZpbmVkKVxuICAgIH1cbiAgICByZXR1cm4gaC5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgIHRhZyxcbiAgICAgIGRhdGEsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIG5vcm1hbGl6YXRpb25UeXBlLFxuICAgICAgYWx3YXlzTm9ybWFsaXplXG4gICAgKVxuICB9LmJpbmQoY3R4KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtVGFnIChjdHgsIHRhZykge1xuICBjb25zdCBlbGVtZW50VGFnID0gY2hlY2tNYXBbdGFnXVxuICByZXR1cm4gZWxlbWVudFRhZyB8fCB0YWdcbn1cblxuLyoqXG4gKiBUZWxsIHdoZXRoZXIgYSBlbGVtZW50IGlzIGNvbnRhaW5lZCBpbiBhIGVsZW1lbnQgd2hvIGhhc1xuICogYSBhdHRyaWJ1dGUgJ2J1YmJsZSc9dHJ1ZS5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKi9cbi8vIGZ1bmN0aW9uIGluQnViYmxlIChlbCkge1xuLy8gICBpZiAodHlwZW9mIGVsLl9pbkJ1YmJsZSA9PT0gJ2Jvb2xlYW4nKSB7XG4vLyAgICAgcmV0dXJuIGVsLl9pbkJ1YmJsZVxuLy8gICB9XG4vLyAgIGNvbnN0IHBhcmVudHMgPSBbXVxuLy8gICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudFxuLy8gICBsZXQgaW5CdWJibGVcbi8vICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbi8vICAgICBpZiAodHlwZW9mIHBhcmVudC5faW5CdWJibGUgPT09ICdib29sZWFuJykge1xuLy8gICAgICAgaW5CdWJibGUgPSBwYXJlbnQuX2luQnViYmxlXG4vLyAgICAgICBicmVha1xuLy8gICAgIH1cbi8vICAgICBjb25zdCBhdHRyID0gcGFyZW50LmdldEF0dHJpYnV0ZSgnYnViYmxlJylcbi8vICAgICBpZiAoYXR0ciAhPT0gJycpIHtcbi8vICAgICAgIGluQnViYmxlID0gYXR0ciA9PT0gdHJ1ZSB8fCBhdHRyID09PSAndHJ1ZSdcbi8vICAgICAgIGJyZWFrXG4vLyAgICAgfVxuLy8gICAgIHBhcmVudHMucHVzaChwYXJlbnQpXG4vLyAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnRcbi8vICAgfVxuLy8gICBlbC5faW5CdWJibGUgPSBpbkJ1YmJsZVxuLy8gICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcmVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4vLyAgICAgcGFyZW50c1tpXS5faW5CdWJibGUgPSBpbkJ1YmJsZVxuLy8gICB9XG4vLyAgIHJldHVybiBpbkJ1YmJsZVxuLy8gfVxuXG5mdW5jdGlvbiBiaW5kRXZlbnRzIChjdHgsIGV2dHMsIGF0dHJzLCB0YWcsIGFwcGVhckF0dGFjaGVkKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIGV2dHMpIHtcbiAgICBjb25zdCBhcHBlYXJFdnROYW1lID0gYXBwZWFyRXZlbnRzTWFwW2tleV1cbiAgICBpZiAoYXBwZWFyRXZ0TmFtZSkge1xuICAgICAgYXR0cnNbYGRhdGEtZXZ0LSR7YXBwZWFyRXZ0TmFtZX1gXSA9ICcnXG4gICAgICBpZiAoIWFwcGVhckF0dGFjaGVkLnZhbHVlKSB7XG4gICAgICAgIGFwcGVhckF0dGFjaGVkLnZhbHVlID0gdHJ1ZVxuICAgICAgICBhdHRyc1snd2VleC1hcHBlYXInXSA9ICcnXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYXR0cnNbYGRhdGEtZXZ0LSR7a2V5fWBdID0gJydcbiAgICAgIGlmIChrZXkgIT09ICdjbGljaycpIHtcbiAgICAgICAgLy8gc2hvdWxkIHN0b3AgcHJvcGFnYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHRlc3QgaW5CdWJibGUgZmlyc3QuXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBldnRzW2tleV1cbiAgICAgICAgaWYgKGlzQXJyYXkoZXZ0c1trZXldKSkge1xuICAgICAgICAgIGhhbmRsZXIudW5zaGlmdChjdHguJHN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBldnRzW2tleV0gPSBbY3R4LiRzdG9wUHJvcGFnYXRpb24sIGhhbmRsZXJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGV2dHMuY2xpY2spIHtcbiAgICBldnRzLndlZXgkdGFwID0gZXZ0cy5jbGlja1xuICAgIGV2dHMuY2xpY2sgPSBjdHguJHN0b3BPdXRlckFcbiAgfVxuICBpZiAoZXZ0cy5zY3JvbGwpIHtcbiAgICBldnRzLndlZXgkc2Nyb2xsID0gZXZ0cy5zY3JvbGxcbiAgICBkZWxldGUgZXZ0cy5zY3JvbGxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1PbiAoY3R4LCBkYXRhLCB0YWcpIHtcbiAgbGV0IHsgb24sIG5hdGl2ZU9uIH0gPSBkYXRhXG4gIGlmICh3ZWV4QnVpbHRJbkNvbXBvbmVudHMuaW5kZXhPZih0YWcpID4gLTEpIHtcbiAgICAvKipcbiAgICAgKiBmb3IgZGl2LCBpbWFnZSwgdGV4dCwgY2VsbCwgYSwgLi4uXG4gICAgICogdXNlciBzaG91bGQgYmluZCBhbGwgZXZlbnRzIHdpdGhvdXQgLm5hdGl2ZS5cbiAgICAgKi9cbiAgICBuYXRpdmVPbiA9IG51bGxcbiAgICBkZWxldGUgZGF0YS5uYXRpdmVPblxuICB9XG4gIGlmIChpc0RlZih3ZWV4Ll9jb21wb25lbnRzW3RhZ10pKSB7XG4gICAgLyoqXG4gICAgICogZm9yIHNsaWRlciwgbGlzdCwgLi4uXG4gICAgICogdXNlciBzaG91bGQgYmluZCBldmVudHMgd2l0aG91dCAubmF0aXZlLlxuICAgICAqIGluIG91ciBldmVudHMgaGFuZGxpbmcsIGFsbCBldmVudHMgc2hvdWxkIHRyYW5zZmVyIHRvXG4gICAgICogLm5hdGl2ZSBiaW5kaW5nLlxuICAgICAqL1xuICAgIGRlbGV0ZSBkYXRhLm5hdGl2ZU9uXG4gICAgbmF0aXZlT24gPSBudWxsXG4gICAgaWYgKG9uKSB7XG4gICAgICBuYXRpdmVPbiA9IGRhdGEubmF0aXZlT24gPSBvblxuICAgIH1cbiAgICBvbiA9IG51bGxcbiAgICBkZWxldGUgZGF0YS5vblxuICB9XG5cbiAgbGV0IGF0dHJzID0gZGF0YS5hdHRyc1xuICBpZiAoIWF0dHJzKSB7XG4gICAgYXR0cnMgPSBkYXRhLmF0dHJzID0ge31cbiAgfVxuXG4gIGNvbnN0IGFwcGVhckF0dGFjaGVkID0ge1xuICAgIHZhbHVlOiBmYWxzZVxuICB9XG4gIGlmIChvbikge1xuICAgIGJpbmRFdmVudHMoY3R4LCBvbiwgYXR0cnMsIHRhZywgYXBwZWFyQXR0YWNoZWQpXG4gIH1cbiAgaWYgKG5hdGl2ZU9uKSB7XG4gICAgYmluZEV2ZW50cyhjdHgsIG5hdGl2ZU9uLCBhdHRycywgdGFnLCBhcHBlYXJBdHRhY2hlZClcbiAgfVxuXG4gIC8qKlxuICAgKiBiaW5kaW5nIGEgd2VleCR0YXAgdG8gPGE+IGVsZW1lbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBpZiB0aGVyZVxuICAgKiBpcyBubyBidWJibGVzPXRydWUgZmxhZyBzaG93aW5nIG9uIHBhcmVudHMuXG4gICAqL1xuICBpZiAodGFnID09PSAnYScpIHtcbiAgICBpZiAoIW9uKSB7XG4gICAgICBvbiA9IGRhdGEub24gPSB7fVxuICAgIH1cbiAgICAvLyBpZiAoIWNoZWNrQnViYmxlKGVsKSkge1xuICAgIGxldCBldnQgPSBvblsnd2VleCR0YXAnXVxuICAgIGlmICghZXZ0KSB7XG4gICAgICBvblsnd2VleCR0YXAnXSA9IGN0eC4kc3RvcFByb3BhZ2F0aW9uXG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZXZ0KSkge1xuICAgICAgZXZ0LnVuc2hpZnQoY3R4LiRzdG9wUHJvcGFnYXRpb24pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXZ0ID0gW2N0eC4kc3RvcFByb3BhZ2F0aW9uLCBldnRdXG4gICAgfVxuICAgIC8vIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1DbGFzcyAoZGF0YSwgdGFnKSB7XG4gIGxldCB7IGNsYXNzOiBjbGFzc0RhdGEgfSA9IGRhdGFcbiAgY29uc3QgdGFnQ2xhc3NPYmogPSBwcmVjb21waWxlZENsYXNzTWFwW3RhZ11cbiAgaWYgKCFjbGFzc0RhdGEpIHtcbiAgICBjbGFzc0RhdGEgPSBkYXRhLmNsYXNzID0gW11cbiAgfVxuICBpZiAoY2xhc3NEYXRhICYmIGlzQXJyYXkoY2xhc3NEYXRhKSkge1xuICAgIGRhdGEuY2xhc3MgPSBjbGFzc0RhdGEuY29uY2F0KE9iamVjdC5rZXlzKHRhZ0NsYXNzT2JqKSlcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgY2xhc3NEYXRhID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5hc3NpZ24oY2xhc3NEYXRhLCB0YWdDbGFzc09iailcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1TdHlsZSAoY3R4LCBkYXRhLCB0YWcpIHtcbiAgY29uc3QgeyBzdHlsZSB9ID0gZGF0YVxuICBpZiAoIXN0eWxlKSB7IHJldHVybiB9XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gZ2V0VHJhbnNmb3JtZXIoZ2V0U3RkVGFnKHRhZykpXG4gIGlmICh0cmFuc2Zvcm1lcikge1xuICAgIGRhdGEuc3R5bGUgPSBjdHguX3B4MnJlbSh0cmFuc2Zvcm1lci50cmFuc2Zvcm0oc3R5bGUpLCA3NSlcbiAgfVxuICBlbHNlIHtcbiAgICBkYXRhLnN0eWxlID0gY3R4Ll9weDJyZW0oc3R5bGUsIDc1KVxuICB9XG59XG5cbi8qKlxuICogdHJhbnNmb3JtQXR0cnM6XG4gKiAgLSBhZGQgd2VleC10eXBlIGF0dHJzIGZvciBwcmVjb21waWxlZFRhZ3MuXG4gKiAgLSBpbWFnZS5yZXNpemU6IHRyYW5zZm9ybSB0byBkaXJlY3RpdmUgd2VleC1yZXNpemUuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUF0dHJzIChkYXRhLCB0YWcpIHtcbiAgbGV0IHsgYXR0cnMsIGRpcmVjdGl2ZXMgfSA9IGRhdGFcbiAgaWYgKCFhdHRycykge1xuICAgIGF0dHJzID0gZGF0YS5hdHRycyA9IHt9XG4gIH1cbiAgYXR0cnNbJ3dlZXgtdHlwZSddID0gdGFnXG4gIGlmICh0YWcgPT09ICdpbWFnZScgfHwgdGFnID09PSAnZ2lmJykge1xuICAgIGNvbnN0IHsgc3JjLCByZXNpemUgfSA9IGF0dHJzXG4gICAgaWYgKHNyYykge1xuICAgICAgYXR0cnNbJ2RhdGEtaW1nLXNyYyddID0gc3JjXG4gICAgfVxuICAgIGlmIChyZXNpemUpIHtcbiAgICAgIGlmICghZGlyZWN0aXZlcykge1xuICAgICAgICBkaXJlY3RpdmVzID0gZGF0YS5kaXJlY3RpdmVzID0gW11cbiAgICAgIH1cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIG5hbWU6ICd3ZWV4LXJlc2l6ZScsXG4gICAgICAgIHZhbHVlOiBhdHRycy5yZXNpemVcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhIChjdHgsIGRhdGEsIHRhZykge1xuICBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgIC8vIHBhcmFtZXRlciBkYXRhIGlzIG9tbWl0ZWQuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuICBjb25zdCBpc1AgPSBpc1ByZWNvbXBpbGVkKHRhZylcbiAgLy8gY2xhc3NcbiAgaXNQICYmIHRyYW5zZm9ybUNsYXNzKGRhdGEsIHRhZylcbiAgLy8gc3R5bGVcbiAgdHJhbnNmb3JtU3R5bGUoY3R4LCBkYXRhLCB0YWcpXG4gIC8vIGF0dHJzXG4gIGlzUCAmJiB0cmFuc2Zvcm1BdHRycyhkYXRhLCB0YWcpXG4gIC8vIG9uXG4gIHRyYW5zZm9ybU9uKGN0eCwgZGF0YSwgdGFnKVxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwTmF0aXZlRXZlbnRzIChjdHgsIG1hcCkge1xuICBjb25zdCBldmVudE1hcCA9IHt9XG4gIGZvciAoY29uc3Qgb3JpZ0V2ZW50IGluIG1hcCkge1xuICAgIGV2ZW50TWFwW29yaWdFdmVudF0gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBjb25zdCBlbCA9IGV2dC50YXJnZXRcbiAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQoZWwsIG1hcFtvcmlnRXZlbnRdKVxuICAgIH1cbiAgfVxuICByZXR1cm4gZXZlbnRNYXBcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9zdHlsZSdcbmV4cG9ydCAqIGZyb20gJy4vbm9kZSdcbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgZ2V0VGhyb3R0bGVMYXp5bG9hZCxcbiAgd2F0Y2hBcHBlYXIsXG4gIGRlYm91bmNlXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmNvbnN0IHNjcm9sbGFibGVUeXBlcyA9IGNvbmZpZy5zY3JvbGxhYmxlVHlwZXNcblxubGV0IGxhenlsb2FkV2F0Y2hlZCA9IGZhbHNlXG5mdW5jdGlvbiB3YXRjaExhenlsb2FkICgpIHtcbiAgbGF6eWxvYWRXYXRjaGVkID0gdHJ1ZVxuICA7IFtcbiAgICAnc2Nyb2xsJyxcbiAgICAvLyAndHJhbnNpdGlvbmVuZCcsXG4gICAgLy8gJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgIC8vICdhbmltYXRpb25lbmQnLFxuICAgIC8vICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdyZXNpemUnXG4gIF0uZm9yRWFjaChldnQgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2dCwgZ2V0VGhyb3R0bGVMYXp5bG9hZCgyNSwgZG9jdW1lbnQuYm9keSkpXG4gIH0pXG4gIC8qKlxuICAgKiBJbiBjYXNlIHRoZSB1c2VycyB1c2UgdGhlIGJvZHkncyBvdmVyZmxvdyB0byBzY3JvbGwuIFRoZW4gdGhlIHNjcm9sbFxuICAgKiBldmVudCB3b3VsZCBub3QgYmUgdHJpZ2dlcmVkIG9uIHRoZSB3aW5kb3cgb2JqZWN0IGJ1dCBvbiB0aGUgYm9keS5cbiAgICovXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZ2V0VGhyb3R0bGVMYXp5bG9hZCgyNSwgZG9jdW1lbnQuYm9keSkpXG59XG5cbmxldCBpZENudCA9IDBcbmxldCBhcHBlYXJXYXRjaGVkID0gZmFsc2VcblxuLyoqXG4gKiBkdXJpbmcgdXBkYXRpbmcsIHRoZSBhcHBlYXIgd2F0Y2hlciBiaW5kaW5nIG9uIHRoZSBhcHBlYXJXYXRjaGVkIGNvbnRleHRcbiAqIHNob3VsZCBiZSB0cmlnZ2VyZWQgd2l0aGluIGEgZGVib3VuY2VkIHdyYXBwZXIuXG4gKiBJZiB0aGUgdXBkYXRpbmcgaW50ZXJ2YWwgaXMgc2hvcnRlciB0aGVuIDUwIG1zLCB0aGVuIHRoZSBhcHBlYXIgZXZlbnRzIHdpbGxcbiAqIGlnbm9yZSB0aGUgY2hhbmdlIGluIHRoZSBwcmV2aW91cyA1MCBtcyBkdWUgdG8gdGhlIGRlYm91bmNlIHdyYXBwZXIuXG4gKi9cbmNvbnN0IGRlYm91bmNlZFdhdGNoQXBwZWFyID0gZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICB3YXRjaEFwcGVhcihhcHBlYXJXYXRjaGVkLCB0cnVlKVxufSwgNTApXG5cbi8qKlxuICogaWYgaXQncyBhIHNjcm9sbGFibGUgdGFnLCB0aGVuIHdhdGNoIGFwcGVhciBldmVudHMgZm9yIGl0LlxuICovXG5mdW5jdGlvbiB3YXRjaEFwcGVhckZvclNjcm9sbGFibGVzICh0YWdOYW1lLCBjb250ZXh0KSB7XG4gIC8vIHdoZW4gdGhpcyBpcyBhIHNjcm9sbGVyL2xpc3Qvd2F0ZXJmYWxsXG4gIGlmIChzY3JvbGxhYmxlVHlwZXMuaW5kZXhPZih0YWdOYW1lKSA+IC0xKSB7XG4gICAgY29uc3Qgc2QgPSBjb250ZXh0LnNjcm9sbERpcmVjdGlvblxuICAgIGlmICghc2QgfHwgc2QgIT09ICdob3Jpem9udGFsJykge1xuICAgICAgYXBwZWFyV2F0Y2hlZCA9IGNvbnRleHRcbiAgICAgIHdhdGNoQXBwZWFyKGNvbnRleHQsIHRydWUpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYmVmb3JlQ3JlYXRlICgpIHtcbiAgICBpZiAoIWxhenlsb2FkV2F0Y2hlZCkge1xuICAgICAgd2F0Y2hMYXp5bG9hZCgpXG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZWQgKCkge1xuICAgIGNvbnN0IGVsID0gdGhpcy4kZWxcbiAgICBpZiAoIWVsIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuX3Jvb3RJZCkge1xuICAgICAgaWYgKGVsLmNsYXNzTmFtZS5pbmRleE9mKCd3ZWV4LXJvb3QnKSA8PSAtMSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCd3ZWV4LXJvb3QnKVxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCd3ZWV4LWN0JylcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXd4LXJvb3QtaWQnLCB0aGlzLl9yb290SWQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdGFnTmFtZSA9IHRoaXMuJG9wdGlvbnMgJiYgdGhpcy4kb3B0aW9ucy5fY29tcG9uZW50VGFnXG4gICAgY29uc3QgbWV0YVVwID0gd2VleC5fbWV0YS51cGRhdGVkXG4gICAgaWYgKCFtZXRhVXBbdGFnTmFtZV0pIHtcbiAgICAgIG1ldGFVcFt0YWdOYW1lXSA9IDBcbiAgICB9XG4gICAgbWV0YVVwW3RhZ05hbWVdKytcbiAgICAvLyB3aWxsIGNoZWNrIGFwcGVhcmluZyB3aGVuIG5vIG90aGVyIGNoYW5nZXMgaW4gbGF0ZXN0IDUwbXMuXG4gICAgZGVib3VuY2VkV2F0Y2hBcHBlYXIoKVxuICAgIC8qKlxuICAgICAqIHNpbmNlIHRoZSB1cGRhdGluZyBvZiBjb21wb25lbnQgbWF5IGFmZmVjdCB0aGUgbGF5b3V0LCB0aGUgbGF6eWxvYWRpbmcgc2hvdWxkXG4gICAgICogYmUgZmlyZWQuXG4gICAgICovXG4gICAgdGhpcy5fZmlyZUxhenlsb2FkKClcbiAgfSxcblxuICBtb3VudGVkICgpIHtcbiAgICBjb25zdCB0YWdOYW1lID0gdGhpcy4kb3B0aW9ucyAmJiB0aGlzLiRvcHRpb25zLl9jb21wb25lbnRUYWdcbiAgICBjb25zdCBlbCA9IHRoaXMuJGVsXG4gICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2VleC5fY29tcG9uZW50c1t0YWdOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdlZXguX2NvbXBvbmVudHNbdGFnTmFtZV0rK1xuICAgIH1cbiAgICBjb25zdCBtZXRhTXQgPSB3ZWV4Ll9tZXRhLm1vdW50ZWRcbiAgICBpZiAoIW1ldGFNdFt0YWdOYW1lXSkge1xuICAgICAgbWV0YU10W3RhZ05hbWVdID0gMFxuICAgIH1cbiAgICBtZXRhTXRbdGFnTmFtZV0rK1xuXG4gICAgd2F0Y2hBcHBlYXJGb3JTY3JvbGxhYmxlcyh0YWdOYW1lLCB0aGlzKVxuXG4gICAgLy8gd2hlbiB0aGlzIGlzIHRoZSByb290IGVsZW1lbnQgb2YgVnVlIGluc3RhbmNlLlxuICAgIGlmICh0aGlzID09PSB0aGlzLiRyb290KSB7XG4gICAgICBjb25zdCByb290SWQgPSBgd3gtcm9vdC0ke2lkQ250Kyt9YFxuICAgICAgaWYgKCF3ZWV4Ll9yb290KSB7XG4gICAgICAgIHdlZXguX3Jvb3QgPSB7fVxuICAgICAgfVxuICAgICAgd2VleC5fcm9vdFtyb290SWRdID0gdGhpc1xuICAgICAgdGhpcy5fcm9vdElkID0gcm9vdElkXG4gICAgICBpZiAoZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCd3ZWV4LXJvb3QnKVxuICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnd2VleC1jdCcpXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd3gtcm9vdC1pZCcsIHJvb3RJZClcblxuICAgICAgLyoqXG4gICAgICAgKiB0aGVyZSdzIG5vIHNjcm9sbGFibGUgY29tcG9uZW50IGluIHRoaXMgcGFnZS4gVGhhdCBpcyB0byBzYXksXG4gICAgICAgKiB0aGUgcGFnZSBpcyB1c2luZyBib2R5IHNjcm9sbGluZyBpbnN0ZWFkIG9mIHNjcm9sbGFiZSBjb21wb25lbnRzLlxuICAgICAgICogVGhlbiB0aGUgYXBwZWFyIHdhdGNoZXIgc2hvdWxkIGJlIGF0dGFjaGVkIG9uIHRoZSBib2R5LlxuICAgICAgICovXG4gICAgICBpZiAoIWFwcGVhcldhdGNoZWQpIHtcbiAgICAgICAgYXBwZWFyV2F0Y2hlZCA9IHRoaXNcbiAgICAgICAgd2F0Y2hBcHBlYXIodGhpcywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZmlyZUxhenlsb2FkKGVsKVxuICAgIH1cblxuICAgIC8vIGdpdmUgd2FybmluZyBmb3Igbm90IHVzaW5nICRwcm9jZXNzU3R5bGUgaW4gdnVlLWxvYWRlciBjb25maWcuXG4gICAgLy8gaWYgKCF3YXJuZWQgJiYgIXdpbmRvdy5fc3R5bGVfcHJvY2Vzc2luZ19hZGRlZCkge1xuICAgIC8vICAgd2FyblByb2Nlc3NTdHlsZSgpXG4gICAgLy8gfVxuICB9LFxuXG4gIGRlc3Ryb3llZCAoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgIGlmICghZWwgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgZGVzdHJveWVkIGVsZW1lbnQgaXMgYWJvdmUgYW5vdGhlciBwYW5lbCB3aXRoIGltYWdlcyBpbnNpZGUsIGFuZCB0aGUgaW1hZ2VzXG4gICAgICogbW92ZWQgaW50byB0aGUgdmlld3BvcnQsIHRoZW4gdGhlIGxhenlsb2FkaW5nIHNob3VsZCBiZSB0cmlnZ2VyZWQuXG4gICAgICovXG4gICAgaWYgKHRoaXMuX3Jvb3RJZCkge1xuICAgICAgZGVsZXRlIHdlZXguX3Jvb3RbdGhpcy5fcm9vdElkXVxuICAgICAgZGVsZXRlIHRoaXMuX3Jvb3RJZFxuICAgIH1cbiAgICBjb25zdCB0YWdOYW1lID0gdGhpcy4kb3B0aW9ucyAmJiB0aGlzLiRvcHRpb25zLl9jb21wb25lbnRUYWdcbiAgICBpZiAodHlwZW9mIHdlZXguX2NvbXBvbmVudHNbdGFnTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3ZWV4Ll9jb21wb25lbnRzW3RhZ05hbWVdLS1cbiAgICB9XG4gICAgY29uc3QgbWV0YURzID0gd2VleC5fbWV0YS5kZXN0cm95ZWRcbiAgICBpZiAoIW1ldGFEc1t0YWdOYW1lXSkge1xuICAgICAgbWV0YURzW3RhZ05hbWVdID0gMFxuICAgIH1cbiAgICBtZXRhRHNbdGFnTmFtZV0rK1xuICAgIHRoaXMuX2ZpcmVMYXp5bG9hZCgpXG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIF9maXJlTGF6eWxvYWQgKGVsKSB7XG4gICAgICBnZXRUaHJvdHRsZUxhenlsb2FkKDI1LCBlbCB8fCBkb2N1bWVudC5ib2R5KSgpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBpbnNpZGVBIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbWV0aG9kczoge1xuICAgIC8vIGRlcHJlY2F0ZWQuXG4gICAgJHN0b3BPdXR0ZXJBIChlKSB7XG4gICAgICByZXR1cm4gdGhpcy4kc3RvcE91dGVyQShlKVxuICAgIH0sXG5cbiAgICAkc3RvcE91dGVyQSAoZSkge1xuICAgICAgaWYgKGUgJiYgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnRhcmdldCkge1xuICAgICAgICBpZiAoaW5zaWRlQShlLnRhcmdldCkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAkc3RvcFByb3BhZ2F0aW9uIChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtZXIgfSBmcm9tICd3eHYtdHJhbnNmb3JtZXInXG5pbXBvcnQgeyBpc0FycmF5LCBpc1BsYWluT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmNvbnN0IHsgYmluZGluZ1N0eWxlTmFtZXNGb3JQeDJSZW0gfSA9IGNvbmZpZ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1ldGhvZHM6IHtcbiAgICBfcHgycmVtICh2YWx1ZSwgcm9vdFZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gKHZhbHVlICsgJycpLnJlcGxhY2UoL1srLV0/XFxkKyg/Oi5cXGQqKT9bcHddeC9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgcmV0dXJuIHdlZXgudXRpbHMucHgycmVtKCQwLCByb290VmFsdWUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gd2VleC51dGlscy5weDJyZW0odmFsdWUgKyAnJywgcm9vdFZhbHVlKVxuICAgICAgfVxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgayBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHZhbHVlLmhhc093blByb3BlcnR5KGspXG4gICAgICAgICAgICAmJiBiaW5kaW5nU3R5bGVOYW1lc0ZvclB4MlJlbS5pbmRleE9mKGspID4gLTFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhbHVlW2tdID0gd2VleC51dGlscy5weDJyZW0odmFsdWVba10gKyAnJywgcm9vdFZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHRoaXMuX3B4MnJlbSh2YWx1ZVtpXSwgcm9vdFZhbHVlKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfcHJvY2Vzc0V4Y2x1c2l2ZVN0eWxlIChzdHlsZU9iaiwgcm9vdFZhbHVlLCB0YWdOYW1lKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGdldFRyYW5zZm9ybWVyKHRhZ05hbWUpXG4gICAgICByZXR1cm4gdGhpcy5fcHgycmVtKFxuICAgICAgICB0cmFuc2Zvcm1lci50cmFuc2Zvcm0oc3R5bGVPYmopLFxuICAgICAgICByb290VmFsdWVcbiAgICAgIClcbiAgICB9LFxuXG4gICAgX2dldFBhcmVudFJlY3QgKCkge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgY29uc3QgcGFyZW50ID0gZWwgJiYgZWwucGFyZW50RWxlbWVudFxuICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBpbnB1dCBhbmQgdGV4dGFyZSBoYXMgc29tZSBjb21tb24gYXBpIGFuZCBldmVudFxuaW1wb3J0IHsgZXh0ZW5kLCBkaXNwYXRjaE5hdGl2ZUV2ZW50IH0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IGZpbmRFbnRlcktleVR5cGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGNvbnN0IGtleXMgPSBbJ2RlZmF1bHQnLCAnZ28nLCAnbmV4dCcsICdzZWFyY2gnLCAnc2VuZCddXG4gIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgcmV0dXJuIGtleVxuICB9XG4gIHJldHVybiAnZG9uZSdcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBtZXRob2RzOiB7XG4gICAgZm9jdXMgKCkge1xuICAgICAgdGhpcy4kZWwgJiYgdGhpcy4kZWwuZm9jdXMoKVxuICAgIH0sXG4gICAgYmx1ciAoKSB7XG4gICAgICB0aGlzLiRlbCAmJiB0aGlzLiRlbC5ibHVyKClcbiAgICB9LFxuXG4gICAgc2V0U2VsZWN0aW9uUmFuZ2UgKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuJGVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFt2dWUtcmVuZGVyXSBzZXRTZWxlY3Rpb25SYW5nZSBpcyBub3Qgc3VwcG9ydGVkLmApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0U2VsZWN0aW9uUmFuZ2UgKGNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgY29uc3Qgc3RyID0gc2VsZWN0aW9uLnRvU3RyaW5nKClcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLiRlbC52YWx1ZS5pbmRleE9mKHN0cilcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uRW5kID0gc2VsZWN0aW9uU3RhcnQgPT09IC0xID8gc2VsZWN0aW9uU3RhcnQgOiBzZWxlY3Rpb25TdGFydCArIHN0ci5sZW5ndGhcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe1xuICAgICAgICAgIHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobmV3IEVycm9yKCdbdnVlLXJlbmRlcl0gZ2V0U2VsZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQuJykpXG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldEVkaXRTZWxlY3Rpb25SYW5nZSAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoY2FsbGJhY2spXG4gICAgfSxcblxuICAgIC8vIHN1cHBvcnQgZW50ZXIga2V5IGV2ZW50XG4gICAgY3JlYXRlS2V5Ym9hcmRFdmVudCAoZXZlbnRzKSB7XG4gICAgICBjb25zdCBjdXN0b21LZXlUeXBlID0gdGhpcy5yZXR1cm5LZXlUeXBlXG4gICAgICBpZiAoY3VzdG9tS2V5VHlwZSkge1xuICAgICAgICBjb25zdCBrZXlib2FyZEV2ZW50cyA9IHtcbiAgICAgICAgICAna2V5dXAnOiBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBldi5rZXlDb2RlXG4gICAgICAgICAgICBsZXQga2V5ID0gZXYua2V5XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgaWYgKCFrZXkgfHwga2V5LnRvTG93ZXJDYXNlKCkgPT09ICd0YWInKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gJ25leHQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChldi50YXJnZXQsICdyZXR1cm4nLCB7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHJldHVybktleVR5cGU6IGZpbmRFbnRlcktleVR5cGUoY3VzdG9tS2V5VHlwZSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGV2LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBldmVudHMgPSBleHRlbmQoZXZlbnRzLCBrZXlib2FyZEV2ZW50cylcbiAgICAgIH1cbiAgICAgIHJldHVybiBldmVudHNcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgZ2V0UGFyZW50U2Nyb2xsZXJcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGVzdHJveWVkICgpIHtcbiAgICBpZiAoIXRoaXMuX3N0aWNreUFkZGVkKSB7IHJldHVybiB9XG4gICAgY29uc3Qgc2Nyb2xsZXIgPSBnZXRQYXJlbnRTY3JvbGxlcih0aGlzKVxuICAgIGlmICghc2Nyb2xsZXIpIHsgcmV0dXJuIH1cbiAgICBkZWxldGUgc2Nyb2xsZXIuX3N0aWNreUNoaWxkcmVuW3RoaXMuX3VpZF1cbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgX2FkZFN0aWNreSAoKSB7XG4gICAgICBjb25zdCBlbCA9IHRoaXMuJGVsXG4gICAgICBpZiAoIWVsIHx8IGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFt2dWUtcmVuZGVyXSAkZWwgZG9lc24ndCBleGlzdCB0byBhZGQgc3RpY2t5LmApXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCdzdGlja3knKVxuICAgICAgaWYgKCF0aGlzLl9wbGFjZWhvbGRlcikge1xuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlciA9IGVsLmNsb25lTm9kZSh0cnVlKVxuICAgICAgfVxuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgIHRoaXMuX3BsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gdGhpcy4kZWwub2Zmc2V0V2lkdGggKyAncHgnXG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQgKyAncHgnXG4gICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLl9wbGFjZWhvbGRlciwgdGhpcy4kZWwpXG4gICAgfSxcblxuICAgIF9yZW1vdmVTdGlja3kgKCkge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbdnVlLXJlbmRlcl0gJGVsIGRvZXNuJ3QgZXhpc3QgdG8gcmVtb3ZlIHN0aWNreS5gKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2t5JylcbiAgICAgIGlmICh0aGlzLl9wbGFjZWhvbGRlcikge1xuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3BsYWNlaG9sZGVyKVxuICAgICAgfVxuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIgPSBudWxsXG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBiYXNlIGZyb20gJy4vYmFzZSdcbmltcG9ydCBldmVudCBmcm9tICcuL2V2ZW50J1xuaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnXG5pbXBvcnQgaW5wdXRDb21tb24gZnJvbSAnLi9pbnB1dC1jb21tb24nXG5pbXBvcnQgc3RpY2t5IGZyb20gJy4vc3RpY2t5J1xuXG5leHBvcnQge1xuICBiYXNlLFxuICBldmVudCxcbiAgc3R5bGUsXG4gIGlucHV0Q29tbW9uLFxuICBzdGlja3lcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHdlZXggZnJvbSAnLi9pbnN0YW5jZSdcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSAnLi4vY29yZSdcblxuaW1wb3J0IHsgaW5wdXRDb21tb24gfSBmcm9tICcuLi9taXhpbnMnXG5cbndpbmRvdy5nbG9iYWwgPSB3aW5kb3dcbndpbmRvdy53ZWV4ID0gd2VleFxuXG53ZWV4Ll9zdHlsZU1hcCA9IHt9XG5cbjsgWydnZXRDb21wb25lbnRJbmxpbmVTdHlsZScsXG4gICdleHRyYWN0Q29tcG9uZW50U3R5bGUnLFxuICAnbWFwTmF0aXZlRXZlbnRzJyxcbiAgJ3RyaW1UZXh0Vk5vZGVzJ11cbiAgLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgIHdlZXhbbWV0aG9kXSA9IGNvcmVbbWV0aG9kXS5iaW5kKHdlZXgpXG4gIH0pXG5cbndlZXgubWl4aW5zID0ge1xuICBpbnB1dENvbW1vblxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICB0cmFuc2Zvcm1SZW5kZXJcbn0gZnJvbSAnLi4vY29yZS9ub2RlJ1xuaW1wb3J0IHsgaXNEZWYgfSBmcm9tICcuLi91dGlscydcblxubGV0IF9pbml0ZWQgPSBmYWxzZVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICBpZiAoX2luaXRlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIF9pbml0ZWQgPSB0cnVlXG4gICAgY29uc3QgVnVlID0gd2VleC5fX3Z1ZV9fXG4gICAgY29uc3QgX3JlbmRlciA9IFZ1ZS5wcm90b3R5cGUuX3JlbmRlclxuICAgIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCB3ZWV4UmVuZGVyID0gdGhpcy5fd2VleFJlbmRlclxuICAgICAgY29uc3QgdGFnID0gdGhpcy4kb3B0aW9ucyAmJiB0aGlzLiRvcHRpb25zLl9jb21wb25lbnRUYWdcbiAgICAgIGlmIChcbiAgICAgICAgIXdlZXhSZW5kZXJcbiAgICAgICAgJiYgIWlzRGVmKHdlZXguX2NvbXBvbmVudHNbdGFnXSlcbiAgICAgICkge1xuICAgICAgICBjb25zdCBvcmlnUmVuZGVyID0gdGhpcy4kb3B0aW9ucy5yZW5kZXJcbiAgICAgICAgd2VleFJlbmRlciA9IHRoaXMuX3dlZXhSZW5kZXIgPSBmdW5jdGlvbiAoaCwgLi4uYXJncykge1xuICAgICAgICAgIHJldHVybiBvcmlnUmVuZGVyLmNhbGwodGhpcywgdHJhbnNmb3JtUmVuZGVyKHRoaXMsIGgpLCAuLi5hcmdzKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJG9wdGlvbnMucmVuZGVyID0gd2VleFJlbmRlclxuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZW5kZXIuY2FsbCh0aGlzKVxuICAgIH1cbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgJy4uL3N0eWxlcy9yZXNldC5jc3MnXG5pbXBvcnQgJy4uL3N0eWxlcy9iYXNlLmNzcydcblxuaW1wb3J0ICdjb3JlLWpzL2ZuL2FycmF5L2Zyb20nXG5pbXBvcnQgJ2NvcmUtanMvZm4vb2JqZWN0L2Fzc2lnbidcbmltcG9ydCAnY29yZS1qcy9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZidcbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJ1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcidcbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnXG5pbXBvcnQgJ2NvcmUtanMvbW9kdWxlcy9lczYucHJvbWlzZSdcblxuaW1wb3J0ICcuLi9saWIvZ2VzdHVyZSdcbmltcG9ydCAnLi9nbG9iYWwnXG5pbXBvcnQgcmVuZGVyRnVuY3Rpb25QbHVnaW4gZnJvbSAnLi9yZW5kZXItZnVuY3Rpb24nXG5cbmlmIChnbG9iYWwuVnVlKSB7XG4gIHNldFZ1ZShnbG9iYWwuVnVlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VnVlICh2dWUpIHtcbiAgaWYgKCF2dWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1tWdWUgUmVuZGVyXSBWdWUgbm90IGZvdW5kLiBQbGVhc2UgbWFrZSBzdXJlIHZ1ZSAyLnggcnVudGltZSBpcyBpbXBvcnRlZC4nKVxuICB9XG4gIGlmIChnbG9iYWwud2VleC5fX3Z1ZV9fKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZ2xvYmFsLndlZXguX192dWVfXyA9IHZ1ZVxuICB3ZWV4Lmluc3RhbGwocmVuZGVyRnVuY3Rpb25QbHVnaW4pXG4gIGNvbnNvbGUubG9nKGBbVnVlIFJlbmRlcl0gaW5zdGFsbCBWdWUgJHt2dWUudmVyc2lvbn0uYClcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2VleFxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgd2VleCBmcm9tICcuL3dlZXgnXG5pbXBvcnQgeyBzZXRWdWUgfSBmcm9tICcuL3dlZXgnXG5pbXBvcnQgeyBiYXNlLCBldmVudCwgc3R5bGUsIHN0aWNreSB9IGZyb20gJy4vbWl4aW5zJ1xuXG4vKipcbiAqIGluaXQgd2VleC5cbiAqIEBwYXJhbSAge1Z1ZSQyfSBWdWU6IFZ1ZSBDb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uczogZXh0ZW5kIHdlZXggcGx1Z2lucy5cbiAqICAgICAgICAgLSBjb21wb25lbnRzLlxuICogICAgICAgICAtIG1vZHVsZXMuXG4gKi9cbmxldCBfaW5pdGVkID0gZmFsc2VcbmZ1bmN0aW9uIGluaXQgKFZ1ZS8qLCBvcHRpb25zID0ge30qLykge1xuICBpZiAoX2luaXRlZCkgeyByZXR1cm4gfVxuICBfaW5pdGVkID0gdHJ1ZVxuXG4gIHNldFZ1ZShWdWUpXG5cbiAgVnVlLnByb3RvdHlwZS4kZ2V0Q29uZmlnID0gKCkgPT4ge1xuICAgIGNvbnNvbGUud2FybignW1Z1ZSBSZW5kZXJdIFwidGhpcy4kZ2V0Q29uZmlnXCIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcIndlZXguY29uZmlnXCIgaW5zdGVhZC4nKVxuICAgIHJldHVybiB3ZWV4LmNvbmZpZ1xuICB9XG5cbiAgY29uc3QgaHRtbFJlZ2V4ID0gL15odG1sOi9pXG4gIFZ1ZS5jb25maWcuaXNSZXNlcnZlZFRhZyA9IHRhZyA9PiBodG1sUmVnZXgudGVzdCh0YWcpXG4gIFZ1ZS5jb25maWcucGFyc2VQbGF0Zm9ybVRhZ05hbWUgPSB0YWcgPT4gdGFnLnJlcGxhY2UoaHRtbFJlZ2V4LCAnJylcblxuICBmdW5jdGlvbiBpc1dlZXhUYWcgKHRhZykge1xuICAgIHJldHVybiB0eXBlb2Ygd2VleC5fY29tcG9uZW50c1t0YWddICE9PSAndW5kZWZpbmVkJ1xuICB9XG4gIGNvbnN0IG9sZEdldFRhZ05hbWVzcGFjZSA9IFZ1ZS5jb25maWcuZ2V0VGFnTmFtZXNwYWNlXG4gIFZ1ZS5jb25maWcuZ2V0VGFnTmFtZXNwYWNlID0gZnVuY3Rpb24gKHRhZykge1xuICAgIGlmIChpc1dlZXhUYWcodGFnKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJldHVybiBvbGRHZXRUYWdOYW1lc3BhY2UodGFnKVxuICB9XG5cbiAgVnVlLm1peGluKGJhc2UpXG4gIFZ1ZS5taXhpbihldmVudClcbiAgVnVlLm1peGluKHN0eWxlKVxuICBWdWUubWl4aW4oc3RpY2t5KVxufVxuXG4vLyBhdXRvIGluaXQgaW4gZGlzdCBtb2RlLlxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcbiAgaW5pdCh3aW5kb3cuVnVlKVxufVxuXG53ZWV4LmluaXQgPSBpbml0XG5cbmV4cG9ydCBkZWZhdWx0IHdlZXhcbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlT3ZlcnZpZXcgSW5wdXQgY29tcG9uZW50LlxuICogU3VwcG9ydCB2LW1vZGVsIG9ubHkgaWYgdnVlIHZlcnNpb24gaXMgbGFyZ2VyIHRoYW4gMi4yLjBcbiAqL1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50SW5saW5lU3R5bGUgfSBmcm9tICcuLi8uLi9jb3JlJ1xuXG5sZXQgbWFwRm9ybUV2ZW50cywgYXBwZW5kQ3NzXG5cbmNvbnN0IElEX1BSRUZJWF9QTEFDRUhPTERFUl9DT0xPUiA9ICd3aXB0X3BsY18nXG5jb25zdCBJRF9QUkVGSVhfSU5QVVQgPSAnd2lwdF8nXG5sZXQgaWRDb3VudCA9IDBcblxuZnVuY3Rpb24gc2V0UGxhY2Vob2xkZXJDb2xvciAoaW5wdXRWbSwgcGxhY2Vob2xkZXJDb2xvcikge1xuICBpZiAoIXBsYWNlaG9sZGVyQ29sb3IpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCB2ZW5kb3JzID0gW1xuICAgICc6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXInLFxuICAgICc6LW1vei1wbGFjZWhvbGRlcicsXG4gICAgJzo6LW1vei1wbGFjZWhvbGRlcicsXG4gICAgJzotbXMtaW5wdXQtcGxhY2Vob2xkZXInLFxuICAgICc6cGxhY2Vob2xkZXItc2hvd24nXG4gIF1cbiAgY29uc3QgaWQgPSBpbnB1dFZtLl9pZFxuICBhcHBlbmRDc3MoXG4gICAgdmVuZG9ycy5tYXAoZnVuY3Rpb24gKHZlbmRvciwgaWR4KSB7XG4gICAgICByZXR1cm4gYCMke0lEX1BSRUZJWF9JTlBVVH0ke2lkfSR7dmVuZG9yc1tpZHhdfXtjb2xvcjoke3BsYWNlaG9sZGVyQ29sb3J9O31gXG4gICAgfSkuam9pbignJyksXG4gICAgYCR7SURfUFJFRklYX1BMQUNFSE9MREVSX0NPTE9SfSR7aWR9YCxcbiAgICB0cnVlKVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzU3R5bGUgKHZtKSB7XG4gIGNvbnN0IHN0eWxlcyA9IGdldENvbXBvbmVudElubGluZVN0eWxlKHZtKVxuICBjb25zdCBwaENvbG9yID0gc3R5bGVzLnBsYWNlaG9sZGVyQ29sb3IgfHwgc3R5bGVzWydwbGFjZWhvbGRlci1jb2xvciddXG4gIGlmIChwaENvbG9yKSB7XG4gICAgc2V0UGxhY2Vob2xkZXJDb2xvcih2bSwgcGhDb2xvcilcbiAgfVxuICByZXR1cm4gc3R5bGVzXG59XG5cbmZ1bmN0aW9uIGdldElucHV0ICh3ZWV4KSB7XG4gIGNvbnN0IHsgaW5wdXRDb21tb24gfSA9IHdlZXgubWl4aW5zXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC1pbnB1dCcsXG4gICAgbWl4aW5zOiBbaW5wdXRDb21tb25dLFxuICAgIHByb3BzOiB7XG4gICAgICB0eXBlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJ3RleHQnLFxuICAgICAgICB2YWxpZGF0b3IgKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdlbWFpbCcsICdudW1iZXInLCAncGFzc3dvcmQnLCAnc2VhcmNoJywgJ3RlbCcsICd0ZXh0JywgJ3VybCcsICdkYXRlJyxcbiAgICAgICAgICAgICdkYXRldGltZScsICd0aW1lJ1xuICAgICAgICAgICAgLy8gdW5zdXBwb3J0ZWQgdHlwZTpcbiAgICAgICAgICAgIC8vIGJ1dHRvbiwgY2hlY2tib3gsIGNvbG9yLCBmaWxlLCBoaWRkZW4sIGltYWdlLFxuICAgICAgICAgICAgLy8gbW9udGgsIHJhZGlvLCByYW5nZSwgcmVzZXQsIHN1Ym1pdCwgd2VlayxcbiAgICAgICAgICBdLmluZGV4T2YodmFsdWUpICE9PSAtMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdmFsdWU6IFN0cmluZyxcbiAgICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgICBkaXNhYmxlZDoge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBhdXRvZm9jdXM6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZywgQm9vbGVhbl0sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbWF4bGVuZ3RoOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgcmV0dXJuS2V5VHlwZTogU3RyaW5nXG4gICAgfSxcblxuICAgIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgaWYgKCF0aGlzLl9pZCkge1xuICAgICAgICB0aGlzLl9pZCA9IGlkQ291bnQrK1xuICAgICAgfVxuICAgICAgY29uc3QgZXZlbnRzID0gbWFwRm9ybUV2ZW50cyh0aGlzKVxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2h0bWw6aW5wdXQnLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ3dlZXgtdHlwZSc6ICdpbnB1dCcsXG4gICAgICAgICAgaWQ6IGAke0lEX1BSRUZJWF9JTlBVVH0ke3RoaXMuX2lkfWAsXG4gICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgIGRpc2FibGVkOiAodGhpcy5kaXNhYmxlZCAhPT0gJ2ZhbHNlJyAmJiB0aGlzLmRpc2FibGVkICE9PSBmYWxzZSksXG4gICAgICAgICAgYXV0b2ZvY3VzOiAodGhpcy5hdXRvZm9jdXMgIT09ICdmYWxzZScgJiYgdGhpcy5hdXRvZm9jdXMgIT09IGZhbHNlKSxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICBtYXhsZW5ndGg6IHRoaXMubWF4bGVuZ3RoLFxuICAgICAgICAgICdyZXR1cm5LZXlUeXBlJzogdGhpcy5yZXR1cm5LZXlUeXBlXG4gICAgICAgIH0sXG4gICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IHRoaXMuY3JlYXRlS2V5Ym9hcmRFdmVudChldmVudHMpLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtaW5wdXQgd2VleC1lbCcsXG4gICAgICAgIHN0YXRpY1N0eWxlOiBwcm9jZXNzU3R5bGUodGhpcylcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIG1hcEZvcm1FdmVudHMgPSB3ZWV4LnV0aWxzLm1hcEZvcm1FdmVudHNcbiAgICBhcHBlbmRDc3MgPSB3ZWV4LnV0aWxzLmFwcGVuZENzc1xuXG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnaW5wdXQnLCBnZXRJbnB1dCh3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgJy4vc3R5bGUuY3NzJ1xuXG5mdW5jdGlvbiBnZXRTd2l0Y2ggKHdlZXgpIHtcbiAgY29uc3QgeyBleHRyYWN0Q29tcG9uZW50U3R5bGUgfSA9IHdlZXhcbiAgY29uc3QgeyBkaXNwYXRjaE5hdGl2ZUV2ZW50IH0gPSB3ZWV4LnV0aWxzXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC1zd2l0Y2gnLFxuICAgIHByb3BzOiB7XG4gICAgICBjaGVja2VkOiB7XG4gICAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIC8vIEJvcmRlciBjb2xvciAgd2hlbiB0aGUgc3dpdGNoIGlzIHR1cm5lZCBvZmZcbiAgICAgIHRpbnRDb2xvcjogU3RyaW5nLFxuICAgICAgLy8gQmFja2dyb3VuZCBjb2xvciB3aGVuIHRoZSBzd2l0Y2ggaXMgdHVybmVkIG9uLlxuICAgICAgb25UaW50Q29sb3I6IFN0cmluZyxcbiAgICAgIC8vIENvbG9yIG9mIHRoZSBmb3JlZ3JvdW5kIHN3aXRjaCBncmlwLlxuICAgICAgdGh1bWJUaW50Q29sb3I6IFN0cmluZ1xuICAgIH0sXG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0NoZWNrZWQ6ICh0aGlzLmNoZWNrZWQgIT09ICdmYWxzZScgJiYgdGhpcy5jaGVja2VkICE9PSBmYWxzZSksXG4gICAgICAgIGlzRGlzYWJsZWQ6ICh0aGlzLmRpc2FibGVkICE9PSAnZmFsc2UnICYmIHRoaXMuZGlzYWJsZWQgIT09IGZhbHNlKVxuICAgICAgfVxuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgIHdyYXBwZXJDbGFzcyAoKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzQXJyYXkgPSBbJ3dlZXgtZWwnLCAnd2VleC1zd2l0Y2gnXVxuICAgICAgICB0aGlzLmlzQ2hlY2tlZCAmJiBjbGFzc0FycmF5LnB1c2goJ3dlZXgtc3dpdGNoLWNoZWNrZWQnKVxuICAgICAgICB0aGlzLmlzRGlzYWJsZWQgJiYgY2xhc3NBcnJheS5wdXNoKCd3ZWV4LXN3aXRjaC1kaXNhYmxlZCcpXG4gICAgICAgIHJldHVybiBjbGFzc0FycmF5LmpvaW4oJyAnKVxuICAgICAgfSxcbiAgICAgIG1lcmdlU3R5bGUgKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGV4dHJhY3RDb21wb25lbnRTdHlsZSh0aGlzKVxuICAgICAgICBjb25zdCB7IHRpbnRDb2xvciwgb25UaW50Q29sb3IsIGlzQ2hlY2tlZCwgaXNEaXNhYmxlZCB9ID0gdGhpc1xuXG4gICAgICAgIGlmICghaXNDaGVja2VkICYmIHRpbnRDb2xvcikge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiB0aW50Q29sb3IsXG4gICAgICAgICAgICBib3hTaGFkb3c6IGAke3RpbnRDb2xvcn0gMCAwIDAgMCBpbnNldGBcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQ2hlY2tlZCAmJiBvblRpbnRDb2xvcikge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogb25UaW50Q29sb3IsXG4gICAgICAgICAgICBjb2xvcjogb25UaW50Q29sb3IsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogb25UaW50Q29sb3IsXG4gICAgICAgICAgICBib3hTaGFkb3c6IGAke29uVGludENvbG9yfSAwIDAgMCAwLjUzMzMzM3JlbSBpbnNldGBcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaXNEaXNhYmxlZCAmJiBPYmplY3QuYXNzaWduKHN0eWxlLCB7XG4gICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHN0eWxlXG4gICAgICB9LFxuICAgICAgc21hbGxTdHlsZSAoKSB7XG4gICAgICAgIGNvbnN0IHsgdGh1bWJUaW50Q29sb3IgfSA9IHRoaXNcbiAgICAgICAgbGV0IHNtYWxsU3R5bGUgPSB7fVxuXG4gICAgICAgIGlmICh0aHVtYlRpbnRDb2xvcikge1xuICAgICAgICAgIHNtYWxsU3R5bGUgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aHVtYlRpbnRDb2xvclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc21hbGxTdHlsZVxuICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdG9nZ2xlICgpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIHRoZSBldmVudHNcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmlzQ2hlY2tlZCA9ICF0aGlzLmlzQ2hlY2tlZFxuICAgICAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQodGhpcy4kZWwsICdjaGFuZ2UnLCB7IHZhbHVlOiB0aGlzLmlzQ2hlY2tlZCB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgaWYgKGVsICYmIGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVtb3ZlQ2xpY2tIYW5kbGVyKSB7XG4gICAgICAgICAgY29uc3QgaGFuZGxlciA9IGV2dCA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSgpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3JlbW92ZUNsaWNrSGFuZGxlciA9IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIuYmluZChlbCwgJ3dlZXgkdGFwJywgaGFuZGxlcilcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd3ZWV4JHRhcCcsIGhhbmRsZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYmVmb3JlRGVzdHJveSAoKSB7XG4gICAgICBjb25zdCBybSA9IHRoaXMuX3JlbW92ZUNsaWNrSGFuZGxlclxuICAgICAgaWYgKHJtKSB7XG4gICAgICAgIHJtKClcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JlbW92ZUNsaWNrSGFuZGxlclxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICBhdHRyczogeyAnd2VleC10eXBlJzogJ3N3aXRjaCcgfSxcbiAgICAgICAgc3RhdGljQ2xhc3M6IHRoaXMud3JhcHBlckNsYXNzLFxuICAgICAgICBzdGF0aWNTdHlsZTogdGhpcy5tZXJnZVN0eWxlXG4gICAgICB9LCBbY3JlYXRlRWxlbWVudCgnc21hbGwnLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAnd2VleC1zd2l0Y2gtaW5uZXInLFxuICAgICAgICBzdGF0aWNTdHlsZTogdGhpcy5zbWFsbFN0eWxlXG4gICAgICB9KV0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3N3aXRjaCcsIGdldFN3aXRjaCh3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IERFRkFVTFRfT0ZGU0VUX0FDQ1VSQUNZID0gMTBcbmNvbnN0IERFRkFVTFRfTE9BRE1PUkVfT0ZGU0VUID0gMFxuXG5mdW5jdGlvbiBnZXRUaHJvdHRsZWRTY3JvbGwgKGNvbnRleHQpIHtcbiAgY29uc3Qgc2NhbGUgPSB3ZWV4LmNvbmZpZy5lbnYuc2NhbGVcbiAgaWYgKCFjb250ZXh0Ll90aHJvdHRsZVNjcm9sbCkge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBjb250ZXh0LiRyZWZzLndyYXBwZXJcbiAgICBjb25zdCBpbm5lciA9IGNvbnRleHQuJHJlZnMuaW5uZXJcbiAgICBsZXQgcHJlT2Zmc2V0ID0gKGNvbnRleHQuc2Nyb2xsRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCdcbiAgICAgID8gd3JhcHBlci5zY3JvbGxMZWZ0XG4gICAgICA6IHdyYXBwZXIuc2Nyb2xsVG9wKVxuICAgICAgfHwgMFxuICAgIGNvbnRleHQuX3Rocm90dGxlU2Nyb2xsID0gd2VleC51dGlscy50aHJvdHRsZShmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSBjb250ZXh0LnNjcm9sbERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnXG4gICAgICAgID8gd3JhcHBlci5zY3JvbGxMZWZ0XG4gICAgICAgIDogd3JhcHBlci5zY3JvbGxUb3BcbiAgICAgIGNvbnN0IGluZGVudCA9IHBhcnNlSW50KGNvbnRleHQub2Zmc2V0QWNjdXJhY3kpICogc2NhbGVcbiAgICAgIGZ1bmN0aW9uIHRyaWdnZXJTY3JvbGwgKCkge1xuICAgICAgICBjb25zdCByZWN0ID0gaW5uZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgY29uc3QgZXZ0T2JqID0ge1xuICAgICAgICAgIGNvbnRlbnRTaXplOiB7IHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgY29udGVudE9mZnNldDoge1xuICAgICAgICAgICAgeDogd3JhcHBlci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBwb3NpdGl2ZSBkaXJlY2l0b24gZm9yIHktYXhpcyBpcyBkb3duLlxuICAgICAgICAgICAgICogc28gc2hvdWxkIHVzZSBuZWdhdGl2ZSBvcGVyYXRpb24gb24gc2Nyb2xsVG9wLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAoMCwwKS0tLS0tLS0tLS0tLS0tLT4geFxuICAgICAgICAgICAgICogICAgICAgfFxuICAgICAgICAgICAgICogICAgICAgfFxuICAgICAgICAgICAgICogICAgICAgfFxuICAgICAgICAgICAgICogICAgICAgfFxuICAgICAgICAgICAgICogICAgICAgdiB5XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB5OiAtd3JhcHBlci5zY3JvbGxUb3BcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQuJGVsKSB7XG4gICAgICAgICAgd2VleC51dGlscy5kaXNwYXRjaE5hdGl2ZUV2ZW50KGNvbnRleHQuJGVsLCAnd2VleCRzY3JvbGwnLCBldnRPYmopXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmFicyhvZmZzZXQgLSBwcmVPZmZzZXQpID49IGluZGVudCkge1xuICAgICAgICB0cmlnZ2VyU2Nyb2xsKClcbiAgICAgICAgcHJlT2Zmc2V0ID0gb2Zmc2V0XG4gICAgICB9XG4gICAgfSwgMTYsIHRydWUpXG4gIH1cbiAgcmV0dXJuIGNvbnRleHQuX3Rocm90dGxlU2Nyb2xsXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJvcHM6IHtcbiAgICBsb2FkbW9yZW9mZnNldDoge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6IERFRkFVTFRfTE9BRE1PUkVfT0ZGU0VULFxuICAgICAgdmFsaWRhdG9yICh2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXJzZUludCh2YWx1ZSlcbiAgICAgICAgcmV0dXJuICFpc05hTih2YWwpICYmIHZhbCA+PSBERUZBVUxUX0xPQURNT1JFX09GRlNFVFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBvZmZzZXRBY2N1cmFjeToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IERFRkFVTFRfT0ZGU0VUX0FDQ1VSQUNZLFxuICAgICAgdmFsaWRhdG9yICh2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXJzZUludCh2YWx1ZSlcbiAgICAgICAgcmV0dXJuICFpc05hTih2YWwpICYmIHZhbCA+PSBERUZBVUxUX09GRlNFVF9BQ0NVUkFDWVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVkICgpIHtcbiAgICAvLyBzaG91bGQgY2FsbCByZXNldExvYWRtb3JlKCkgdG8gZW5hYmxlIGxvYWRtb3JlIGV2ZW50LlxuICAgIHRoaXMuX2xvYWRtb3JlUmVzZXQgPSB0cnVlXG4gIH0sXG5cbiAgbW91bnRlZCAoKSB7XG4gICAgdGhpcy5yZWxvYWRTdGlja3lDaGlsZHJlbigpXG4gIH0sXG5cbiAgdXBkYXRlZCAoKSB7XG4gICAgdGhpcy5yZWxvYWRTdGlja3lDaGlsZHJlbigpXG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIHVwZGF0ZUxheW91dCAoKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy4kcmVmcy53cmFwcGVyXG4gICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICBjb25zdCByZWN0ID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB0aGlzLl93cmFwcGVyV2lkdGggPSByZWN0LndpZHRoXG4gICAgICAgIHRoaXMuX3dyYXBwZXJIZWlnaHQgPSByZWN0LmhlaWdodFxuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLiRyZWZzLmlubmVyXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGlubmVyICYmIGlubmVyLmNoaWxkcmVuXG4gICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGlubmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIHRoaXMuX2lubmVyV2lkdGggPSByZWN0LndpZHRoXG4gICAgICAgIHRoaXMuX2lubmVySGVpZ2h0ID0gcmVjdC5oZWlnaHRcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvYWRpbmdFbCA9IHRoaXMuX2xvYWRpbmcgJiYgdGhpcy5fbG9hZGluZy4kZWxcbiAgICAgIGNvbnN0IHJlZnJlc2hFbCA9IHRoaXMuX3JlZnJlc2ggJiYgdGhpcy5fcmVmcmVzaC4kZWxcbiAgICAgIGlmIChsb2FkaW5nRWwpIHtcbiAgICAgICAgdGhpcy5faW5uZXJIZWlnaHQgLT0gbG9hZGluZ0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgfVxuICAgICAgaWYgKHJlZnJlc2hFbCkge1xuICAgICAgICB0aGlzLl9pbm5lckhlaWdodCAtPSByZWZyZXNoRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XG4gICAgICB9XG4gICAgICAvLyBpbm5lciB3aWR0aCBpcyBhbHdheXMgdGhlIHZpZXdwb3J0IHdpZHRoIHNvbWVob3cgaW4gaG9yaXpvbnRhbFxuICAgICAgLy8gc2NvbGxlciwgdGhlcmVmb3JlIHRoZSBpbm5lciB3aWR0aCBzaG91bGQgYmUgcmVjbGFjdWxhdGVkLlxuICAgICAgaWYgKHRoaXMuc2Nyb2xsRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5faW5uZXJXaWR0aCA9IHdlZXgudXRpbHMuZ2V0UmFuZ2VXaWR0aChpbm5lcilcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVzZXRMb2FkbW9yZSAoKSB7XG4gICAgICB0aGlzLl9sb2FkbW9yZVJlc2V0ID0gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBwcm9jZXNzIHN0aWNreSBjaGlsZHJlbiBpbiBzY3JvbGxhYmxlIGNvbXBvbmVudHMuXG4gICAgICogY3VycmVudCBvbmx5IHN1cHBvcnQgbGlzdCBhbmQgdmVydGljYWwgc2Nyb2xsZXIuXG4gICAgICovXG4gICAgcHJvY2Vzc1N0aWNreSAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0ICdzdGlja3knIG9yICctd2Via2l0LXN0aWNreScsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAgICAgICogdG8gZG8gZnVydGhlciBtb3JlLlxuICAgICAgICovXG4gICAgICBjb25zdCBzdGlja3lDaGlsZHJlbiA9IHRoaXMuX3N0aWNreUNoaWxkcmVuXG4gICAgICBjb25zdCBsZW4gPSBzdGlja3lDaGlsZHJlbiAmJiBzdGlja3lDaGlsZHJlbi5sZW5ndGggfHwgMFxuICAgICAgaWYgKGxlbiA8PSAwKSB7IHJldHVybiB9XG5cbiAgICAgIGNvbnN0IG9yaWdTdGlja3kgPSB3ZWV4LnV0aWxzLnN1cHBvcnRTdGlja3koKVxuICAgICAgLy8gY3VycmVudCBvbmx5IHN1cHBvcnQgbGlzdCBhbmQgdmVydGljYWwgc2Nyb2xsZXIuXG4gICAgICBpZiAodGhpcy5zY3JvbGxEaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy4kZWxcbiAgICAgIGlmICghY29udGFpbmVyKSB7IHJldHVybiB9XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wXG5cbiAgICAgIGxldCBzdGlja3lDaGlsZFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGlja3lDaGlsZCA9IHN0aWNreUNoaWxkcmVuW2ldXG4gICAgICAgIGlmIChvcmlnU3RpY2t5KSB7XG4gICAgICAgICAgdGhpcy5hZGRTdGlja3koc3RpY2t5Q2hpbGQsIG9yaWdTdGlja3kpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RpY2t5Q2hpbGQuX2luaXRPZmZzZXRUb3AgPCBzY3JvbGxUb3ApIHtcbiAgICAgICAgICB0aGlzLmFkZFN0aWNreShzdGlja3lDaGlsZClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVN0aWNreShzdGlja3lDaGlsZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRTdGlja3kgKGVsLCBzdXBwb3J0U3RpY2t5KSB7XG4gICAgICBpZiAoc3VwcG9ydFN0aWNreSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCd3ZWV4LWlvcy1zdGlja3knKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChlbC5fc3RpY2t5ID09PSB0cnVlKSByZXR1cm5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW3Z1ZS1yZW5kZXJdIGhlYWRlciBhZGQgc3RpY2t5YCwgZWwpXG4gICAgICAgIH1cbiAgICAgICAgZWwuX3N0aWNreSA9IHRydWVcbiAgICAgICAgaWYgKCFlbC5fcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGVsLmNsb25lTm9kZSh0cnVlKVxuICAgICAgICAgIHBsYWNlaG9sZGVyLl9vcmlnTm9kZSA9IGVsXG4gICAgICAgICAgcGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnd2VleC1zdGlja3ktcGxhY2Vob2xkZXInKVxuICAgICAgICAgIGVsLl9wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyXG4gICAgICAgIH1cbiAgICAgICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwuX3BsYWNlaG9sZGVyLCBlbClcbiAgICAgICAgZWwuc3R5bGUud2lkdGggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkud2lkdGhcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnd2VleC1zdGlja3knKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVTdGlja3kgKGVsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBlbC5fc3RpY2t5ID09PSAndW5kZWZpbmVkJ1xuICAgICAgICB8fCBlbC5fc3RpY2t5ID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFt2dWUtcmVuZGVyXSBoZWFkZXIgcmVtb3ZlIHN0aWNreWAsIGVsKVxuICAgICAgfVxuICAgICAgZWwuX3N0aWNreSA9IGZhbHNlXG4gICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsLl9wbGFjZWhvbGRlcilcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3dlZXgtc3RpY2t5JylcbiAgICB9LFxuXG4gICAgcmVsb2FkU3RpY2t5Q2hpbGRyZW4gKCkge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy4kZWxcbiAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm5cbiAgICAgIGNvbnN0IHN0aWNreUNoaWxkcmVuID0gW11cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzdGlja3ldJylcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV1cbiAgICAgICAgaWYgKC93ZWV4LXN0aWNreS1wbGFjZWhvbGRlci8udGVzdChjaGlsZC5jbGFzc05hbWUpKSB7ICAvLyBpcyBhIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIGNvbnN0IG9yaWdOb2RlID0gY2hpbGQuX29yaWdOb2RlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW9yaWdOb2RlXG4gICAgICAgICAgICB8fCAhb3JpZ05vZGUucGFyZW50Tm9kZVxuICAgICAgICAgICAgfHwgb3JpZ05vZGUucGFyZW50Tm9kZSAhPT0gY2hpbGQucGFyZW50Tm9kZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7ICAvLyBpcyBhIHN0aWNreSBub2RlLlxuICAgICAgICAgIHN0aWNreUNoaWxkcmVuLnB1c2goY2hpbGQpXG4gICAgICAgICAgaWYgKCFjaGlsZC5fc3RpY2t5KSB7XG4gICAgICAgICAgICBjaGlsZC5faW5pdE9mZnNldFRvcCA9IGNoaWxkLm9mZnNldFRvcFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fc3RpY2t5Q2hpbGRyZW4gPSBzdGlja3lDaGlsZHJlblxuICAgIH0sXG5cbiAgICBoYW5kbGVTY3JvbGwgKGV2ZW50KSB7XG4gICAgICB3ZWV4LnV0aWxzLmdldFRocm90dGxlTGF6eWxvYWQoMjUsIHRoaXMuJGVsLCAnc2Nyb2xsJykoKVxuICAgICAgZ2V0VGhyb3R0bGVkU2Nyb2xsKHRoaXMpKGV2ZW50KVxuXG4gICAgICB0aGlzLnByb2Nlc3NTdGlja3koKVxuXG4gICAgICAvLyBmaXJlIGxvYWRtb3JlIGV2ZW50LlxuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLiRyZWZzLmlubmVyXG4gICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgY29uc3QgaW5uZXJMZW5ndGggPSB0aGlzLnNjcm9sbERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnXG4gICAgICAgICAgPyB0aGlzLl9pbm5lcldpZHRoXG4gICAgICAgICAgOiB0aGlzLl9pbm5lckhlaWdodFxuICAgICAgICBpZiAoIXRoaXMuX2lubmVyTGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5faW5uZXJMZW5ndGggPSBpbm5lckxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbm5lckxlbmd0aCAhPT0gaW5uZXJMZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl9pbm5lckxlbmd0aCA9IGlubmVyTGVuZ3RoXG4gICAgICAgICAgdGhpcy5fbG9hZG1vcmVSZXNldCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbG9hZG1vcmVSZXNldCAmJiB0aGlzLnJlYWNoQm90dG9tKHRoaXMubG9hZG1vcmVvZmZzZXQpKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZG1vcmVSZXNldCA9IGZhbHNlXG4gICAgICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgd2VleC51dGlscy5kaXNwYXRjaE5hdGl2ZUV2ZW50KGVsLCAnbG9hZG1vcmUnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWFjaFRvcCAoKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy4kcmVmcy53cmFwcGVyXG4gICAgICByZXR1cm4gKCEhd3JhcHBlcikgJiYgKHdyYXBwZXIuc2Nyb2xsVG9wIDw9IDApXG4gICAgfSxcblxuICAgIHJlYWNoQm90dG9tIChvZmZzZXQpIHtcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLiRyZWZzLndyYXBwZXJcbiAgICAgIGNvbnN0IGlubmVyID0gdGhpcy4kcmVmcy5pbm5lclxuICAgICAgb2Zmc2V0ID0gcGFyc2VJbnQob2Zmc2V0IHx8IDApICogd2VleC5jb25maWcuZW52LnNjYWxlXG5cbiAgICAgIGlmICh3cmFwcGVyICYmIGlubmVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuc2Nyb2xsRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCdcbiAgICAgICAgICA/ICd3aWR0aCdcbiAgICAgICAgICA6ICdoZWlnaHQnXG4gICAgICAgIGNvbnN0IGlubmVyTGVuZ3RoID0gdGhpc1tgX2lubmVyJHtrZXlbMF0udG9VcHBlckNhc2UoKX0ke2tleS5zdWJzdHIoMSl9YF1cbiAgICAgICAgY29uc3Qgd3JhcHBlckxlbmd0aCA9IHRoaXNbYF93cmFwcGVyJHtrZXlbMF0udG9VcHBlckNhc2UoKX0ke2tleS5zdWJzdHIoMSl9YF1cbiAgICAgICAgY29uc3Qgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5zY3JvbGxEaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJ1xuICAgICAgICAgID8gd3JhcHBlci5zY3JvbGxMZWZ0XG4gICAgICAgICAgOiB3cmFwcGVyLnNjcm9sbFRvcFxuICAgICAgICByZXR1cm4gc2Nyb2xsT2Zmc2V0ID49IGlubmVyTGVuZ3RoIC0gd3JhcHBlckxlbmd0aCAtIG9mZnNldFxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSxcblxuICAgIGhhbmRsZVRvdWNoU3RhcnQgKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5fbG9hZGluZyB8fCB0aGlzLl9yZWZyZXNoKSB7XG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgICAgdGhpcy5fdG91Y2hQYXJhbXMgPSB7XG4gICAgICAgICAgcmVhY2hUb3A6IHRoaXMucmVhY2hUb3AoKSxcbiAgICAgICAgICByZWFjaEJvdHRvbTogdGhpcy5yZWFjaEJvdHRvbSgpLFxuICAgICAgICAgIHN0YXJ0VG91Y2hFdmVudDogdG91Y2gsXG4gICAgICAgICAgc3RhcnRYOiB0b3VjaC5wYWdlWCxcbiAgICAgICAgICBzdGFydFk6IHRvdWNoLnBhZ2VZLFxuICAgICAgICAgIHRpbWVTdGFtcDogZXZlbnQudGltZVN0YW1wXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlVG91Y2hNb3ZlIChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLl90b3VjaFBhcmFtcyB8fCAhdGhpcy5fcmVmcmVzaCAmJiAhdGhpcy5fbG9hZGluZykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyID0gdGhpcy4kcmVmcy5pbm5lclxuICAgICAgY29uc3QgeyBzdGFydFksIHJlYWNoVG9wLCByZWFjaEJvdHRvbSB9ID0gdGhpcy5fdG91Y2hQYXJhbXNcbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSB0b3VjaC5wYWdlWSAtIHN0YXJ0WVxuICAgICAgICBjb25zdCBkaXIgPSBvZmZzZXRZID4gMCA/ICdkb3duJyA6ICd1cCdcbiAgICAgICAgdGhpcy5fdG91Y2hQYXJhbXMub2Zmc2V0WSA9IG9mZnNldFlcbiAgICAgICAgaWYgKHRoaXMuX3JlZnJlc2ggJiYgKGRpciA9PT0gJ2Rvd24nKSAmJiByZWFjaFRvcCkge1xuICAgICAgICAgIHRoaXMuX3JlZnJlc2gucHVsbGluZ0Rvd24ob2Zmc2V0WSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9sb2FkaW5nICYmIChkaXIgPT09ICd1cCcpICYmIHJlYWNoQm90dG9tKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZGluZy5wdWxsaW5nVXAoLW9mZnNldFkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlVG91Y2hFbmQgKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuX3RvdWNoUGFyYW1zIHx8ICF0aGlzLl9yZWZyZXNoICYmICF0aGlzLl9sb2FkaW5nKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLiRyZWZzLmlubmVyXG4gICAgICBjb25zdCB7IHN0YXJ0WSwgcmVhY2hUb3AsIHJlYWNoQm90dG9tIH0gPSB0aGlzLl90b3VjaFBhcmFtc1xuICAgICAgaWYgKGlubmVyKSB7XG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IHRvdWNoLnBhZ2VZIC0gc3RhcnRZXG4gICAgICAgIGNvbnN0IGRpciA9IG9mZnNldFkgPiAwID8gJ2Rvd24nIDogJ3VwJ1xuICAgICAgICB0aGlzLl90b3VjaFBhcmFtcy5vZmZzZXRZID0gb2Zmc2V0WVxuICAgICAgICBpZiAodGhpcy5fcmVmcmVzaCAmJiAoZGlyID09PSAnZG93bicpICYmIHJlYWNoVG9wKSB7XG4gICAgICAgICAgdGhpcy5fcmVmcmVzaC5wdWxsaW5nRW5kKClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9sb2FkaW5nICYmIChkaXIgPT09ICd1cCcpICYmIHJlYWNoQm90dG9tKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZGluZy5wdWxsaW5nRW5kKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMuX3RvdWNoUGFyYW1zXG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHNjcm9sbGFibGUgZnJvbSAnLi9zY3JvbGxhYmxlJ1xuXG5leHBvcnQge1xuICBzY3JvbGxhYmxlXG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHNjcm9sbGFibGUgfSBmcm9tICcuL21peGlucydcblxuZnVuY3Rpb24gZ2V0TGlzdCAod2VleCkge1xuICBjb25zdCB7XG4gICAgZXh0cmFjdENvbXBvbmVudFN0eWxlXG4gIH0gPSB3ZWV4XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC1saXN0JyxcbiAgICBtaXhpbnM6IFtzY3JvbGxhYmxlXSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgd3JhcHBlckNsYXNzICgpIHtcbiAgICAgICAgY29uc3QgY2xhc3NBcnJheSA9IFsnd2VleC1saXN0JywgJ3dlZXgtbGlzdC13cmFwcGVyJywgJ3dlZXgtY3QnXVxuICAgICAgICB0aGlzLl9yZWZyZXNoICYmIGNsYXNzQXJyYXkucHVzaCgnd2l0aC1yZWZyZXNoJylcbiAgICAgICAgdGhpcy5fbG9hZGluZyAmJiBjbGFzc0FycmF5LnB1c2goJ3dpdGgtbG9hZGluZycpXG4gICAgICAgIHJldHVybiBjbGFzc0FycmF5LmpvaW4oJyAnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICBjcmVhdGVDaGlsZHJlbiAoaCkge1xuICAgICAgICBjb25zdCBzbG90cyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW11cbiAgICAgICAgdGhpcy5fY2VsbHMgPSBzbG90cy5maWx0ZXIodm5vZGUgPT4ge1xuICAgICAgICAgIGlmICghdm5vZGUudGFnICYmICF2bm9kZS5jb21wb25lbnRPcHRpb25zKSByZXR1cm4gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGgoJ2FydGljbGUnLCB7XG4gICAgICAgICAgICByZWY6ICdpbm5lcicsXG4gICAgICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtbGlzdC1pbm5lciB3ZWV4LWN0J1xuICAgICAgICAgIH0sIHRoaXMuX2NlbGxzKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgdGhpcy53ZWV4VHlwZSA9ICdsaXN0J1xuXG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KClcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdtYWluJywge1xuICAgICAgICByZWY6ICd3cmFwcGVyJyxcbiAgICAgICAgYXR0cnM6IHsgJ3dlZXgtdHlwZSc6ICdsaXN0JyB9LFxuICAgICAgICBzdGF0aWNDbGFzczogdGhpcy53cmFwcGVyQ2xhc3MsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgc2Nyb2xsOiB0aGlzLmhhbmRsZVNjcm9sbCxcbiAgICAgICAgICB0b3VjaHN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgICAgdG91Y2htb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgICAgICB0b3VjaGVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZFxuICAgICAgICB9LFxuICAgICAgICBzdGF0aWNTdHlsZTogZXh0cmFjdENvbXBvbmVudFN0eWxlKHRoaXMpXG4gICAgICB9LCB0aGlzLmNyZWF0ZUNoaWxkcmVuKGNyZWF0ZUVsZW1lbnQpKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICB3ZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdsaXN0JywgZ2V0TGlzdCh3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHNjcm9sbGFibGUgfSBmcm9tICcuL21peGlucydcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsZXIgKHdlZXgpIHtcbiAgY29uc3Qge1xuICAgIGV4dHJhY3RDb21wb25lbnRTdHlsZVxuICB9ID0gd2VleFxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3dlZXgtc2Nyb2xsZXInLFxuICAgIG1peGluczogW3Njcm9sbGFibGVdLFxuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGxEaXJlY3Rpb246IHtcbiAgICAgICAgdHlwZTogW1N0cmluZ10sXG4gICAgICAgIGRlZmF1bHQ6ICd2ZXJ0aWNhbCcsXG4gICAgICAgIHZhbGlkYXRvciAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10uaW5kZXhPZih2YWx1ZSkgIT09IC0xXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JvbGxhYmxlOiB7XG4gICAgICAgIHR5cGU6IFtCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgIHdyYXBwZXJDbGFzcyAoKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzQXJyYXkgPSBbJ3dlZXgtc2Nyb2xsZXInLCAnd2VleC1zY3JvbGxlci13cmFwcGVyJywgJ3dlZXgtY3QnXVxuICAgICAgICBpZiAodGhpcy5zY3JvbGxEaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgIGNsYXNzQXJyYXkucHVzaCgnd2VleC1zY3JvbGxlci1ob3Jpem9udGFsJylcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjbGFzc0FycmF5LnB1c2goJ3dlZXgtc2Nyb2xsZXItdmVydGljYWwnKVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zY3JvbGxhYmxlKSB7XG4gICAgICAgICAgY2xhc3NBcnJheS5wdXNoKCd3ZWV4LXNjcm9sbGVyLWRpc2FibGVkJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhc3NBcnJheS5qb2luKCcgJylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbWV0aG9kczoge1xuICAgICAgY3JlYXRlQ2hpbGRyZW4gKGgpIHtcbiAgICAgICAgY29uc3Qgc2xvdHMgPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdXG4gICAgICAgIHRoaXMuX2NlbGxzID0gc2xvdHMuZmlsdGVyKHZub2RlID0+IHtcbiAgICAgICAgICBpZiAoIXZub2RlLnRhZyAmJiAhdm5vZGUuY29tcG9uZW50T3B0aW9ucykgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBoKCdhcnRpY2xlJywge1xuICAgICAgICAgICAgcmVmOiAnaW5uZXInLFxuICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LXNjcm9sbGVyLWlubmVyIHdlZXgtY3QnXG4gICAgICAgICAgfSwgdGhpcy5fY2VsbHMpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVuZGVyIChjcmVhdGVFbGVtZW50KSB7XG4gICAgICB0aGlzLndlZXhUeXBlID0gJ3Njcm9sbGVyJ1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAvLyAgIHZhbGlkYXRlU3R5bGVzKCdzY3JvbGxlcicsIHRoaXMuJHZub2RlLmRhdGEgJiYgdGhpcy4kdm5vZGUuZGF0YS5zdGF0aWNTdHlsZSlcbiAgICAgIC8vIH1cblxuICAgICAgdGhpcy5fY2VsbHMgPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdXG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KClcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdtYWluJywge1xuICAgICAgICByZWY6ICd3cmFwcGVyJyxcbiAgICAgICAgYXR0cnM6IHsgJ3dlZXgtdHlwZSc6ICdzY3JvbGxlcicgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBzY3JvbGw6IHRoaXMuaGFuZGxlU2Nyb2xsLFxuICAgICAgICAgIHRvdWNoc3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcbiAgICAgICAgICB0b3VjaG1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgICAgIHRvdWNoZW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRpY0NsYXNzOiB0aGlzLndyYXBwZXJDbGFzcyxcbiAgICAgICAgc3RhdGljU3R5bGU6IGV4dHJhY3RDb21wb25lbnRTdHlsZSh0aGlzKVxuICAgICAgfSwgdGhpcy5jcmVhdGVDaGlsZHJlbihjcmVhdGVFbGVtZW50KSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnc2Nyb2xsZXInLCBnZXRTY3JvbGxlcih3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCAgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgd2F0ZXJmYWxsXG4gKiBOT1RFOiBvbmx5IHN1cHBvcnQgZnVsbCBzY3JlZW4gd2lkdGggd2F0ZXJmYWxsLlxuICovXG5cbmltcG9ydCB7IHNjcm9sbGFibGUgfSBmcm9tICcuL21peGlucydcblxuY29uc3QgTk9STUFMX0dBUF9TSVpFID0gMzJcbmNvbnN0IERFRkFVTFRfQ09MVU1OX0NPVU5UID0gMVxuXG5mdW5jdGlvbiBnZXRXYXRlcmZhbGwgKHdlZXgpIHtcbiAgY29uc3Qge1xuICAgIGV4dHJhY3RDb21wb25lbnRTdHlsZVxuICB9ID0gd2VleFxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3dlZXgtd2F0ZXJmYWxsJyxcbiAgICBtaXhpbnM6IFtzY3JvbGxhYmxlXSxcbiAgICBwcm9wczoge1xuICAgICAgLyoqXG4gICAgICAgKiBzcGVjaWZpZWQgZ2FwIHNpemUuXG4gICAgICAgKiB2YWx1ZSBjYW4gYmUgbnVtYmVyIG9yICdub3JtYWwnLiAnbm9ybWFsJyAoMzJweCkgYnkgZGVmYXVsdC5cbiAgICAgICAqL1xuICAgICAgY29sdW1uR2FwOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICAgIGRlZmF1bHQ6ICdub3JtYWwnLFxuICAgICAgICB2YWxpZGF0b3IgKHZhbCkge1xuICAgICAgICAgIGlmICghdmFsIHx8IHZhbCA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbCA9IHBhcnNlSW50KHZhbClcbiAgICAgICAgICByZXR1cm4gIWlzTmFOKHZhbCkgJiYgdmFsID4gMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiB0aGUgbWF4aW11bSBjb2x1bW4gY291bnRzLlxuICAgICAgICogdmFsdWUgY2FuIGJlIG51bWJlciBvciAnYXV0bycuIDEgYnkgZGVmYXVsdC5cbiAgICAgICAqL1xuICAgICAgY29sdW1uQ291bnQ6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgICAgZGVmYXVsdDogREVGQVVMVF9DT0xVTU5fQ09VTlQsXG4gICAgICAgIHZhbGlkYXRvciAodmFsKSB7XG4gICAgICAgICAgdmFsID0gcGFyc2VJbnQodmFsKVxuICAgICAgICAgIHJldHVybiAhaXNOYU4odmFsKSAmJiB2YWwgPiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIHRoZSBtaW1pbXVtIGNvbHVtbiB3aWR0aC5cbiAgICAgICAqIHZhbHVlIGNhbiBiZSBudW1iZXIgb3IgJ2F1dG8nLiAnYXV0bycgYnkgZGVmYXVsdC5cbiAgICAgICAqL1xuICAgICAgY29sdW1uV2lkdGg6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgICAgZGVmYXVsdDogJ2F1dG8nLFxuICAgICAgICB2YWxpZGF0b3IgKHZhbCkge1xuICAgICAgICAgIGlmICghdmFsIHx8IHZhbCA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWwgPSBwYXJzZUludCh2YWwpXG4gICAgICAgICAgcmV0dXJuICFpc05hTih2YWwpICYmIHZhbCA+IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3VudGVkICgpIHtcbiAgICAgIHRoaXMuX25leHRUaWNrKClcbiAgICB9LFxuXG4gICAgdXBkYXRlZCAoKSB7XG4gICAgICB0aGlzLiRuZXh0VGljayh0aGlzLl9uZXh0VGljaygpKVxuICAgIH0sXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICBfY3JlYXRlQ2hpbGRyZW4gKGgsIHJvb3RTdHlsZSkge1xuICAgICAgICBjb25zdCBzbG90cyA9ICh0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdKS5zbGljZSgpXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBbXVxuICAgICAgICB0aGlzLl9mb290ZXJzID0gW11cbiAgICAgICAgdGhpcy5fb3RoZXJzID0gW11cbiAgICAgICAgY29uc3QgbGVuID0gc2xvdHMubGVuZ3RoXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNvbnN0IHZub2RlID0gc2xvdHNbaV1cbiAgICAgICAgICBjb25zdCB0YWcgPVxuICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50T3B0aW9uc1xuICAgICAgICAgICAgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucy50YWdcbiAgICAgICAgICAgIHx8IHZub2RlLnRhZ1xuICAgICAgICAgIGlmICh0YWcgPT09ICdyZWZyZXNoJyB8fCB0YWcgPT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhZyA9PT0gJ3NlY3Rpb24nKSB7ICAvLyBjZWxsXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGFnID09PSAnaGVhZGVyJykge1xuICAgICAgICAgICAgdGhpcy5faGVhZGVycy5wdXNoKHZub2RlKVxuICAgICAgICAgICAgc2xvdHNbaV0gPSBudWxsIC8vIHNob3VsZCBub3QgaW5jbHVkZWQgaW4gZm9vdGVyLlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IHZub2RlID0gc2xvdHNbaV1cbiAgICAgICAgICBpZiAoIXZub2RlKSB7IGNvbnRpbnVlIH0gIC8vIGFscmVhZHkgdGFrZW4gYnkgaGVhZGVyLlxuICAgICAgICAgIGNvbnN0IHRhZyA9XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnRPcHRpb25zXG4gICAgICAgICAgICAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zLnRhZ1xuICAgICAgICAgICAgfHwgdm5vZGUudGFnXG4gICAgICAgICAgaWYgKHRhZyA9PT0gJ3JlZnJlc2gnIHx8IHRhZyA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGFnID09PSAnc2VjdGlvbicpIHsgLy8gY2VsbFxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhZyA9PT0gJ2hlYWRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zvb3RlcnMucHVzaCh2bm9kZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jZWxscyA9IHNsb3RzLmZpbHRlcih2bm9kZSA9PiB7XG4gICAgICAgICAgaWYgKCF2bm9kZSkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgY29uc3QgY21wT3B0cyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnNcbiAgICAgICAgICBpZiAoIXZub2RlLnRhZyAmJiAhY21wT3B0cykgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgY29uc3QgdGFnID0gY21wT3B0cyAmJiBjbXBPcHRzLnRhZyB8fCB2bm9kZS50YWdcbiAgICAgICAgICBpZiAodGFnID09PSAncmVmcmVzaCcgfHwgdGFnID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgICAgIHRoaXNbYF8ke3RhZ31gXSA9IHZub2RlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhZyAhPT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9vdGhlcnMucHVzaCh2bm9kZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuX3JlQ2FsYyhyb290U3R5bGUpXG4gICAgICAgIHRoaXMuX2dlbkNvbHVtbnMoaClcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW11cbiAgICAgICAgdGhpcy5fcmVmcmVzaCAmJiBjaGlsZHJlbi5wdXNoKHRoaXMuX3JlZnJlc2gpXG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KHRoaXMuX2hlYWRlcnMpXG4gICAgICAgIC8vIC5jb25jYXQodGhpcy5fb3RoZXJzKVxuICAgICAgICBjaGlsZHJlbi5wdXNoKGgoJ2h0bWw6ZGl2Jywge1xuICAgICAgICAgIHJlZjogJ2NvbHVtbnMnLFxuICAgICAgICAgIHN0YXRpY0NsYXNzOiAnd2VleC13YXRlcmZhbGwtaW5uZXItY29sdW1ucyB3ZWV4LWN0J1xuICAgICAgICB9LCB0aGlzLl9jb2x1bW5zKSlcbiAgICAgICAgY2hpbGRyZW4ucHVzaChoKCdodG1sOmRpdicsIHtcbiAgICAgICAgICByZWY6ICdmb290ZXJzJyxcbiAgICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtd2F0ZXJmYWxsLWZvb3RlcnMgd2VleC1jdCdcbiAgICAgICAgfSwgdGhpcy5fZm9vdGVycykpXG4gICAgICAgIHRoaXMuX2xvYWRpbmcgJiYgY2hpbGRyZW4ucHVzaCh0aGlzLl9sb2FkaW5nKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGgoJ2FydGljbGUnLCB7XG4gICAgICAgICAgICByZWY6ICdpbm5lcicsXG4gICAgICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtd2F0ZXJmYWxsLWlubmVyIHdlZXgtY3QnXG4gICAgICAgICAgfSwgY2hpbGRyZW4pXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIF9yZUNhbGMgKHJvb3RTdHlsZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogTk9URTogY29sdW1uR2FwIGFuZCBjb2x1bW5XaWR0aCBjYW4ndCBib3RoIGJlIGF1dG8uXG4gICAgICAgICAqIE5PVEU6IHRoZSBmb3JtdWxhOlxuICAgICAgICAgKiAgdG90YWxXaWR0aCA9IG4gKiB3ICsgKG4gLSAxKSAqIGdhcFxuICAgICAgICAgKiAxLiBpZiBjb2x1bW5Db3VudCA9IG4gdGhlbiBjYWxjIHdcbiAgICAgICAgICogMi4gaWYgY29sdW1uV2lkdGggPSB3IHRoZW4gY2FsYyBuXG4gICAgICAgICAqIDMuIGlmIGNvbHVtbldpZHRoID0gdyBhbmQgY29sdW1uQ291bnQgPSBuIHRoZW4gY2FsYyB0b3RhbFdpZHRoXG4gICAgICAgICAqICAgIDMuMSBpZiB0b3RhbFdpZHRoIDwgY3RXaWR0aCB0aGVuIGluY3JlYXNlIGNvbHVtbldpZHRoXG4gICAgICAgICAqICAgIDMuMiBpZiB0b3RhbFdpZHRoID4gY3RXaWR0aCB0aGVuIGRlY3JlYXNlIGNvbHVtbkNvdW50XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgd2lkdGgsIGdhcCwgY250LCBjdFdpZHRoXG4gICAgICAgIGNvbnN0IHNjYWxlID0gd2VleC5jb25maWcuZW52LnNjYWxlXG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWxcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q3RXaWR0aCAod2lkdGgsIHN0eWxlKSB7XG4gICAgICAgICAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmdcbiAgICAgICAgICAgID8gcGFyc2VJbnQoc3R5bGUucGFkZGluZykgKiAyXG4gICAgICAgICAgICA6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdMZWZ0IHx8IDApICsgcGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0IHx8IDApXG4gICAgICAgICAgcmV0dXJuIHdpZHRoIC0gcGFkZGluZ1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSkgeyAvLyBhbHJlYWR5IG1vdW50ZWRcbiAgICAgICAgICBjb25zdCBjc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClcbiAgICAgICAgICBjdFdpZHRoID0gZ2V0Q3RXaWR0aChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCwgY3N0eWxlKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBub3QgbW91bnRlZC5cbiAgICAgICAgICAvLyBvbmx5IHN1cHBvcnQgZnVsbCBzY3JlZW4gd2lkdGggZm9yIHdhdGVyZmFsbCBjb21wb25lbnQuXG4gICAgICAgICAgY3RXaWR0aCA9IGdldEN0V2lkdGgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCByb290U3R5bGUpXG4gICAgICAgIH1cblxuICAgICAgICBnYXAgPSB0aGlzLmNvbHVtbkdhcFxuICAgICAgICBpZiAoZ2FwICYmIGdhcCAhPT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICBnYXAgPSBwYXJzZUludChnYXApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZ2FwID0gTk9STUFMX0dBUF9TSVpFXG4gICAgICAgIH1cbiAgICAgICAgZ2FwID0gZ2FwICogc2NhbGVcblxuICAgICAgICB3aWR0aCA9IHRoaXMuY29sdW1uV2lkdGhcbiAgICAgICAgY250ID0gdGhpcy5jb2x1bW5Db3VudFxuICAgICAgICBpZiAod2lkdGggJiYgd2lkdGggIT09ICdhdXRvJykge1xuICAgICAgICAgIHdpZHRoID0gcGFyc2VJbnQod2lkdGgpICogc2NhbGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoY250ICYmIGNudCAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgY250ID0gcGFyc2VJbnQoY250KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMC4gaWYgIWNvbHVtbkNvdW50ICYmICFjb2x1bW5XaWR0aFxuICAgICAgICBpZiAoY250ID09PSAnYXV0bycgJiYgd2lkdGggPT09ICdhdXRvJykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdnVlLXJlbmRlcl0gd2F0ZXJmYWxsJ3MgY29sdW1uV2lkdGggYW5kIGNvbHVtbkNvdW50IHNob3VsZG4ndGBcbiAgICAgICAgICAgICsgYCBib3RoIGJlIGF1dG8gYXQgdGhlIHNhbWUgdGltZS5gKVxuICAgICAgICAgICAgY250ID0gREVGQVVMVF9DT0xVTU5fQ09VTlRcbiAgICAgICAgICAgIHdpZHRoID0gY3RXaWR0aFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAxLiBpZiBjb2x1bW5Db3VudCA9IG4gdGhlbiBjYWxjIHcuXG4gICAgICAgIGVsc2UgaWYgKGNudCAhPT0gJ2F1dG8nICYmIHdpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICB3aWR0aCA9IChjdFdpZHRoIC0gKGNudCAtIDEpICogZ2FwKSAvIGNudFxuICAgICAgICB9XG4gICAgICAgIC8vIDIuIGlmIGNvbHVtbldpZHRoID0gdyB0aGVuIGNhbGMgbi5cbiAgICAgICAgZWxzZSBpZiAoY250ID09PSAnYXV0bycgJiYgd2lkdGggIT09ICdhdXRvJykge1xuICAgICAgICAgIGNudCA9IChjdFdpZHRoICsgZ2FwKSAvICh3aWR0aCArIGdhcClcbiAgICAgICAgfVxuICAgICAgICAvLyAzLiBpZiBjb2x1bW5XaWR0aCA9IHcgYW5kIGNvbHVtbkNvdW50ID0gbiB0aGVuIGNhbGMgdG90YWxXaWR0aFxuICAgICAgICBlbHNlIGlmIChjbnQgIT09ICdhdXRvJyAmJiB3aWR0aCAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgbGV0IHRvdGFsV2lkdGhcbiAgICAgICAgICBjb25zdCBhZGp1c3RDb3VudEFuZFdpZHRoID0gKCkgPT4ge1xuICAgICAgICAgICAgdG90YWxXaWR0aCA9IGNudCAqIHdpZHRoICsgKGNudCAtIDEpICogZ2FwXG4gICAgICAgICAgICBpZiAodG90YWxXaWR0aCA8IGN0V2lkdGgpIHtcbiAgICAgICAgICAgICAgd2lkdGggKz0gKGN0V2lkdGggLSB0b3RhbFdpZHRoKSAvIGNudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG90YWxXaWR0aCA+IGN0V2lkdGggJiYgY250ID4gMSkge1xuICAgICAgICAgICAgICBjbnQtLVxuICAgICAgICAgICAgICBhZGp1c3RDb3VudEFuZFdpZHRoKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvdGFsV2lkdGggPiBjdFdpZHRoKSB7ICAvLyBjbnQgPT09IDFcbiAgICAgICAgICAgICAgd2lkdGggPSBjdFdpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkanVzdENvdW50QW5kV2lkdGgoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbHVtbkNvdW50ID0gY250XG4gICAgICAgIHRoaXMuX2NvbHVtbldpZHRoID0gd2lkdGhcbiAgICAgICAgdGhpcy5fY29sdW1uR2FwID0gZ2FwXG4gICAgICB9LFxuXG4gICAgICBfZ2VuQ29sdW1ucyAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb2x1bW5zID0gW11cbiAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLl9jZWxsc1xuICAgICAgICBjb25zdCBjb2x1bW5DbnQgPSB0aGlzLl9jb2x1bW5Db3VudFxuICAgICAgICBjb25zdCBsZW4gPSBjZWxscy5sZW5ndGhcbiAgICAgICAgY29uc3QgY29sdW1uQ2VsbHMgPSB0aGlzLl9jb2x1bW5DZWxscyA9IEFycmF5KGNvbHVtbkNudCkuam9pbignLicpLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH0pXG4gICAgICAgIC8vIHNwcmVhZCBjZWxscyB0byB0aGUgY29sdW1ucyB1c2luZyBzaW1wb2xlIHBvbGxpbmcgYWxnb3JpdGhtLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgKGNlbGxzW2ldLmRhdGEuYXR0cnMgfHwgKGNlbGxzW2ldLmRhdGEuYXR0cnMgPSB7fSkpWydkYXRhLWNlbGwnXSA9IGlcbiAgICAgICAgICBjb2x1bW5DZWxsc1tpICUgY29sdW1uQ250XS5wdXNoKGNlbGxzW2ldKVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uQ250OyBpKyspIHtcbiAgICAgICAgICB0aGlzLl9jb2x1bW5zLnB1c2goY3JlYXRlRWxlbWVudCgnaHRtbDpkaXYnLCB7XG4gICAgICAgICAgICByZWY6IGBjb2x1bW4ke2l9YCxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICdkYXRhLWNvbHVtbic6IGlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtY3QnLFxuICAgICAgICAgICAgc3RhdGljU3R5bGU6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuX2NvbHVtbldpZHRoICsgJ3B4JyxcbiAgICAgICAgICAgICAgbWFyZ2luTGVmdDogaSA9PT0gMCA/IDAgOiB0aGlzLl9jb2x1bW5HYXAgKyAncHgnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgY29sdW1uQ2VsbHNbaV0pKVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfbmV4dFRpY2sgKCkge1xuICAgICAgICB0aGlzLl9yZUxheW91dENoaWxkcmVuKClcbiAgICAgIH0sXG5cbiAgICAgIF9yZUxheW91dENoaWxkcmVuICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyZWF0IHRoZSBzaG9ydGVzdCBjb2x1bW4gYm90dG9tIGFzIHRoZSBtYXRjaCBzdGFuZGFyZC5cbiAgICAgICAgICogd2hpY2hldmVyIGNlbGwgZXhjZWVkZWQgaXQgd291bGQgYmUgcmVhcnJhbmdlZC5cbiAgICAgICAgICogMS4gbSA9IHNob3J0ZXN0IGNvbHVtbiBib3R0b20uXG4gICAgICAgICAqIDIuIGdldCBhbGwgY2VsbCBpZHMgd2hvIGlzIGJlbG93IG0uXG4gICAgICAgICAqIDMuIGNhbGN1bGF0ZSB3aGljaCBjZWxsIHNob3VsZCBiZSBpbiB3aGljaCBjb2x1bW4uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb2x1bW5DbnQgPSB0aGlzLl9jb2x1bW5Db3VudFxuICAgICAgICBjb25zdCBjb2x1bW5Eb21zID0gW11cbiAgICAgICAgY29uc3QgY29sdW1uQXBwZW5kRnJhZ21lbnRzID0gW11cbiAgICAgICAgY29uc3QgY29sdW1uQm90dG9tcyA9IFtdXG4gICAgICAgIGxldCBtaW5Cb3R0b20gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICAgICAgICBsZXQgbWluQm90dG9tQ29sdW1uSW5kZXggPSAwXG5cbiAgICAgICAgLy8gMS4gZmluZCB0aGUgc2hvcnRlc3QgY29sdW1uIGJvdHRvbS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5DbnQ7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNvbHVtbkRvbSA9IHRoaXMuX2NvbHVtbnNbaV0uZWxtXG4gICAgICAgICAgY29uc3QgbGFzdENoaWxkID0gY29sdW1uRG9tLmxhc3RFbGVtZW50Q2hpbGRcbiAgICAgICAgICBjb25zdCBib3R0b20gPSBsYXN0Q2hpbGQgPyBsYXN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDogMFxuICAgICAgICAgIGNvbHVtbkRvbXMucHVzaChjb2x1bW5Eb20pXG4gICAgICAgICAgY29sdW1uQm90dG9tc1tpXSA9IGJvdHRvbVxuICAgICAgICAgIGNvbHVtbkFwcGVuZEZyYWdtZW50cy5wdXNoKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSlcbiAgICAgICAgICBpZiAoYm90dG9tIDwgbWluQm90dG9tKSB7XG4gICAgICAgICAgICBtaW5Cb3R0b20gPSBib3R0b21cbiAgICAgICAgICAgIG1pbkJvdHRvbUNvbHVtbkluZGV4ID0gaVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIGdldCBhbGwgY2VsbCBpZHMgd2hvIGlzIGJlbG93IG0uXG4gICAgICAgIGNvbnN0IGJlbG93Q2VsbElkcyA9IFtdXG4gICAgICAgIGNvbnN0IGJlbG93Q2VsbHMgPSB7fVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHVtbkNudDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGkgPT09IG1pbkJvdHRvbUNvbHVtbkluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb2x1bW5Eb20gPSBjb2x1bW5Eb21zW2ldXG4gICAgICAgICAgY29uc3QgY2VsbHNJbkNvbHVtbiA9IGNvbHVtbkRvbS5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLndlZXgtY2VsbCcpXG4gICAgICAgICAgY29uc3QgbGVuID0gY2VsbHNJbkNvbHVtbi5sZW5ndGhcbiAgICAgICAgICBmb3IgKGxldCBqID0gbGVuIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxEb20gPSBjZWxsc0luQ29sdW1uW2pdXG4gICAgICAgICAgICBjb25zdCBjZWxsUmVjdCA9IGNlbGxEb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgIGlmIChjZWxsUmVjdC50b3AgPiBtaW5Cb3R0b20pIHtcbiAgICAgICAgICAgICAgY29uc3QgaWQgPSB+fmNlbGxEb20uZ2V0QXR0cmlidXRlKCdkYXRhLWNlbGwnKVxuICAgICAgICAgICAgICBiZWxvd0NlbGxJZHMucHVzaChpZClcbiAgICAgICAgICAgICAgYmVsb3dDZWxsc1tpZF0gPSB7IGVsbTogY2VsbERvbSwgaGVpZ2h0OiBjZWxsUmVjdC5oZWlnaHQgfVxuICAgICAgICAgICAgICBjb2x1bW5Cb3R0b21zW2ldIC09IGNlbGxSZWN0LmhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIGNhbGN1bGF0ZSB3aGljaCBjZWxsIHNob3VsZCBiZSBpbiB3aGljaCBjb2x1bW4gYW5kIHJlYXJyYW5nZSB0aGVtXG4gICAgICAgIC8vICBpbiB0aGUgZG9tIHRyZWUuXG4gICAgICAgIGJlbG93Q2VsbElkcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID4gYiB9KVxuICAgICAgICBjb25zdCBjZWxsSWRzTGVuID0gYmVsb3dDZWxsSWRzLmxlbmd0aFxuICAgICAgICBmdW5jdGlvbiBhZGRUb1Nob3J0ZXN0Q29sdW1uIChiZWxvd0NlbGwpIHtcbiAgICAgICAgICAvLyBmaW5kIHNob3J0ZXN0IGJvdHRvbS5cbiAgICAgICAgICBtaW5Cb3R0b20gPSBNYXRoLm1pbiguLi5jb2x1bW5Cb3R0b21zKVxuICAgICAgICAgIG1pbkJvdHRvbUNvbHVtbkluZGV4ID0gY29sdW1uQm90dG9tcy5pbmRleE9mKG1pbkJvdHRvbSlcbiAgICAgICAgICBjb25zdCB7IGVsbTogY2VsbEVsbSwgaGVpZ2h0OiBjZWxsSGVpZ2h0IH0gPSBiZWxvd0NlbGxcbiAgICAgICAgICBjb2x1bW5BcHBlbmRGcmFnbWVudHNbbWluQm90dG9tQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGNlbGxFbG0pXG4gICAgICAgICAgY29sdW1uQm90dG9tc1ttaW5Cb3R0b21Db2x1bW5JbmRleF0gKz0gY2VsbEhlaWdodFxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbElkc0xlbjsgaSsrKSB7XG4gICAgICAgICAgYWRkVG9TaG9ydGVzdENvbHVtbihiZWxvd0NlbGxzW2JlbG93Q2VsbElkc1tpXV0pXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5DbnQ7IGkrKykge1xuICAgICAgICAgIGNvbHVtbkRvbXNbaV0uYXBwZW5kQ2hpbGQoY29sdW1uQXBwZW5kRnJhZ21lbnRzW2ldKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgdGhpcy53ZWV4VHlwZSA9ICd3YXRlcmZhbGwnXG4gICAgICB0aGlzLl9jZWxscyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW11cbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKVxuICAgICAgfSlcbiAgICAgIGNvbnN0IG1lcmdlZFN0eWxlID0gZXh0cmFjdENvbXBvbmVudFN0eWxlKHRoaXMpXG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnbWFpbicsIHtcbiAgICAgICAgcmVmOiAnd3JhcHBlcicsXG4gICAgICAgIGF0dHJzOiB7ICd3ZWV4LXR5cGUnOiAnd2F0ZXJmYWxsJyB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHNjcm9sbDogdGhpcy5oYW5kbGVTY3JvbGwsXG4gICAgICAgICAgdG91Y2hzdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgICAgIHRvdWNobW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICAgICAgdG91Y2hlbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmRcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LXdhdGVyZmFsbCB3ZWV4LXdhdGVyZmFsbC13cmFwcGVyIHdlZXgtY3QnLFxuICAgICAgICBzdGF0aWNTdHlsZTogbWVyZ2VkU3R5bGVcbiAgICAgIH0sIHRoaXMuX2NyZWF0ZUNoaWxkcmVuKGNyZWF0ZUVsZW1lbnQsIG1lcmdlZFN0eWxlKSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnd2F0ZXJmYWxsJywgZ2V0V2F0ZXJmYWxsKHdlZXgpKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SGVhZGVyICh3ZWV4KSB7XG4gIGNvbnN0IHsgZXh0cmFjdENvbXBvbmVudFN0eWxlIH0gPSB3ZWV4XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy4kdm5vZGUuZGF0YS5hdHRyc1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2h0bWw6aGVhZGVyJywge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICd3ZWV4LXR5cGUnOiAnaGVhZGVyJyxcbiAgICAgICAgICBzdGlja3k6IChcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC53ZWV4VHlwZSA9PT0gJ3dhdGVyZmFsbCdcbiAgICAgICAgICAgICYmIHR5cGVvZiBhdHRycy5zdGlja3kgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgKSA/IHVuZGVmaW5lZCA6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogJ2hlYWRlcicsXG4gICAgICAgIHN0YXRpY0NsYXNzOiAnd2VleC1oZWFkZXIgd2VleC1jdCcsXG4gICAgICAgIHN0YXRpY1N0eWxlOiBleHRyYWN0Q29tcG9uZW50U3R5bGUodGhpcylcbiAgICAgIH0sIHRoaXMuJHNsb3RzLmRlZmF1bHQpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ2hlYWRlcicsIGdldEhlYWRlcih3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIGdldExvYWRpbmcgKCkge1xuICBjb25zdCB7IGV4dHJhY3RDb21wb25lbnRTdHlsZSB9ID0gd2VleFxuICBjb25zdCB7IGRpc3BhdGNoTmF0aXZlRXZlbnQgfSA9IHdlZXgudXRpbHNcblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICd3ZWV4LWxvYWRpbmcnLFxuICAgIHByb3BzOiB7XG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJ3Nob3cnLFxuICAgICAgICB2YWxpZGF0b3IgKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIFsnc2hvdycsICdoaWRlJ10uaW5kZXhPZih2YWx1ZSkgIT09IC0xXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGEgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiAtMSxcbiAgICAgICAgdmlld0hlaWdodDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZCAoKSB7XG4gICAgICB0aGlzLnZpZXdIZWlnaHQgPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHRcbiAgICAgIGlmICh0aGlzLmRpc3BsYXkgPT09ICdoaWRlJykge1xuICAgICAgICB0aGlzLmhlaWdodCA9IDBcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMudmlld0hlaWdodFxuICAgICAgfVxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgIGhlaWdodCAodmFsKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGAke3ZhbH1weGBcbiAgICAgICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gb2Zmc2V0XG4gICAgICAgIHRoaXMuJGVsLnN0eWxlLmJvdHRvbSA9IG9mZnNldFxuICAgICAgfSxcbiAgICAgIGRpc3BsYXkgKHZhbCkge1xuICAgICAgICBpZiAodmFsID09PSAnaGlkZScpIHtcbiAgICAgICAgICB0aGlzLmhlaWdodCA9IDBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMudmlld0hlaWdodFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICBwdWxsaW5nIChvZmZzZXRZID0gMCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IG9mZnNldFlcbiAgICAgIH0sXG4gICAgICBwdWxsaW5nVXAgKG9mZnNldFkpIHtcbiAgICAgICAgdGhpcy4kZWwuc3R5bGUudHJhbnNpdGlvbiA9IGBoZWlnaHQgMHNgXG4gICAgICAgIHRoaXMucHVsbGluZyhvZmZzZXRZKVxuICAgICAgfSxcbiAgICAgIHB1bGxpbmdFbmQgKCkge1xuICAgICAgICB0aGlzLiRlbCAmJiAodGhpcy4kZWwuc3R5bGUudHJhbnNpdGlvbiA9IGBoZWlnaHQgLjJzYClcbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID49IHRoaXMudmlld0hlaWdodCkge1xuICAgICAgICAgIHRoaXMucHVsbGluZyh0aGlzLnZpZXdIZWlnaHQpXG4gICAgICAgICAgaWYgKHRoaXMuJGVsKSB7XG4gICAgICAgICAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KHRoaXMuJGVsLCAnbG9hZGluZycpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMucHVsbGluZygwKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0Q2hpbGRyZW4gKCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW11cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheSA9PT0gJ3Nob3cnKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuLmZpbHRlcih2bm9kZSA9PiB7XG4gICAgICAgICAgcmV0dXJuICEodm5vZGUuY29tcG9uZW50T3B0aW9uc1xuICAgICAgICAgICAgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucy50YWcgPT09ICdsb2FkaW5nLWluZGljYXRvcicpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcbiAgICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuJHBhcmVudC5fbG9hZGluZyA9IHRoaXNcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdhc2lkZScsIHtcbiAgICAgICAgcmVmOiAnbG9hZGluZycsXG4gICAgICAgIGF0dHJzOiB7ICd3ZWV4LXR5cGUnOiAnbG9hZGluZycgfSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LWxvYWRpbmcgd2VleC1jdCcsXG4gICAgICAgIHN0YXRpY1N0eWxlOiBleHRyYWN0Q29tcG9uZW50U3R5bGUodGhpcylcbiAgICAgIH0sIHRoaXMuZ2V0Q2hpbGRyZW4oKSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnbG9hZGluZycsIGdldExvYWRpbmcod2VleCkpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5mdW5jdGlvbiBnZXRSZWZyZXNoICh3ZWV4KSB7XG4gIGNvbnN0IHsgZXh0cmFjdENvbXBvbmVudFN0eWxlIH0gPSB3ZWV4XG4gIGNvbnN0IHsgZGlzcGF0Y2hOYXRpdmVFdmVudCB9ID0gd2VleC51dGlsc1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3dlZXgtcmVmcmVzaCcsXG4gICAgcHJvcHM6IHtcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnc2hvdycsXG4gICAgICAgIHZhbGlkYXRvciAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gWydzaG93JywgJ2hpZGUnXS5pbmRleE9mKHZhbHVlKSAhPT0gLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXN0RHk6IDAsXG4gICAgICAgIHZpZXdIZWlnaHQ6IDAsXG4gICAgICAgIGhlaWdodDogLTFcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgdGhpcy52aWV3SGVpZ2h0ID0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0XG4gICAgICBpZiAodGhpcy5kaXNwbGF5ID09PSAnaGlkZScpIHtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnZpZXdIZWlnaHRcbiAgICAgIH1cbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICBoZWlnaHQgKHZhbCkge1xuICAgICAgICB0aGlzLiRlbC5zdHlsZS5oZWlnaHQgPSBgJHt2YWx9cHhgXG4gICAgICB9LFxuICAgICAgZGlzcGxheSAodmFsKSB7XG4gICAgICAgIGlmICh2YWwgPT09ICdoaWRlJykge1xuICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy52aWV3SGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHB1bGxpbmcgKG9mZnNldFkgPSAwKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gb2Zmc2V0WVxuICAgICAgICBpZiAodGhpcy4kZWwpIHtcbiAgICAgICAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KHRoaXMuJGVsLCAncHVsbGluZ2Rvd24nLCB7XG4gICAgICAgICAgICBkeTogb2Zmc2V0WSAtIHRoaXMubGFzdER5LFxuICAgICAgICAgICAgcHVsbGluZ0Rpc3RhbmNlOiBvZmZzZXRZLFxuICAgICAgICAgICAgdmlld0hlaWdodDogdGhpcy52aWV3SGVpZ2h0XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3REeSA9IG9mZnNldFlcbiAgICAgIH0sXG4gICAgICBwdWxsaW5nRG93biAob2Zmc2V0WSkge1xuICAgICAgICB0aGlzLiRlbC5zdHlsZS50cmFuc2l0aW9uID0gYGhlaWdodCAwc2BcbiAgICAgICAgdGhpcy5wdWxsaW5nKG9mZnNldFkpXG4gICAgICB9LFxuICAgICAgcHVsbGluZ0VuZCAoKSB7XG4gICAgICAgIHRoaXMuJGVsICYmICh0aGlzLiRlbC5zdHlsZS50cmFuc2l0aW9uID0gYGhlaWdodCAuMnNgKVxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPj0gdGhpcy52aWV3SGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5wdWxsaW5nKHRoaXMudmlld0hlaWdodClcbiAgICAgICAgICBpZiAodGhpcy4kZWwpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQodGhpcy4kZWwsICdyZWZyZXNoJylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5wdWxsaW5nKDApXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRDaGlsZHJlbiAoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXVxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ID09PSAnc2hvdycpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGRyZW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW4uZmlsdGVyKHZub2RlID0+IHtcbiAgICAgICAgICByZXR1cm4gISh2bm9kZS5jb21wb25lbnRPcHRpb25zXG4gICAgICAgICAgICAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zLnRhZyA9PT0gJ2xvYWRpbmctaW5kaWNhdG9yJylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgdGhpcy4kcGFyZW50Ll9yZWZyZXNoID0gdGhpc1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2FzaWRlJywge1xuICAgICAgICByZWY6ICdyZWZyZXNoJyxcbiAgICAgICAgYXR0cnM6IHsgJ3dlZXgtdHlwZSc6ICdyZWZyZXNoJyB9LFxuICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtcmVmcmVzaCB3ZWV4LWN0JyxcbiAgICAgICAgc3RhdGljU3R5bGU6IGV4dHJhY3RDb21wb25lbnRTdHlsZSh0aGlzKVxuICAgICAgfSwgdGhpcy5nZXRDaGlsZHJlbigpKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICB3ZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdyZWZyZXNoJywgZ2V0UmVmcmVzaCh3ZWV4KSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5sZXQgZXh0cmFjdENvbXBvbmVudFN0eWxlLCBnZXRSZ2IsIGxvb3BBcnJheSwgZ2V0U3R5bGVTaGVldEJ5SWRcblxuY29uc3QgX2NzcyA9IGBcbi53ZWV4LXJlZnJlc2gtaW5kaWNhdG9yLFxuLndlZXgtbG9hZGluZy1pbmRpY2F0b3Ige1xuICB3aWR0aDogMXJlbSAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDFyZW0gIWltcG9ydGFudDtcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcbiAgLW1vei1ib3gtYWxpZ246IGNlbnRlcjtcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XG4gIC1tb3otYm94LXBhY2s6IGNlbnRlcjtcbiAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG59XG4ud2VleC1yZWZyZXNoLWluZGljYXRvcjpiZWZvcmUsXG4ud2VleC1sb2FkaW5nLWluZGljYXRvcjpiZWZvcmUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgY29udGVudDogJyc7XG4gIGZvbnQtc2l6ZTogMC4xNnJlbTtcbiAgd2lkdGg6IDAuNWVtO1xuICBoZWlnaHQ6IDAuNWVtO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0ZXh0LWluZGVudDogLTk5OTllbTtcbiAgLXdlYmtpdC1hbmltYXRpb246IHdlZXgtc3Bpbm5lciAxLjFzIGluZmluaXRlIGVhc2U7XG4gIC1tb3otYW5pbWF0aW9uOiB3ZWV4LXNwaW5uZXIgMS4xcyBpbmZpbml0ZSBlYXNlO1xuICBhbmltYXRpb246IHdlZXgtc3Bpbm5lciAxLjFzIGluZmluaXRlIGVhc2U7XG59XG5cbkAtd2Via2l0LWtleWZyYW1lcyB3ZWV4LXNwaW5uZXIge1xuICAwJSxcbiAgMTAwJSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0xLjNlbSAwZW0gMGVtICNmZmZmZmYsIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIDAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuM2VtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIC0wLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xuICB9XG4gIDExLjI1JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0xLjNlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMC45ZW0gLTAuOWVtIDAgMGVtICNmZmZmZmYsIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIDAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuM2VtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0wLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xuICB9XG4gIDI1JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0xLjNlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMS4yNWVtIDBlbSAwIDBlbSAjZmZmZmZmLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIDAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuM2VtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0wLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICB9XG4gIDM3LjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAxLjI1ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMC44NzVlbSAwLjg3NWVtIDAgMGVtICNmZmZmZmYsIDBlbSAxLjI1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgNTAlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjI1ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgMC44NzVlbSAwLjg3NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMGVtIDEuMjVlbSAwIDBlbSAjZmZmZmZmLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgNjEuMjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjI1ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMC44NzVlbSAwLjg3NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgMGVtIDEuMjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIC0wLjllbSAwLjllbSAwIDBlbSAjZmZmZmZmLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgNzUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjI1ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMC44NzVlbSAwLjg3NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMGVtIDEuMjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIC0wLjllbSAwLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIC0xLjNlbSAwZW0gMCAwZW0gI2ZmZmZmZiwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgODcuNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMS4zZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIDAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgLTEuM2VtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIC0wLjllbSAtMC45ZW0gMCAwZW0gI2ZmZmZmZjtcbiAgfVxufVxuXG5Aa2V5ZnJhbWVzIHdlZXgtc3Bpbm5lciB7XG4gIDAlLFxuICAxMDAlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gI2ZmZmZmZiwgMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS4yNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuODc1ZW0gMC44NzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAxLjI1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XG4gIH1cbiAgMTEuMjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAwLjllbSAtMC45ZW0gMCAwZW0gI2ZmZmZmZiwgMS4yNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuODc1ZW0gMC44NzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAxLjI1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XG4gIH1cbiAgMjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTEuM2VtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAwLjllbSAtMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAxLjI1ZW0gMGVtIDAgMGVtICNmZmZmZmYsIDAuODc1ZW0gMC44NzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAxLjI1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgMzcuNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMS4zZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gI2ZmZmZmZiwgMGVtIDEuMjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0wLjllbSAwLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjNlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgfVxuICA1MCUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMS4zZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAwZW0gMS4yNWVtIDAgMGVtICNmZmZmZmYsIC0wLjllbSAwLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjNlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgfVxuICA2MS4yNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMS4zZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgLTAuOWVtIDAuOWVtIDAgMGVtICNmZmZmZmYsIC0xLjNlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgfVxuICA3NSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMS4zZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuOWVtIC0wLjllbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuMjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwLjg3NWVtIDAuODc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMS4yNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgLTAuOWVtIDAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgLTEuM2VtIDBlbSAwIDBlbSAjZmZmZmZmLCAtMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgfVxuICA4Ny41JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0xLjNlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMC45ZW0gLTAuOWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS4yNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDAuODc1ZW0gMC44NzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAxLjI1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMC45ZW0gMC45ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAtMS4zZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgLTAuOWVtIC0wLjllbSAwIDBlbSAjZmZmZmZmO1xuICB9XG59XG5gXG5cbmZ1bmN0aW9uIGdldFN0eWxlU2hlZXQgKHNwaW5uZXJWbSkge1xuICBpZiAoc3Bpbm5lclZtLl9zdHlsZVNoZWV0KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgc3Bpbm5lclZtLl9zdHlsZVNoZWV0ID0gZ2V0U3R5bGVTaGVldEJ5SWQoJ3dlZXgtY21wLWxvYWRpbmctaW5kaWNhdG9yJylcbn1cblxuZnVuY3Rpb24gc2V0S2V5ZnJhbWVDb2xvciAoc3Bpbm5lclZtLCB2YWwpIHtcbiAgZ2V0U3R5bGVTaGVldChzcGlubmVyVm0pXG4gIGNvbnN0IGtleWZyYW1lUnVsZXMgPSBjb21wdXRlS2V5RnJhbWVSdWxlcyh2YWwpXG4gIGNvbnN0IHJ1bGVzID0gc3Bpbm5lclZtLl9zdHlsZVNoZWV0LnJ1bGVzIHx8IHNwaW5uZXJWbS5fc3R5bGVTaGVldC5jc3NSdWxlc1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBydWxlcy5pdGVtKGkpXG4gICAgaWYgKChpdGVtLnR5cGUgPT09IENTU1J1bGUuS0VZRlJBTUVTX1JVTEVcbiAgICAgICAgICB8fCBpdGVtLnR5cGUgPT09IENTU1J1bGUuV0VCS0lUX0tFWUZSQU1FU19SVUxFKVxuICAgICAgICAmJiBpdGVtLm5hbWUgPT09ICd3ZWV4LXNwaW5uZXInKSB7XG4gICAgICBjb25zdCBjc3NSdWxlcyA9IGl0ZW0uY3NzUnVsZXNcbiAgICAgIGZvciAobGV0IGogPSAwLCBtID0gY3NzUnVsZXMubGVuZ3RoOyBqIDwgbTsgaisrKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lID0gY3NzUnVsZXNbal1cbiAgICAgICAgaWYgKGtleWZyYW1lLnR5cGUgPT09IENTU1J1bGUuS0VZRlJBTUVfUlVMRVxuICAgICAgICAgIHx8IGtleWZyYW1lLnR5cGUgPT09IENTU1J1bGUuV0VCS0lUX0tFWUZSQU1FX1JVTEUpIHtcbiAgICAgICAgICBrZXlmcmFtZS5zdHlsZS5ib3hTaGFkb3cgPSBrZXlmcmFtZVJ1bGVzW2pdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUtleUZyYW1lUnVsZXMgKHJnYikge1xuICBpZiAoIXJnYikge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHNjYWxlQXJyID0gW1xuICAgICcwZW0gLTEuM2VtIDBlbSAwZW0nLFxuICAgICcwLjllbSAtMC45ZW0gMCAwZW0nLFxuICAgICcxLjI1ZW0gMGVtIDAgMGVtJyxcbiAgICAnMC44NzVlbSAwLjg3NWVtIDAgMGVtJyxcbiAgICAnMGVtIDEuMjVlbSAwIDBlbScsXG4gICAgJy0wLjllbSAwLjllbSAwIDBlbScsXG4gICAgJy0xLjNlbSAwZW0gMCAwZW0nLFxuICAgICctMC45ZW0gLTAuOWVtIDAgMGVtJ11cbiAgY29uc3QgY29sb3JBcnIgPSBbXG4gICAgJzEnLFxuICAgICcwLjInLFxuICAgICcwLjInLFxuICAgICcwLjInLFxuICAgICcwLjInLFxuICAgICcwLjInLFxuICAgICcwLjUnLFxuICAgICcwLjcnXVxuICAgIC5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiAncmdiYSgnICsgcmdiLnIgKyAnLCcgKyByZ2IuZyArICcsJyArIHJnYi5iICsgJywnICsgZSArICcpJ1xuICAgIH0pXG4gIGNvbnN0IHJ1bGVzID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2FsZUFyci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRtcENvbG9yQXJyID0gbG9vcEFycmF5KGNvbG9yQXJyLCBpLCAncicpXG4gICAgcnVsZXMucHVzaChzY2FsZUFyci5tYXAoZnVuY3Rpb24gKHNjYWxlU3RyLCBpKSB7XG4gICAgICByZXR1cm4gc2NhbGVTdHIgKyAnICcgKyB0bXBDb2xvckFycltpXVxuICAgIH0pLmpvaW4oJywgJykpXG4gIH1cbiAgcmV0dXJuIHJ1bGVzXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NTdHlsZSAodm0pIHtcbiAgY29uc3Qgc3R5bGUgPSBleHRyYWN0Q29tcG9uZW50U3R5bGUodm0pXG4gIGNvbnN0IGNvbG9yID0gc3R5bGUuY29sb3JcbiAgY29uc3QgcmdiID0gY29sb3IgJiYgZ2V0UmdiKGNvbG9yKVxuICBpZiAocmdiKSB7XG4gICAgc2V0S2V5ZnJhbWVDb2xvcih2bSwgcmdiKVxuICB9XG4gIHJldHVybiBzdHlsZVxufVxuXG5jb25zdCBsb2FkaW5nSW5kaWNhdG9yID0ge1xuICBuYW1lOiAnd2VleC1sb2FkaW5nLWluZGljYXRvcicsXG4gIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgIHRoaXMud2VleFR5cGUgPSAnbG9hZGluZy1pbmRpY2F0b3InXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ21hcmsnLCB7XG4gICAgICBhdHRyczogeyAnd2VleC10eXBlJzogJ2xvYWRpbmctaW5kaWNhdG9yJyB9LFxuICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LWxvYWRpbmctaW5kaWNhdG9yIHdlZXgtY3QnLFxuICAgICAgc3RhdGljU3R5bGU6IHByb2Nlc3NTdHlsZSh0aGlzKVxuICAgIH0pXG4gIH0sXG4gIF9jc3Ncbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgZXh0cmFjdENvbXBvbmVudFN0eWxlID0gd2VleC5leHRyYWN0Q29tcG9uZW50U3R5bGVcbiAgICBnZXRSZ2IgPSB3ZWV4LnV0aWxzLmdldFJnYlxuICAgIGxvb3BBcnJheSA9IHdlZXgudXRpbHMubG9vcEFycmF5XG4gICAgZ2V0U3R5bGVTaGVldEJ5SWQgPSB3ZWV4LnV0aWxzLmdldFN0eWxlU2hlZXRCeUlkXG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnbG9hZGluZy1pbmRpY2F0b3InLCBsb2FkaW5nSW5kaWNhdG9yKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHNjcm9sbGFibGUgfSBmcm9tICcuL21peGlucydcblxuZnVuY3Rpb24gZ2V0TGlzdCAod2VleCkge1xuICBjb25zdCB7XG4gICAgZXh0cmFjdENvbXBvbmVudFN0eWxlXG4gIH0gPSB3ZWV4XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC1yZWN5Y2xlLWxpc3QnLFxuICAgIG1peGluczogW3Njcm9sbGFibGVdLFxuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGxEaXJlY3Rpb246IHtcbiAgICAgICAgdHlwZTogW1N0cmluZ10sXG4gICAgICAgIGRlZmF1bHQ6ICd2ZXJ0aWNhbCcsXG4gICAgICAgIHZhbGlkYXRvciAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10uaW5kZXhPZih2YWx1ZSkgIT09IC0xXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfaXRlbXM6IEFycmF5LFxuICAgICAgX3N3aXRjaDogU3RyaW5nXG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgd3JhcHBlckNsYXNzICgpIHtcbiAgICAgICAgY29uc3QgY2xhc3NBcnJheSA9IFsnd2VleC1yZWN5Y2xlJywgJ3dlZXgtcmVjeWNsZS13cmFwcGVyJywgJ3dlZXgtY3QnXVxuICAgICAgICB0aGlzLl9yZWZyZXNoICYmIGNsYXNzQXJyYXkucHVzaCgnd2l0aC1yZWZyZXNoJylcbiAgICAgICAgdGhpcy5fbG9hZGluZyAmJiBjbGFzc0FycmF5LnB1c2goJ3dpdGgtbG9hZGluZycpXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgY2xhc3NBcnJheS5wdXNoKCd3ZWV4LXJlY3ljbGUtaG9yaXpvbnRhbCcpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2xhc3NBcnJheS5wdXNoKCd3ZWV4LXJlY3ljbGUtdmVydGljYWwnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGFzc0FycmF5LmpvaW4oJyAnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICBjcmVhdGVDaGlsZHJlbiAoaCkge1xuICAgICAgICBjb25zdCBfdm0gPSB0aGlzXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgaCgnYXJ0aWNsZScsIHtcbiAgICAgICAgICAgIHJlZjogJ2lubmVyJyxcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAnd2VleC1yZWN5Y2xlLWlubmVyIHdlZXgtY3QnXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgX3ZtLl9sKF92bS5faXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIF92bS5fdChfdm0uc2xvdGVOYW1lKGl0ZW0pLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdKVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgc2xvdGVOYW1lIChpdGVtKSB7XG4gICAgICAgIGlmICh0aGlzLl9zd2l0Y2ggJiYgaXRlbVt0aGlzLl9zd2l0Y2hdKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1bdGhpcy5fc3dpdGNoXVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnZGVmYXVsdCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMud2VleFR5cGUgPSAnbGlzdCdcblxuICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnbWFpbicsIHtcbiAgICAgICAgcmVmOiAnd3JhcHBlcicsXG4gICAgICAgIGF0dHJzOiB7ICd3ZWV4LXR5cGUnOiAncmVjeWNsZS1saXN0JyB9LFxuICAgICAgICBzdGF0aWNDbGFzczogdGhpcy53cmFwcGVyQ2xhc3MsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgc2Nyb2xsOiB0aGlzLmhhbmRsZVNjcm9sbCxcbiAgICAgICAgICB0b3VjaHN0YXJ0OiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgICAgdG91Y2htb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgICAgICB0b3VjaGVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZFxuICAgICAgICB9LFxuICAgICAgICBzdGF0aWNTdHlsZTogZXh0cmFjdENvbXBvbmVudFN0eWxlKHRoaXMpXG4gICAgICB9LCB0aGlzLmNyZWF0ZUNoaWxkcmVuKGNyZWF0ZUVsZW1lbnQpKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICB3ZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdyZWN5Y2xlLWxpc3QnLCBnZXRMaXN0KHdlZXgpKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IGxpc3QgZnJvbSAnLi9saXN0J1xuaW1wb3J0IHNjcm9sbGVyIGZyb20gJy4vc2Nyb2xsZXInXG5pbXBvcnQgd2F0ZXJmYWxsIGZyb20gJy4vd2F0ZXJmYWxsJ1xuLy8gaW1wb3J0IGNlbGwgZnJvbSAnLi9jZWxsJ1xuaW1wb3J0IGhlYWRlciBmcm9tICcuL2hlYWRlcidcbmltcG9ydCBsb2FkaW5nIGZyb20gJy4vbG9hZGluZydcbmltcG9ydCByZWZyZXNoIGZyb20gJy4vcmVmcmVzaCdcbmltcG9ydCBsb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4vbG9hZGluZy1pbmRpY2F0b3InXG5pbXBvcnQgcmVjeWNsZUxpc3QgZnJvbSAnLi9yZWN5Y2xlLWxpc3QnXG5cbmltcG9ydCAnLi9zdHlsZS5jc3MnXG5cbmNvbnN0IG1vZHVsZXMgPSBbXG4gIGxpc3QsXG4gIHNjcm9sbGVyLFxuICB3YXRlcmZhbGwsXG4gIC8vIGNlbGwsXG4gIGhlYWRlcixcbiAgbG9hZGluZyxcbiAgcmVmcmVzaCxcbiAgbG9hZGluZ0luZGljYXRvcixcbiAgcmVjeWNsZUxpc3Rcbl1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgbW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgIHdlZXguaW5zdGFsbChtb2QpXG4gICAgfSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBUUkFOU0lUSU9OX1RJTUUgPSA0MDBcbmNvbnN0IE5FSUdIQk9SX1NDQUxFX1RJTUUgPSAxMDBcbmNvbnN0IE1BSU5fU0xJREVfT1BBQ0lUWSA9IDFcbmNvbnN0IFRIUk9UVExFX1NDUk9MTF9USU1FID0gMjVcbmNvbnN0IElOVEVSVkFMX01JTklNVU0gPSAyMDBcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGVkICgpIHtcbiAgICB0aGlzLl9jbG9uZXMgPSBbXVxuICAgIHRoaXMuaW5uZXJPZmZzZXQgPSAwXG4gICAgdGhpcy5faW5kaWNhdG9yID0gbnVsbFxuICB9LFxuXG4gIGJlZm9yZVVwZGF0ZSAoKSB7XG4gICAgdGhpcy5fZ2V0V3JhcHBlclNpemUoKVxuICB9LFxuXG4gIHVwZGF0ZWQgKCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kY2hpbGRyZW5cbiAgICBjb25zdCBsZW4gPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGhcbiAgICBpZiAoY2hpbGRyZW4gJiYgbGVuID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCB2bSA9IGNoaWxkcmVuW2ldXG4gICAgICAgIGlmICh2bS4kb3B0aW9ucy5fY29tcG9uZW50VGFnID09PSAnaW5kaWNhdG9yJ1xuICAgICAgICAgIHx8IHZtLiR2bm9kZS5kYXRhLnJlZiA9PT0gJ2luZGljYXRvcicpIHtcbiAgICAgICAgICB2bS5fd2F0Y2hlci5nZXQoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBmcmFtZUNvdW50ID0gdGhpcy5mcmFtZUNvdW50XG4gICAgaWYgKCF0aGlzLl9wcmVGcmFtZUNvdW50KSB7XG4gICAgICB0aGlzLl9wcmVGcmFtZUNvdW50ID0gZnJhbWVDb3VudFxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLl9wcmVGcmFtZUNvdW50ICE9PSBmcmFtZUNvdW50KSB7XG4gICAgICB0aGlzLl9yZXNldE5vZGVzKClcbiAgICAgIHRoaXMuX3ByZUZyYW1lQ291bnQgPSBmcmFtZUNvdW50XG4gICAgICBjb25zdCByZXNldEJsYW5rRnJhbWUgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSBmcmFtZUNvdW50KSB7XG4gICAgICAgICAgLy8gcmVzZXQgYmxhbmsgcGFnZS5cbiAgICAgICAgICB0aGlzLl9zdG9wQXV0b1BsYXkoKVxuICAgICAgICAgIHRoaXMuX3NsaWRlVG8oMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3NsaWRpbmcpIHtcbiAgICAgICAgLy8gSWYgaXQncyBzbGlkaW5nLCB0aGVuIHRoZSBjdXJyZW50SW5kZXggaXMgdGhlIGxhc3QgZnJhbWUuIFRoZSBhY3R1YWwgY3VycmVudEluZGV4XG4gICAgICAgIC8vIHNob3VsZCBiZSB0aGUgbmV4dCBpbmRleC5cbiAgICAgICAgLy8gVGhhdCBpcyB0byBzYXksIHRoaXMgdXBkYXRpbmcgaGFwcGVucyBCZXR3ZWVuIF9wYXJlcGFyZU5vZGVzIGFuZCBfcmVhcnJhbmdlTm9kZXMsXG4gICAgICAgIC8vIGFuZCB0aGUgc2xpZGluZyBpcyBub3QgeWV0IGZpbmlzaGVkLCBhbmQgdGhlIHN0YXRlIGlzIG5vdCB1cGRhdGVkIHlldC5cbiAgICAgICAgc2V0VGltZW91dChyZXNldEJsYW5rRnJhbWUsIFRSQU5TSVRJT05fVElNRSArIE5FSUdIQk9SX1NDQUxFX1RJTUUpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzZXRCbGFua0ZyYW1lKClcbiAgICAgIH1cbiAgICB9XG4gICAgd2VleC51dGlscy5maXJlTGF6eWxvYWQodGhpcy4kZWwsIHRydWUpXG4gICAgaWYgKHRoaXMuX3ByZUluZGV4ICE9PSB0aGlzLmN1cnJlbnRJbmRleCkge1xuICAgICAgdGhpcy5fc2xpZGVUbyh0aGlzLmN1cnJlbnRJbmRleClcbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZCAoKSB7XG4gICAgdGhpcy5fZ2V0V3JhcHBlclNpemUoKVxuICAgIHRoaXMuX3NsaWRlVG8odGhpcy5jdXJyZW50SW5kZXgpXG4gICAgd2VleC51dGlscy5maXJlTGF6eWxvYWQodGhpcy4kZWwsIHRydWUpXG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIF9nZXRXcmFwcGVyU2l6ZSAoKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy4kcmVmcy53cmFwcGVyXG4gICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICBjb25zdCByZWN0ID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB0aGlzLl93cmFwcGVyV2lkdGggPSByZWN0LndpZHRoXG4gICAgICAgIHRoaXMuX3dyYXBwZXJIZWlnaHQgPSByZWN0LmhlaWdodFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZm9ybWF0Q2hpbGRyZW4gKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXVxuICAgICAgbGV0IGluZGljYXRvclZub2RlXG4gICAgICBjb25zdCBjZWxscyA9IGNoaWxkcmVuLmZpbHRlcih2bm9kZSA9PiB7XG4gICAgICAgIGlmICghdm5vZGUudGFnKSByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKHZub2RlLmNvbXBvbmVudE9wdGlvbnMgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucy50YWcgPT09ICdpbmRpY2F0b3InKSB7XG4gICAgICAgICAgaW5kaWNhdG9yVm5vZGUgPSB2bm9kZVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KS5tYXAodm5vZGUgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnbGknLCB7XG4gICAgICAgICAgcmVmOiAnY2VsbHMnLFxuICAgICAgICAgIHN0YXRpY0NsYXNzOiBgd2VleC1zbGlkZXItY2VsbCB3ZWV4LWN0JHt0aGlzLmlzTmVpZ2hib3IgPyAnIG5laWdoYm9yLWNlbGwnIDogJyd9YFxuICAgICAgICB9LCBbdm5vZGVdKVxuICAgICAgfSlcbiAgICAgIGlmIChpbmRpY2F0b3JWbm9kZSkge1xuICAgICAgICBpbmRpY2F0b3JWbm9kZS5kYXRhLmF0dHJzID0gaW5kaWNhdG9yVm5vZGUuZGF0YS5hdHRycyB8fCB7fVxuICAgICAgICBpbmRpY2F0b3JWbm9kZS5kYXRhLmF0dHJzLmNvdW50ID0gY2VsbHMubGVuZ3RoXG4gICAgICAgIGluZGljYXRvclZub2RlLmRhdGEuYXR0cnMuYWN0aXZlID0gdGhpcy5jdXJyZW50SW5kZXhcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yID0gaW5kaWNhdG9yVm5vZGVcbiAgICAgIH1cbiAgICAgIHJldHVybiBjZWxsc1xuICAgIH0sXG5cbiAgICBfcmVuZGVyU2xpZGVzIChjcmVhdGVFbGVtZW50KSB7XG4gICAgICB0aGlzLl9jZWxscyA9IHRoaXMuX2Zvcm1hdENoaWxkcmVuKGNyZWF0ZUVsZW1lbnQpXG4gICAgICB0aGlzLmZyYW1lQ291bnQgPSB0aGlzLl9jZWxscy5sZW5ndGhcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFxuICAgICAgICAnbmF2JyxcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogJ3dyYXBwZXInLFxuICAgICAgICAgIGF0dHJzOiB7ICd3ZWV4LXR5cGUnOiB0aGlzLmlzTmVpZ2hib3IgPyAnc2xpZGVyLW5laWdoYm9yJyA6ICdzbGlkZXInIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIHRvdWNoc3RhcnQ6IHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgICAgICB0b3VjaG1vdmU6IHdlZXgudXRpbHMudGhyb3R0bGUod2VleC51dGlscy5iaW5kKHRoaXMuX2hhbmRsZVRvdWNoTW92ZSwgdGhpcyksIDI1KSxcbiAgICAgICAgICAgIHRvdWNoZW5kOiB0aGlzLl9oYW5kbGVUb3VjaEVuZCxcbiAgICAgICAgICAgIHRvdWNoY2FuY2VsOiB0aGlzLl9oYW5kbGVUb3VjaENhbmNlbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LXNsaWRlciB3ZWV4LXNsaWRlci13cmFwcGVyIHdlZXgtY3QnLFxuICAgICAgICAgIHN0YXRpY1N0eWxlOiB3ZWV4LmV4dHJhY3RDb21wb25lbnRTdHlsZSh0aGlzKVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgY3JlYXRlRWxlbWVudCgndWwnLCB7XG4gICAgICAgICAgICByZWY6ICdpbm5lcicsXG4gICAgICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtc2xpZGVyLWlubmVyIHdlZXgtY3QnXG4gICAgICAgICAgfSwgdGhpcy5fY2VsbHMpLFxuICAgICAgICAgIHRoaXMuX2luZGljYXRvclxuICAgICAgICBdXG4gICAgICApXG4gICAgfSxcblxuICAgIC8vIGdldCBzdGFuZGFyZCBpbmRleFxuICAgIF9ub3JtYWxpemVJbmRleCAoaW5kZXgpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gKGluZGV4ICsgdGhpcy5mcmFtZUNvdW50KSAlIHRoaXMuZnJhbWVDb3VudFxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG5ld0luZGV4LCAwKSwgdGhpcy5mcmFtZUNvdW50IC0gMSlcbiAgICB9LFxuXG4gICAgX3N0YXJ0QXV0b1BsYXkgKCkge1xuICAgICAgaWYgKCF0aGlzLmF1dG9QbGF5IHx8IHRoaXMuYXV0b1BsYXkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fYXV0b1BsYXlUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYXV0b1BsYXlUaW1lcilcbiAgICAgICAgdGhpcy5fYXV0b1BsYXlUaW1lciA9IG51bGxcbiAgICAgIH1cbiAgICAgIGxldCBpbnRlcnZhbCA9IHBhcnNlSW50KHRoaXMuaW50ZXJ2YWwgLSBUUkFOU0lUSU9OX1RJTUUgLSBORUlHSEJPUl9TQ0FMRV9USU1FKVxuICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCA+IElOVEVSVkFMX01JTklNVU0gPyBpbnRlcnZhbCA6IElOVEVSVkFMX01JTklNVU1cbiAgICAgIHRoaXMuX2F1dG9QbGF5VGltZXIgPSBzZXRUaW1lb3V0KHdlZXgudXRpbHMuYmluZCh0aGlzLl9uZXh0LCB0aGlzKSwgaW50ZXJ2YWwpXG4gICAgfSxcblxuICAgIF9zdG9wQXV0b1BsYXkgKCkge1xuICAgICAgaWYgKHRoaXMuX2F1dG9QbGF5VGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2F1dG9QbGF5VGltZXIpXG4gICAgICAgIHRoaXMuX2F1dG9QbGF5VGltZXIgPSBudWxsXG4gICAgICB9XG4gICAgfSxcblxuICAgIF9zbGlkZVRvIChpbmRleCwgaXNUb3VjaFNjcm9sbCkge1xuICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmluZmluaXRlIHx8IHRoaXMuaW5maW5pdGUgPT09ICdmYWxzZScpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSB8fCBpbmRleCA+ICh0aGlzLmZyYW1lQ291bnQgLSAxKSkge1xuICAgICAgICAgIHRoaXMuX3NsaWRlVG8odGhpcy5jdXJyZW50SW5kZXgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fcHJlSW5kZXggJiYgdGhpcy5fcHJlSW5kZXggIT09IDApIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dOb2RlcyAmJiB0aGlzLl9zaG93Tm9kZXNbMF0pIHtcbiAgICAgICAgICB0aGlzLl9wcmVJbmRleCA9IHRoaXMuX3Nob3dOb2Rlc1swXS5pbmRleFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3ByZUluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fc2xpZGluZykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRoaXMuX3NsaWRpbmcgPSB0cnVlXG5cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gdGhpcy5fbm9ybWFsaXplSW5kZXgoaW5kZXgpXG4gICAgICBjb25zdCBpbm5lciA9IHRoaXMuJHJlZnMuaW5uZXJcbiAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLl9zdGVwID0gdGhpcy5mcmFtZUNvdW50IDw9IDEgPyAwIDogdGhpcy5fcHJlSW5kZXggLSBpbmRleFxuXG4gICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgdGhpcy5fcHJlcGFyZU5vZGVzKClcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gd2VleC51dGlscy5nZXRUcmFuc2Zvcm1PYmooaW5uZXIpLnRyYW5zbGF0ZVxuICAgICAgICBjb25zdCBtYXRjaCA9IHRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUubWF0Y2goL3RyYW5zbGF0ZVteKF0rXFwoKFsrLVxcZC5dKykvKVxuICAgICAgICBjb25zdCBpbm5lclggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAwXG4gICAgICAgIGNvbnN0IGRpc3QgPSBpbm5lclggLSB0aGlzLmlubmVyT2Zmc2V0XG4gICAgICAgIHRoaXMuaW5uZXJPZmZzZXQgKz0gc3RlcCAqIHRoaXMuX3dyYXBwZXJXaWR0aFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHdob2xlIHNsaWRlcyBncm91cC5cbiAgICAgICAgaW5uZXIuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IGAtd2Via2l0LXRyYW5zZm9ybSAke1RSQU5TSVRJT05fVElNRSAvIDEwMDB9cyBlYXNlLWluLW91dGBcbiAgICAgICAgaW5uZXIuc3R5bGUubW96VHJhbnNpdGlvbiA9IGB0cmFuc2Zvcm0gJHtUUkFOU0lUSU9OX1RJTUUgLyAxMDAwfXMgZWFzZS1pbi1vdXRgXG4gICAgICAgIGlubmVyLnN0eWxlLnRyYW5zaXRpb24gPSBgdHJhbnNmb3JtICR7VFJBTlNJVElPTl9USU1FIC8gMTAwMH1zIGVhc2UtaW4tb3V0YFxuICAgICAgICBpbm5lci5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0aGlzLmlubmVyT2Zmc2V0fXB4LCAwLCAwKWBcbiAgICAgICAgaW5uZXIuc3R5bGUubW96VHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dGhpcy5pbm5lck9mZnNldH1weCwgMCwgMClgXG4gICAgICAgIGlubmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3RoaXMuaW5uZXJPZmZzZXR9cHgsIDAsIDApYFxuXG4gICAgICAgIC8vIGVtaXQgc2Nyb2xsIGV2ZW50cy5cbiAgICAgICAgaWYgKCFpc1RvdWNoU2Nyb2xsKSB7XG4gICAgICAgICAgdGhpcy5fZW1pdFNjcm9sbEV2ZW50KCdzY3JvbGxzdGFydCcpXG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fdGhyb3R0bGVFbWl0U2Nyb2xsKGRpc3QsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXRTY3JvbGxFdmVudCgnc2Nyb2xsZW5kJylcbiAgICAgICAgICB9KVxuICAgICAgICB9LCBUSFJPVFRMRV9TQ1JPTExfVElNRSlcblxuICAgICAgICB0aGlzLl9sb29wU2hvd05vZGVzKHN0ZXApXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNOZWlnaGJvcikge1xuICAgICAgICAgICAgdGhpcy5fc2V0TmVpZ2hib3JzKClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlubmVyLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSAnJ1xuICAgICAgICAgICAgaW5uZXIuc3R5bGUubW96VHJhbnNpdGlvbiA9ICcnXG4gICAgICAgICAgICBpbm5lci5zdHlsZS50cmFuc2l0aW9uID0gJydcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9zaG93U3RhcnRJZHg7IGkgPD0gdGhpcy5fc2hvd0VuZElkeDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9zaG93Tm9kZXNbaV1cbiAgICAgICAgICAgICAgaWYgKCFub2RlKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgICAgICAgY29uc3QgZWxtID0gbm9kZS5maXJzdEVsZW1lbnRDaGlsZFxuICAgICAgICAgICAgICBlbG0uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICcnXG4gICAgICAgICAgICAgIGVsbS5zdHlsZS5tb3pUcmFuc2l0aW9uID0gJydcbiAgICAgICAgICAgICAgZWxtLnN0eWxlLnRyYW5zaXRpb24gPSAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYW4gY2xvbmVkIG5vZGVzIGFuZCByZWFycmFuZ2Ugc2xpZGUgY2VsbHMuXG4gICAgICAgICAgICB0aGlzLl9yZWFycmFuZ2VOb2RlcyhuZXdJbmRleClcbiAgICAgICAgICB9LCBORUlHSEJPUl9TQ0FMRV9USU1FKVxuICAgICAgICB9LCBUUkFOU0lUSU9OX1RJTUUpXG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdJbmRleCAhPT0gdGhpcy5fcHJlSW5kZXgpIHtcbiAgICAgICAgd2VleC51dGlscy5kaXNwYXRjaE5hdGl2ZUV2ZW50KHRoaXMuJGVsLCAnY2hhbmdlJywge1xuICAgICAgICAgIGluZGV4OiBuZXdJbmRleFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYXJOb2Rlc09mZnNldCAoKSB7XG4gICAgICBjb25zdCBlbmQgPSB0aGlzLl9zaG93RW5kSWR4XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5fc2hvd1N0YXJ0SWR4OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5fc2hvd05vZGVzW2ldXG4gICAgICAgIG5vZGUgPSBub2RlICYmIG5vZGUuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgICAgaWYgKCFub2RlKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgd2VleC51dGlscy5hZGRUcmFuc2Zvcm0odGhpcy5fc2hvd05vZGVzW2ldLmZpcnN0RWxlbWVudENoaWxkLCB7XG4gICAgICAgICAgdHJhbnNsYXRlOiAndHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCknXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIF9sb29wU2hvd05vZGVzIChzdGVwKSB7XG4gICAgICBpZiAoIXN0ZXAgfHwgdGhpcy5mcmFtZUNvdW50IDw9IDEpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBzaWduID0gc3RlcCA+IDAgPyAxIDogLTFcbiAgICAgIGxldCBpID0gc3RlcCA8PSAwID8gdGhpcy5fc2hvd1N0YXJ0SWR4IDogdGhpcy5fc2hvd0VuZElkeFxuICAgICAgY29uc3QgZW5kID0gc3RlcCA8PSAwID8gdGhpcy5fc2hvd0VuZElkeCA6IHRoaXMuX3Nob3dTdGFydElkeFxuICAgICAgZm9yICg7IGkgIT09IGVuZCAtIHNpZ247IGkgLT0gc2lnbikge1xuICAgICAgICBjb25zdCBuZXh0SWR4ID0gaSArIHN0ZXBcbiAgICAgICAgdGhpcy5fc2hvd05vZGVzW25leHRJZHhdID0gdGhpcy5fc2hvd05vZGVzW2ldXG4gICAgICAgIHRoaXMuX3Nob3dOb2Rlc1tuZXh0SWR4XS5fc2hvd0luZGV4ID0gbmV4dElkeFxuICAgICAgICBkZWxldGUgdGhpcy5fc2hvd05vZGVzW2ldXG4gICAgICB9XG4gICAgICB0aGlzLl9zaG93U3RhcnRJZHggKz0gc3RlcFxuICAgICAgdGhpcy5fc2hvd0VuZElkeCArPSBzdGVwXG4gICAgfSxcblxuICAgIF9wcmVwYXJlTm9kZXMgKCkge1xuICAgICAgLy8gdGVzdCBpZiB0aGUgbmV4dCBzbGlkZSB0b3dhcmRzIHRoZSBkaXJlY3Rpb24gZXhpc3RzLlxuICAgICAgLy8gZS5nLiBjdXJyZW50SW5kZXggMCAtPiAxOiBzaG91bGQgcHJlcGFyZSA0IHNsaWRlczogLTEsIDAsIDEsIDJcbiAgICAgIC8vIGlmIG5vdCwgdHJhbnNsYXRlIGEgbm9kZSB0byBoZXJlLCBvciBqdXN0IGNsb25lIGl0LlxuICAgICAgY29uc3Qgc3RlcCA9IHRoaXMuX3N0ZXBcbiAgICAgIGlmICghdGhpcy5faW5pdGVkKSB7XG4gICAgICAgIHRoaXMuX2luaXROb2RlcygpXG4gICAgICAgIHRoaXMuX2luaXRlZCA9IHRydWVcbiAgICAgICAgdGhpcy5fc2hvd05vZGVzID0ge31cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgPD0gMSkge1xuICAgICAgICB0aGlzLl9zaG93U3RhcnRJZHggPSB0aGlzLl9zaG93RW5kSWR4ID0gMFxuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fY2VsbHNbMF0uZWxtXG4gICAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDFcbiAgICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSA5OVxuICAgICAgICBub2RlLmluZGV4ID0gMFxuICAgICAgICB0aGlzLl9zaG93Tm9kZXNbMF0gPSBub2RlXG4gICAgICAgIG5vZGUuX2luU2hvdyA9IHRydWVcbiAgICAgICAgbm9kZS5fc2hvd0luZGV4ID0gMFxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvd0NvdW50ID0gdGhpcy5fc2hvd0NvdW50ID0gTWF0aC5hYnMoc3RlcCkgKyAzXG4gICAgICB0aGlzLl9zaG93U3RhcnRJZHggPSBzdGVwIDw9IDAgPyAtMSA6IDIgLSBzaG93Q291bnRcbiAgICAgIHRoaXMuX3Nob3dFbmRJZHggPSBzdGVwIDw9IDAgPyBzaG93Q291bnQgLSAyIDogMVxuICAgICAgdGhpcy5fY2xlYXJOb2Rlc09mZnNldCgpXG4gICAgICB0aGlzLl9wb3NpdGlvbk5vZGVzKHRoaXMuX3Nob3dTdGFydElkeCwgdGhpcy5fc2hvd0VuZElkeCwgc3RlcClcbiAgICB9LFxuXG4gICAgX2NsZWFyQ2xvbmVzICgpIHtcbiAgICAgIC8vIGNsZWFyIGFsbCBjbG9uZXMuXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9jbG9uZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdGhpcy5fY2xvbmVzW2tleV0uZm9yRWFjaChjbG9uZU5vZGUgPT4ge1xuICAgICAgICAgIGNsb25lTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lTm9kZSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5fY2xvbmVzW2tleV0gPSBbXVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gcmVzZXQgbm9kZXMnIGluZGV4IGFuZCBfaW5TaG93IHN0YXRlLiBCdXQgbGVhdmUgdGhlIHN0eWxlc1xuICAgIC8vIGFzIHRoZXkgYXJlIHRvIHByZXZlbnQgZG9tIHJlcmVuZGVyaW5nLlxuICAgIF9yZXNldE5vZGVzICgpIHtcbiAgICAgIHRoaXMuX2NsZWFyQ2xvbmVzKClcbiAgICAgIC8vIHJlc2V0IHN0YXR1cy5cbiAgICAgIHRoaXMuX2NlbGxzLmZvckVhY2goKGNlbGwsIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBlbG0gPSBjZWxsLmVsbVxuICAgICAgICBlbG0uaW5kZXggPSBpZHhcbiAgICAgICAgZWxtLl9pblNob3cgPSBmYWxzZVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgX2luaXROb2RlcyAoKSB7XG4gICAgICB0aGlzLl9jZWxscy5mb3JFYWNoKChjZWxsLCBpZHgpID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGNlbGwuZWxtXG4gICAgICAgIG5vZGUuaW5kZXggPSBpZHhcbiAgICAgICAgbm9kZS5faW5TaG93ID0gZmFsc2VcbiAgICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSAwXG4gICAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDBcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIF9wb3NpdGlvbk5vZGVzIChiZWdpbiwgZW5kLCBzdGVwLCBhbmltKSB7XG4gICAgICBjb25zdCBjZWxscyA9IHRoaXMuX2NlbGxzXG4gICAgICBjb25zdCBzdGFydCA9IHN0ZXAgPD0gMCA/IGJlZ2luIDogZW5kXG4gICAgICBjb25zdCBzdG9wID0gc3RlcCA8PSAwID8gZW5kIDogYmVnaW5cbiAgICAgIGNvbnN0IHNpZ24gPSBzdGVwIDw9IDAgPyAtMSA6IDFcbiAgICAgIGxldCBjZWxsSW5kZXggPSB0aGlzLl9wcmVJbmRleCArIHNpZ25cbiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSAhPT0gc3RvcCAtIHNpZ247IGkgPSBpIC0gc2lnbikge1xuICAgICAgICBjb25zdCBub2RlID0gY2VsbHNbdGhpcy5fbm9ybWFsaXplSW5kZXgoY2VsbEluZGV4KV0uZWxtXG4gICAgICAgIGNlbGxJbmRleCA9IGNlbGxJbmRleCAtIHNpZ25cbiAgICAgICAgdGhpcy5fcG9zaXRpb25Ob2RlKG5vZGUsIGkpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGluZGV4OiBwb3NpdGlvbiBpbmRleCBpbiB0aGUgc2hvd2luZyBjZWxscycgdmlldy5cbiAgICAgKi9cbiAgICBfcG9zaXRpb25Ob2RlIChub2RlLCBpbmRleCkge1xuICAgICAgY29uc3QgaG9sZGVyID0gdGhpcy5fc2hvd05vZGVzW2luZGV4XVxuICAgICAgaWYgKG5vZGUuX2luU2hvdyAmJiAoaG9sZGVyICE9PSBub2RlIHx8IGhvbGRlci5fc2hvd0luZGV4ICE9PSBpbmRleCkpIHtcbiAgICAgICAgaWYgKGhvbGRlciAmJiBob2xkZXIuX2lzQ2xvbmUpIHsgdGhpcy5fcmVtb3ZlQ2xvbmUoaG9sZGVyKSB9XG4gICAgICAgIG5vZGUgPSB0aGlzLl9nZXRDbG9uZShub2RlLmluZGV4KVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAobm9kZS5faW5TaG93KSB7ICAvLyBob2xkZXIgPT09IG5vZGVcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIG5vZGUuX2luU2hvdyA9IHRydWVcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVggPSBpbmRleCAqIHRoaXMuX3dyYXBwZXJXaWR0aCAtIHRoaXMuaW5uZXJPZmZzZXRcbiAgICAgIHdlZXgudXRpbHMuYWRkVHJhbnNmb3JtKG5vZGUsIHtcbiAgICAgICAgdHJhbnNsYXRlOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVYfXB4LCAwcHgsIDBweClgXG4gICAgICB9KVxuICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSA5OSAtIE1hdGguYWJzKGluZGV4KVxuICAgICAgbm9kZS5zdHlsZS5vcGFjaXR5ID0gMVxuICAgICAgbm9kZS5fc2hvd0luZGV4ID0gaW5kZXhcbiAgICAgIHRoaXMuX3Nob3dOb2Rlc1tpbmRleF0gPSBub2RlXG4gICAgfSxcblxuICAgIF9nZXRDbG9uZSAoaW5kZXgpIHtcbiAgICAgIGNvbnN0IGFyciA9IHRoaXMuX2Nsb25lc1tpbmRleF0gfHwgKHRoaXMuX2Nsb25lc1tpbmRleF0gPSBbXSlcbiAgICAgIGNvbnN0IG9yaWdOb2RlID0gdGhpcy5fY2VsbHNbaW5kZXhdLmVsbVxuICAgICAgY29uc3QgY2xvbmUgPSBvcmlnTm9kZS5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgIGNsb25lLl9pc0Nsb25lID0gdHJ1ZVxuICAgICAgY2xvbmUuX2luU2hvdyA9IHRydWVcbiAgICAgIC8vIGNsb25lLl9pblNob3cgPSBvcmlnTm9kZS5faW5TaG93XG4gICAgICBjbG9uZS5pbmRleCA9IG9yaWdOb2RlLmluZGV4XG4gICAgICBjbG9uZS5zdHlsZS5vcGFjaXR5ID0gMFxuICAgICAgY2xvbmUuc3R5bGUuekluZGV4ID0gMFxuICAgICAgdGhpcy4kcmVmcy5pbm5lci5hcHBlbmRDaGlsZChjbG9uZSlcbiAgICAgIGFyci5wdXNoKGNsb25lKVxuICAgICAgcmV0dXJuIGNsb25lXG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBsZXQgYXJyID0gdGhpcy5fY2xvbmVzW2luZGV4XVxuICAgICAgLy8gICBpZiAoIWFycikge1xuICAgICAgLy8gICAgIHRoaXMuX2Nsb25lc1tpbmRleF0gPSBhcnIgPSBbXVxuICAgICAgLy8gICB9XG4gICAgICAvLyAgIGlmIChhcnIubGVuZ3RoIDw9IDApIHtcblxuICAgICAgLy8gICB9XG4gICAgICAvLyAgIHJldHVybiBhcnIucG9wKClcbiAgICAgIC8vIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gICBjb25zb2xlLmVycm9yKCd0aGlzLl9jZWxscyAtPiAnLCB0aGlzLl9jZWxscylcbiAgICAgIC8vIH1cbiAgICB9LFxuXG4gICAgX3JlbW92ZUNsb25lIChub2RlKSB7XG4gICAgICBjb25zdCBjbG9uZUFyciA9IHRoaXMuX2Nsb25lc1tub2RlLmluZGV4XVxuICAgICAgbGV0IGlcbiAgICAgIGlmIChjbG9uZUFyciAmJiAoaSA9IGNsb25lQXJyLmluZGV4T2Yobm9kZSkpID4gLTEpIHtcbiAgICAgICAgY2xvbmVBcnIuc3BsaWNlKGksIDEpXG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSlcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gbWF5YmUgY2VsbHMgaGFzIGJlZW4gdXBkYXRlZCBhbmQgdGhpcyBjbG9uZSBub2RlIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHRoZSBkb20gdHJlZVxuICAgICAgICAvLyB0aHJvdWdodCBfY2xlYXJDbG9uZXMgbWV0aG9kLlxuICAgICAgfVxuICAgICAgLy8gY29uc3QgaWR4ID0gbm9kZS5pbmRleFxuICAgICAgLy8gdGhpcy5faGlkZU5vZGUobm9kZSlcbiAgICAgIC8vIGNvbnN0IGFyciA9IHRoaXMuX2Nsb25lc1tpZHhdXG4gICAgICAvLyBhcnIucHVzaChub2RlKVxuICAgIH0sXG5cbiAgICBfaGlkZU5vZGUgKG5vZGUpIHtcbiAgICAgIG5vZGUuX2luU2hvdyA9IGZhbHNlXG4gICAgICBub2RlLnN0eWxlLm9wYWNpdHkgPSAwXG4gICAgICBub2RlLnN0eWxlLnpJbmRleCA9IDBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGlkZSBub2RlcyBmcm9tIGJlZ2luIHRvIGVuZCBpbiBzaG93QXJyYXkuXG4gICAgICogaWYgaXQgaXMgY2xvbmUgbm9kZSwganVzdCBtb3ZlIHRoZSBjbG9uZSBub2RlIHRvIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgX2NsZWFyTm9kZXMgKGJlZ2luLCBlbmQpIHtcbiAgICAgIGZvciAobGV0IGkgPSBiZWdpbjsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fc2hvd05vZGVzW2ldXG4gICAgICAgIGlmICghbm9kZSkgeyByZXR1cm4gfVxuICAgICAgICBpZiAobm9kZS5faXNDbG9uZSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZUNsb25lKG5vZGUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5vZGUuX2luU2hvdykge1xuICAgICAgICAgIHRoaXMuX2hpZGVOb2RlKG5vZGUpXG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX3Nob3dOb2Rlc1tpXVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb3B5IG5vZGUgc3R5bGUgcHJvcHMgKG9wYWNpdHkgYW5kIHpJbmRleCkgYW5kIHRyYW5zZm9ybSBzdGF0dXMgZnJvbVxuICAgICAqIG9uZSBlbGVtZW50IHRvIGFub3RoZXIuXG4gICAgICovXG4gICAgX2NvcHlTdHlsZSAoZnJvbSwgdG8sIHN0eWxlcyA9IFsnb3BhY2l0eScsICd6SW5kZXgnXSwgdHJhbnNmb3JtRXh0cmEgPSB7fSkge1xuICAgICAgd2VleC51dGlscy5leHRlbmRLZXlzKHRvLnN0eWxlLCBmcm9tLnN0eWxlLCBzdHlsZXMpXG4gICAgICBjb25zdCB0cmFuc09iaiA9IHdlZXgudXRpbHMuZ2V0VHJhbnNmb3JtT2JqKGZyb20pXG4gICAgICBmb3IgKGNvbnN0IGsgaW4gdHJhbnNmb3JtRXh0cmEpIHtcbiAgICAgICAgdHJhbnNPYmpba10gPSB0cmFuc2Zvcm1FeHRyYVtrXVxuICAgICAgfVxuICAgICAgd2VleC51dGlscy5hZGRUcmFuc2Zvcm0odG8sIHRyYW5zT2JqKVxuICAgICAgY29uc3QgZnJvbUlubmVyID0gZnJvbS5maXJzdEVsZW1lbnRDaGlsZFxuICAgICAgY29uc3QgdG9Jbm5lciA9IHRvLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICB0b0lubmVyLnN0eWxlLm9wYWNpdHkgPSBmcm9tSW5uZXIuc3R5bGUub3BhY2l0eVxuICAgICAgd2VleC51dGlscy5jb3B5VHJhbnNmb3JtKGZyb21Jbm5lciwgdG9Jbm5lcilcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVwbGFjZSBhIGNsb25lIG5vZGUgd2l0aCB0aGUgb3JpZ2luYWwgbm9kZSBpZiBpdCdzIG5vdCBpbiB1c2UuXG4gICAgICovXG4gICAgX3JlcGxhY2VDbG9uZSAoY2xvbmUsIHBvcykge1xuICAgICAgY29uc3Qgb3JpZ0NlbGwgPSB0aGlzLl9jZWxsc1tjbG9uZS5pbmRleF1cbiAgICAgIGlmICghb3JpZ0NlbGwpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBvcmlnTm9kZSA9IG9yaWdDZWxsLmVsbVxuICAgICAgaWYgKG9yaWdOb2RlLl9pblNob3cpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBvcmlnU2hvd0luZGV4ID0gb3JpZ05vZGUuX3Nob3dJbmRleFxuICAgICAgY29uc3Qgc3R5bGVQcm9wcyA9IFsnb3BhY2l0eScsICd6SW5kZXgnXVxuICAgICAgbGV0IGNsXG4gICAgICBpZiAoTWF0aC5hYnMob3JpZ1Nob3dJbmRleCkgPD0gMSkge1xuICAgICAgICAvLyBsZWF2ZSBhIGNsb25lIHRvIHJlcGxhY2UgdGhlIG9yaWdOb2RlIGluIHRoZSBzaG93IHpvbmUoLTEgfiAxKS5cbiAgICAgICAgY2wgPSB0aGlzLl9nZXRDbG9uZShvcmlnTm9kZS5pbmRleClcbiAgICAgICAgdGhpcy5fY29weVN0eWxlKG9yaWdOb2RlLCBjbClcbiAgICAgICAgdGhpcy5fc2hvd05vZGVzW29yaWdTaG93SW5kZXhdID0gY2xcbiAgICAgIH1cbiAgICAgIG9yaWdOb2RlLl9pblNob3cgPSB0cnVlXG4gICAgICBjb25zdCB0cmFuc09iaiA9IHdlZXgudXRpbHMuZ2V0VHJhbnNmb3JtT2JqKGNsb25lKVxuICAgICAgdHJhbnNPYmoudHJhbnNsYXRlID0gdHJhbnNPYmoudHJhbnNsYXRlLnJlcGxhY2UoL1srLVxcZC5dK1twd114LywgKCQwKSA9PiB7XG4gICAgICAgIHJldHVybiBwb3MgKiB0aGlzLl93cmFwcGVyV2lkdGggLSB0aGlzLmlubmVyT2Zmc2V0ICsgJ3B4J1xuICAgICAgfSlcbiAgICAgIHRoaXMuX2NvcHlTdHlsZShjbG9uZSwgb3JpZ05vZGUsIHN0eWxlUHJvcHMsIHRyYW5zT2JqKVxuICAgICAgdGhpcy5fcmVtb3ZlQ2xvbmUoY2xvbmUpXG4gICAgICBpZiAoIWNsKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zaG93Tm9kZXNbb3JpZ1Nob3dJbmRleF1cbiAgICAgIH1cbiAgICAgIHRoaXMuX3Nob3dOb2Rlc1twb3NdID0gb3JpZ05vZGVcbiAgICAgIG9yaWdOb2RlLl9zaG93SW5kZXggPSBwb3NcbiAgICB9LFxuXG4gICAgX3JlYXJyYW5nZU5vZGVzIChuZXdJbmRleCkge1xuICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA8PSAxKSB7XG4gICAgICAgIHRoaXMuX3NsaWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDBcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIGNsZWFyIGF1dG9QbGF5IHRpbWVyIChhbmQgcmVzdGFydCBhZnRlciB1cGRhdGVkIGhvb2spLlxuICAgICAgdGhpcy5fc3RhcnRBdXRvUGxheSgpXG5cbiAgICAgIC8qKlxuICAgICAgICogY2xlYW4gbm9kZXMuIHJlcGxhY2UgY3VycmVudCBub2RlIHdpdGggbm9uLWNsb25lZCBub2RlLlxuICAgICAgICogc2V0IGN1cnJlbnQgaW5kZXggdG8gdGhlIG5ldyBpbmRleC5cbiAgICAgICAqL1xuICAgICAgY29uc3Qgc2hvd3MgPSB0aGlzLl9zaG93Tm9kZXNcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9zaG93U3RhcnRJZHg7IGkgPD0gdGhpcy5fc2hvd0VuZElkeDsgaSsrKSB7XG4gICAgICAgIHNob3dzW2ldLl9pblNob3cgPSBmYWxzZVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IC0xOyBpIDw9IDE7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlID0gc2hvd3NbaV1cbiAgICAgICAgaWYgKCFub2RlLl9pc0Nsb25lKSB7XG4gICAgICAgICAgbm9kZS5faW5TaG93ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3JlcGxhY2VDbG9uZShub2RlLCBpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NsZWFyTm9kZXModGhpcy5fc2hvd1N0YXJ0SWR4LCAtMilcbiAgICAgIHRoaXMuX3Nob3dTdGFydElkeCA9IC0xXG4gICAgICB0aGlzLl9jbGVhck5vZGVzKDIsIHRoaXMuX3Nob3dFbmRJZHgpXG4gICAgICB0aGlzLl9zaG93RW5kSWR4ID0gMVxuICAgICAgdGhpcy5fc2xpZGluZyA9IGZhbHNlXG5cbiAgICAgIC8vIHNldCBjdXJyZW50IGluZGV4IHRvIHRoZSBuZXcgaW5kZXguXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG5ld0luZGV4XG4gICAgICB0aGlzLl9wcmVJbmRleCA9IG5ld0luZGV4XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFjY29yZGluZyB0byB0aGUgYXR0cnM6IG5laWdoYm9yU2NhbGUsIG5laWdoYm9yQWxwaGEsIG5laWdoYm9yU3BhY2UuXG4gICAgICogMS4gYXBwbHkgdGhlIG1haW4gY2VsbCB0cmFuc2Zvcm0gZWZmZWN0cy5cbiAgICAgKiAyLiBzZXQgdGhlIHByZXZpb3VzIGNlbGwgYW5kIHRoZSBuZXh0IGNlbGwncyBwb3NpdG9uLCBzY2FsZSBhbmQgYWxwaGEuXG4gICAgICogMy4gc2V0IG90aGVyIGNlbGxzJyBzY2FsZSBhbmQgYWxwaGEuXG4gICAgICovXG4gICAgX3NldE5laWdoYm9ycyAoKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5fc2hvd1N0YXJ0SWR4OyBpIDw9IHRoaXMuX3Nob3dFbmRJZHg7IGkrKykge1xuICAgICAgICBjb25zdCBlbG0gPSB0aGlzLl9zaG93Tm9kZXNbaV0uZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgICAgZWxtLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBgYWxsICR7TkVJR0hCT1JfU0NBTEVfVElNRSAvIDEwMDB9cyBlYXNlYFxuICAgICAgICBlbG0uc3R5bGUubW96VHJhbnNpdGlvbiA9IGBhbGwgJHtORUlHSEJPUl9TQ0FMRV9USU1FIC8gMTAwMH1zIGVhc2VgXG4gICAgICAgIGVsbS5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke05FSUdIQk9SX1NDQUxFX1RJTUUgLyAxMDAwfXMgZWFzZWBcbiAgICAgICAgY29uc3QgdHJhbnNPYmogPSB7XG4gICAgICAgICAgc2NhbGU6IGBzY2FsZSgke2kgPT09IDAgPyB0aGlzLmN1cnJlbnRJdGVtU2NhbGUgOiB0aGlzLm5laWdoYm9yU2NhbGV9KWBcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhbnNsYXRlWFxuICAgICAgICBpZiAoIXRoaXMuX25laWdoYm9yV2lkdGgpIHtcbiAgICAgICAgICB0aGlzLl9uZWlnaGJvcldpZHRoID0gcGFyc2VGbG9hdChlbG0uc3R5bGUud2lkdGgpIHx8IGVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBwb3NpdGlvbiBvZmZzZXRzIGFjY29yZGluZyB0byBuZWlnaGJvciBzY2FsZXMuXG4gICAgICAgIGlmIChNYXRoLmFicyhpKSA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGRpc3QgPSAoKHRoaXMuX3dyYXBwZXJXaWR0aCAtIHRoaXMuX25laWdoYm9yV2lkdGggKiB0aGlzLm5laWdoYm9yU2NhbGUpIC8gMlxuICAgICAgICAgICAgKyB0aGlzLm5laWdoYm9yU3BhY2UgKiB3ZWV4LmNvbmZpZy5lbnYuc2NhbGUpIC8gdGhpcy5uZWlnaGJvclNjYWxlXG4gICAgICAgICAgdHJhbnNsYXRlWCA9IC1pICogZGlzdFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNsZWFyIHBvc2l0aW9uIG9mZnNldHMuXG4gICAgICAgICAgdHJhbnNsYXRlWCA9IDBcbiAgICAgICAgfVxuICAgICAgICB0cmFuc09iai50cmFuc2xhdGUgPSBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVYfXB4LCAwcHgsIDBweClgXG4gICAgICAgIHdlZXgudXRpbHMuYWRkVHJhbnNmb3JtKGVsbSwgdHJhbnNPYmopXG4gICAgICAgIGVsbS5zdHlsZS5vcGFjaXR5ID0gaSA9PT0gMCA/IE1BSU5fU0xJREVfT1BBQ0lUWSA6IHRoaXMubmVpZ2hib3JBbHBoYVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfbmV4dCAoKSB7XG4gICAgICBsZXQgbmV4dCA9IHRoaXMuY3VycmVudEluZGV4ICsgMVxuICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA8PSAxKSB7XG4gICAgICAgIG5leHQtLVxuICAgICAgfVxuICAgICAgdGhpcy5fc2xpZGVUbyhuZXh0KVxuICAgIH0sXG5cbiAgICBfcHJldiAoKSB7XG4gICAgICBsZXQgcHJldiA9IHRoaXMuY3VycmVudEluZGV4IC0gMVxuICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA8PSAxKSB7XG4gICAgICAgIHByZXYrK1xuICAgICAgfVxuICAgICAgdGhpcy5fc2xpZGVUbyhwcmV2KVxuICAgIH0sXG5cbiAgICBfaGFuZGxlVG91Y2hTdGFydCAoZXZlbnQpIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgIHRoaXMuX3N0b3BBdXRvUGxheSgpXG4gICAgICBjb25zdCBpbm5lciA9IHRoaXMuJHJlZnMuaW5uZXJcbiAgICAgIHRoaXMuX3RvdWNoUGFyYW1zID0ge1xuICAgICAgICBvcmlnaW5hbFRyYW5zZm9ybTogaW5uZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtXG4gICAgICAgICAgfHwgaW5uZXIuc3R5bGUubW96VHJhbnNmb3JtXG4gICAgICAgICAgfHwgaW5uZXIuc3R5bGUudHJhbnNmb3JtLFxuICAgICAgICBzdGFydFRvdWNoRXZlbnQ6IHRvdWNoLFxuICAgICAgICBzdGFydFg6IHRvdWNoLnBhZ2VYLFxuICAgICAgICBzdGFydFk6IHRvdWNoLnBhZ2VZLFxuICAgICAgICB0aW1lU3RhbXA6IGV2ZW50LnRpbWVTdGFtcFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfaGFuZGxlVG91Y2hNb3ZlIChldmVudCkge1xuICAgICAgY29uc3QgdHAgPSB0aGlzLl90b3VjaFBhcmFtc1xuICAgICAgaWYgKCF0cCkgeyByZXR1cm4gfVxuICAgICAgaWYgKHRoaXMuX3NsaWRpbmcpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbdnVlLXJlbmRlcl0gd2FybjogY2FuJ3Qgc2Nyb2xsIHRoZSBzbGlkZXIgZHVyaW5nIHNsaWRpbmcuYClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgc3RhcnRYLCBzdGFydFkgfSA9IHRoaXMuX3RvdWNoUGFyYW1zXG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICBjb25zdCBvZmZzZXRYID0gdG91Y2gucGFnZVggLSBzdGFydFhcbiAgICAgIGNvbnN0IG9mZnNldFkgPSB0b3VjaC5wYWdlWSAtIHN0YXJ0WVxuICAgICAgdHAub2Zmc2V0WCA9IG9mZnNldFhcbiAgICAgIHRwLm9mZnNldFkgPSBvZmZzZXRZXG4gICAgICBsZXQgaXNWID0gdHAuaXNWZXJ0aWNhbFxuICAgICAgaWYgKHR5cGVvZiBpc1YgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlzViA9IHRwLmlzVmVydGljYWwgPSBNYXRoLmFicyhvZmZzZXRYKSA8IE1hdGguYWJzKG9mZnNldFkpXG4gICAgICAgIGlmICghaXNWKSB7XG4gICAgICAgICAgdGhpcy5fZW1pdFNjcm9sbEV2ZW50KCdzY3JvbGxzdGFydCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHZlcnRpY2FsIHNjcm9sbC4ganVzdCBpZ25vcmUgaXQuXG4gICAgICBpZiAoaXNWKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gaG9yaXpvbnRhbCBzY3JvbGwuIHRyaWdnZXIgc2Nyb2xsIGV2ZW50LlxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLiRyZWZzLmlubmVyXG4gICAgICBpZiAoaW5uZXIgJiYgb2Zmc2V0WCkge1xuICAgICAgICBpZiAoIXRoaXMuX25vZGVzT2Zmc2V0Q2xlYXJlZCkge1xuICAgICAgICAgIHRoaXMuX25vZGVzT2Zmc2V0Q2xlYXJlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLl9jbGVhck5vZGVzT2Zmc2V0KClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0U2Nyb2xsRXZlbnQoJ3dlZXgkc2Nyb2xsJywge1xuICAgICAgICAgIG9mZnNldFhSYXRpbzogb2Zmc2V0WCAvIHRoaXMuX3dyYXBwZXJXaWR0aFxuICAgICAgICB9KVxuICAgICAgICBpbm5lci5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0aGlzLmlubmVyT2Zmc2V0ICsgb2Zmc2V0WH1weCwgMCwgMClgXG4gICAgICAgIGlubmVyLnN0eWxlLm1velRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3RoaXMuaW5uZXJPZmZzZXQgKyBvZmZzZXRYfXB4LCAwLCAwKWBcbiAgICAgICAgaW5uZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dGhpcy5pbm5lck9mZnNldCArIG9mZnNldFh9cHgsIDAsIDApYFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfaGFuZGxlVG91Y2hFbmQgKGV2ZW50KSB7XG4gICAgICB0aGlzLl9zdGFydEF1dG9QbGF5KClcbiAgICAgIGNvbnN0IHRwID0gdGhpcy5fdG91Y2hQYXJhbXNcbiAgICAgIGlmICghdHApIHsgcmV0dXJuIH1cbiAgICAgIGNvbnN0IGlzViA9IHRwLmlzVmVydGljYWxcbiAgICAgIGlmICh0eXBlb2YgaXNWID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyID0gdGhpcy4kcmVmcy5pbm5lclxuICAgICAgY29uc3QgeyBvZmZzZXRYIH0gPSB0cFxuICAgICAgaWYgKGlubmVyKSB7XG4gICAgICAgIHRoaXMuX25vZGVzT2Zmc2V0Q2xlYXJlZCA9IGZhbHNlXG4gICAgICAgIC8vIFRPRE86IHRlc3QgdGhlIHZlbG9jaXR5IGlmIGl0J3MgbGVzcyB0aGFuIDAuMi5cbiAgICAgICAgY29uc3QgcmVzZXQgPSBNYXRoLmFicyhvZmZzZXRYIC8gdGhpcy5fd3JhcHBlcldpZHRoKSA8IDAuMlxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBvZmZzZXRYID4gMCA/IDEgOiAtMVxuICAgICAgICBjb25zdCBuZXdJbmRleCA9IHJlc2V0ID8gdGhpcy5jdXJyZW50SW5kZXggOiAodGhpcy5jdXJyZW50SW5kZXggLSBkaXJlY3Rpb24pXG4gICAgICAgIHRoaXMuX3NsaWRlVG8obmV3SW5kZXgsIHRydWUpXG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5fdG91Y2hQYXJhbXNcbiAgICB9LFxuXG4gICAgX2hhbmRsZVRvdWNoQ2FuY2VsIChldmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVRvdWNoRW5kKGV2ZW50KVxuICAgIH0sXG5cbiAgICBfZW1pdFNjcm9sbEV2ZW50ICh0eXBlLCBkYXRhID0ge30pIHtcbiAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWxcbiAgICAgIGlmIChlbCkge1xuICAgICAgICB3ZWV4LnV0aWxzLmRpc3BhdGNoTmF0aXZlRXZlbnQoZWwsIHR5cGUsIGRhdGEpXG4gICAgICB9XG4gICAgfSxcblxuICAgIF90aHJvdHRsZUVtaXRTY3JvbGwgKG9mZnNldCwgY2FsbGJhY2spIHtcbiAgICAgIGxldCBpID0gMFxuICAgICAgY29uc3QgdGhyb3R0bGVUaW1lID0gVEhST1RUTEVfU0NST0xMX1RJTUVcbiAgICAgIGNvbnN0IGNudCA9IHBhcnNlSW50KFRSQU5TSVRJT05fVElNRSAvIHRocm90dGxlVGltZSkgLSAxXG4gICAgICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IDEgOiAtMVxuICAgICAgY29uc3QgciA9IE1hdGguYWJzKG9mZnNldCAvIHRoaXMuX3dyYXBwZXJXaWR0aClcbiAgICAgIGNvbnN0IHRocm90dGxlZFNjcm9sbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCsraSA+IGNudCkge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKHRoaXMpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLl9zdGVwID09PSAwXG4gICAgICAgICAgPyBzaWduICogciAqICgxIC0gaSAvIGNudClcbiAgICAgICAgICA6IHNpZ24gKiAociArICgxIC0gcikgKiBpIC8gY250KVxuICAgICAgICB0aGlzLl9lbWl0U2Nyb2xsRXZlbnQoJ3dlZXgkc2Nyb2xsJywge1xuICAgICAgICAgIG9mZnNldFhSYXRpbzogcmF0aW9cbiAgICAgICAgfSlcbiAgICAgICAgc2V0VGltZW91dCh0aHJvdHRsZWRTY3JvbGwsIFRIUk9UVExFX1NDUk9MTF9USU1FKVxuICAgICAgfVxuICAgICAgdGhyb3R0bGVkU2Nyb2xsKClcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gaW1wb3J0IHsgdmFsaWRhdGVTdHlsZXMgfSBmcm9tICcuLi8uLi92YWxpZGF0b3InXG4vLyBpbXBvcnQgaW5kaWNhdG9yIGZyb20gJy4vaW5kaWNhdG9yJ1xuaW1wb3J0IHNsaWRlTWl4aW4gZnJvbSAnLi9zbGlkZU1peGluJ1xuXG5jb25zdCBzbGlkZXIgPSB7XG4gIG1peGluczogW3NsaWRlTWl4aW5dLFxuICBwcm9wczoge1xuICAgIGluZGV4OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgJ2F1dG8tcGxheSc6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGludGVydmFsOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMzAwMFxuICAgIH0sXG4gICAgaW5maW5pdGU6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcblxuICB3YXRjaDoge1xuICAgIGluZGV4ICgpIHtcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5fbm9ybWFsaXplSW5kZXgodGhpcy5pbmRleClcbiAgICB9XG4gIH0sXG5cbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZyYW1lQ291bnQ6IDAsXG4gICAgICBjdXJyZW50SW5kZXg6IHRoaXMuaW5kZXhcbiAgICB9XG4gIH0sXG5cbiAgYmVmb3JlQ3JlYXRlICgpIHtcbiAgICB0aGlzLndlZXhUeXBlID0gJ3NsaWRlcidcbiAgfSxcblxuICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8vIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIC8vICAgdmFsaWRhdGVTdHlsZXMoJ3NsaWRlcicsIHRoaXMuJHZub2RlLmRhdGEgJiYgdGhpcy4kdm5vZGUuZGF0YS5zdGF0aWNTdHlsZSlcbiAgICAvLyB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclNsaWRlcyhjcmVhdGVFbGVtZW50KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3NsaWRlcicsIHNsaWRlcilcbiAgICB3ZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdjeWNsZXNsaWRlcicsIHNsaWRlcilcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgc2xpZGVNaXhpbiBmcm9tICcuL3NsaWRlTWl4aW4nXG5cbmNvbnN0IERFRkFVTFRfTkVJR0hCT1JfU1BBQ0UgPSAyMFxuY29uc3QgREVGQVVMVF9ORUlHSEJPUl9BTFBIQSA9IDAuNlxuY29uc3QgREVGQVVMVF9ORUlHSEJPUl9TQ0FMRSA9IDAuOFxuY29uc3QgREVGQVVMVF9DVVJSRU5UX0lURU1fU0NBTEUgPSAwLjlcblxuY29uc3Qgc2xpZGVyTmVpZ2hib3IgPSB7XG4gIG1peGluczogW3NsaWRlTWl4aW5dLFxuICBwcm9wczoge1xuICAgIGluZGV4OiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgYXV0b1BsYXk6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGludGVydmFsOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMzAwMFxuICAgIH0sXG4gICAgaW5maW5pdGU6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgbmVpZ2hib3JTcGFjZToge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbClcbiAgICAgICAgcmV0dXJuICFpc05hTih2YWwpICYmIHZhbCA+IDBcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiBERUZBVUxUX05FSUdIQk9SX1NQQUNFXG4gICAgfSxcbiAgICBuZWlnaGJvckFscGhhOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgICAgICByZXR1cm4gIWlzTmFOKHZhbCkgJiYgdmFsID49IDAgJiYgdmFsIDw9IDFcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiBERUZBVUxUX05FSUdIQk9SX0FMUEhBXG4gICAgfSxcbiAgICBuZWlnaGJvclNjYWxlOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgICAgICByZXR1cm4gIWlzTmFOKHZhbCkgJiYgdmFsID49IDAgJiYgdmFsIDw9IDFcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiBERUZBVUxUX05FSUdIQk9SX1NDQUxFXG4gICAgfSxcbiAgICBjdXJyZW50SXRlbVNjYWxlOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgICAgICByZXR1cm4gIWlzTmFOKHZhbCkgJiYgdmFsID49IDAgJiYgdmFsIDw9IDFcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiBERUZBVUxUX0NVUlJFTlRfSVRFTV9TQ0FMRVxuICAgIH1cbiAgfSxcblxuICB3YXRjaDoge1xuICAgIGluZGV4ICgpIHtcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5fbm9ybWFsaXplSW5kZXgodGhpcy5pbmRleClcbiAgICB9XG4gIH0sXG5cbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRJbmRleDogdGhpcy5pbmRleCxcbiAgICAgIGZyYW1lQ291bnQ6IDBcbiAgICB9XG4gIH0sXG5cbiAgYmVmb3JlQ3JlYXRlICgpIHtcbiAgICB0aGlzLmlzTmVpZ2hib3IgPSB0cnVlXG4gICAgdGhpcy53ZWV4VHlwZSA9ICdzbGlkZXItbmVpZ2hib3InXG4gIH0sXG5cbiAgcmVuZGVyIChjcmVhdGVFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclNsaWRlcyhjcmVhdGVFbGVtZW50KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3NsaWRlci1uZWlnaGJvcicsIHNsaWRlck5laWdoYm9yKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxubGV0IGdldENvbXBvbmVudElubGluZVN0eWxlXG5cbmZ1bmN0aW9uIGdldEluZGljYXRvckl0ZW1TdHlsZSAobXMsIGlzQWN0aXZlKSB7XG4gIGNvbnN0IHN0eWxlID0ge31cbiAgY29uc3QgYmdDb2xvciA9IGlzQWN0aXZlXG4gICAgPyBtc1snaXRlbVNlbGVjdGVkQ29sb3InXSB8fCBtc1snaXRlbS1zZWxlY3RlZC1jb2xvciddXG4gICAgOiBtc1snaXRlbUNvbG9yJ10gfHwgbXNbJ2l0ZW0tY29sb3InXVxuICBzdHlsZVsnYmFja2dyb3VuZC1jb2xvciddID0gYmdDb2xvclxuICBzdHlsZVsnd2lkdGgnXSA9IHN0eWxlWydoZWlnaHQnXSA9IG1zWydpdGVtU2l6ZSddIHx8IG1zWydpdGVtLXNpemUnXVxuICByZXR1cm4gc3R5bGVcbn1cblxuZnVuY3Rpb24gZ2V0U2NvcGVJZHMgKGNvbnRleHQpIHtcbiAgbGV0IHNjb3BlSWRzID0gY29udGV4dC5fc2NvcGVJZHNcbiAgaWYgKHNjb3BlSWRzKSB7XG4gICAgcmV0dXJuIHNjb3BlSWRzXG4gIH1cbiAgZWxzZSB7XG4gICAgc2NvcGVJZHMgPSBbXVxuICB9XG4gIGxldCBwYXJlbnQgPSBjb250ZXh0LiRwYXJlbnRcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGxldCBpXG4gICAgaWYgKChpID0gcGFyZW50LiRvcHRpb25zKSAmJiAoaSA9IGkuX3Njb3BlSWQpKSB7XG4gICAgICBzY29wZUlkcy5wdXNoKGkpXG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC4kcGFyZW50XG4gIH1cbiAgY29udGV4dC5fc2NvcGVJZHMgPSBzY29wZUlkc1xuICByZXR1cm4gc2NvcGVJZHNcbn1cblxuZnVuY3Rpb24gX3JlbmRlciAoY29udGV4dCwgaCkge1xuICBjb25zdCBjaGlsZHJlbiA9IFtdXG4gIGNvbnN0IG1lcmdlZFN0eWxlID0gZ2V0Q29tcG9uZW50SW5saW5lU3R5bGUoY29udGV4dClcbiAgY29uc3Qgc2NvcGVJZHMgPSBnZXRTY29wZUlkcyhjb250ZXh0KVxuICBjb25zdCBhdHRycyA9IHt9XG4gIGZvciAobGV0IGkgPSAwLCBsID0gc2NvcGVJZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXR0cnNbc2NvcGVJZHNbaV1dID0gJydcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IE51bWJlcihjb250ZXh0LmNvdW50KTsgKytpKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IFsnd2VleC1pbmRpY2F0b3ItaXRlbSB3ZWV4LWVsJ11cbiAgICBsZXQgaXNBY3RpdmUgPSBmYWxzZVxuICAgIGlmIChpID09PSBOdW1iZXIoY29udGV4dC5hY3RpdmUpKSB7XG4gICAgICBjbGFzc05hbWVzLnB1c2goJ3dlZXgtaW5kaWNhdG9yLWl0ZW0tYWN0aXZlJylcbiAgICAgIGlzQWN0aXZlID0gdHJ1ZVxuICAgIH1cbiAgICBjaGlsZHJlbi5wdXNoKGgoJ21hcmsnLCB7XG4gICAgICBhdHRycyxcbiAgICAgIHN0YXRpY0NsYXNzOiBjbGFzc05hbWVzLmpvaW4oJyAnKSxcbiAgICAgIHN0YXRpY1N0eWxlOiBnZXRJbmRpY2F0b3JJdGVtU3R5bGUobWVyZ2VkU3R5bGUsIGlzQWN0aXZlKVxuICAgIH0pKVxuICB9XG4gIHJldHVybiBoKCduYXYnLCB7XG4gICAgYXR0cnM6IHsgJ3dlZXgtdHlwZSc6ICdpbmRpY2F0b3InIH0sXG4gICAgc3RhdGljQ2xhc3M6ICd3ZWV4LWluZGljYXRvciB3ZWV4LWN0J1xuICB9LCBbXG4gICAgLy8gdGhlIGluZGljYXRvciBuYXYgbWF5IGNvdmVyIHRoZSBzbGlkZXMsIGFuZCBtYXkgc3RvcCB0aGVcbiAgICAvLyBjbGljayBldmVudCBiZSB0cmlnZ2VyZWQgb24gdGhlIHNsaWRlcy5cbiAgICAvLyBzbyBhIHNtYWxsZXIgd3JhcHBlciBpcyBuZWVkZWQgdG8gcHJldmVudCB0aGUgb3ZlcmxhcC5cbiAgICAvLyBUaGlzIHdyYXBwZXIgd2lsbCBjb3ZlciBvbmx5IHRoZSB3aG9sZSBzaXplIG9mIGFsbCB0aGVcbiAgICAvLyBpbmRpY2F0b3IgcG9pbnRlcnMnIGl0ZW0tc2l6ZXMuXG4gICAgaCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LWluZGljYXRvci1pbm5lcidcbiAgICB9LCBjaGlsZHJlbilcbiAgXSlcbn1cblxuY29uc3QgaW5kaWNhdG9yID0ge1xuICBuYW1lOiAnd2VleC1pbmRpY2F0b3InLFxuICBtZXRob2RzOiB7XG4gICAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBpdGVtQ29sb3I6IFtTdHJpbmddLFxuICAgIGl0ZW1TZWxlY3RlZENvbG9yOiBbU3RyaW5nXSxcbiAgICBpdGVtU2l6ZTogW1N0cmluZ11cbiAgfSxcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdW50OiAwLFxuICAgICAgYWN0aXZlOiAwXG4gICAgfVxuICB9LFxuICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICBjb25zdCB7IGNvdW50LCBhY3RpdmUgfSA9IHRoaXMuJHZub2RlLmRhdGEuYXR0cnMgfHwge31cbiAgICB0aGlzLmNvdW50ID0gY291bnRcbiAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZVxuICAgIGlmICghdGhpcy5jb3VudCkgeyByZXR1cm4gfVxuICAgIHJldHVybiBfcmVuZGVyKHRoaXMsIGNyZWF0ZUVsZW1lbnQpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgZ2V0Q29tcG9uZW50SW5saW5lU3R5bGUgPSB3ZWV4LmdldENvbXBvbmVudElubGluZVN0eWxlXG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnaW5kaWNhdG9yJywgaW5kaWNhdG9yKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHNsaWRlciBmcm9tICcuL3NsaWRlcidcbmltcG9ydCBuZWlnaGJvciBmcm9tICcuL3NsaWRlci1uZWlnaGJvcidcbmltcG9ydCBpbmRpY2F0b3IgZnJvbSAnLi9pbmRpY2F0b3InXG5pbXBvcnQgJy4vc3R5bGUuY3NzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICB3ZWV4Lmluc3RhbGwoc2xpZGVyKVxuICAgIHdlZXguaW5zdGFsbChuZWlnaGJvcilcbiAgICB3ZWV4Lmluc3RhbGwoaW5kaWNhdG9yKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCAnLi9zdHlsZS5jc3MnXG5cbmZ1bmN0aW9uIGdldFRleHRhcmVhICh3ZWV4KSB7XG4gIGNvbnN0IHsgZXh0cmFjdENvbXBvbmVudFN0eWxlIH0gPSB3ZWV4XG4gIGNvbnN0IHsgaW5wdXRDb21tb24gfSA9IHdlZXgubWl4aW5zXG4gIGNvbnN0IHsgZXh0ZW5kLCBtYXBGb3JtRXZlbnRzIH0gPSB3ZWV4LnV0aWxzXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC10ZXh0YXJlYScsXG4gICAgbWl4aW5zOiBbaW5wdXRDb21tb25dLFxuICAgIHByb3BzOiB7XG4gICAgICB2YWx1ZTogU3RyaW5nLFxuICAgICAgcGxhY2Vob2xkZXI6IFN0cmluZyxcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGF1dG9mb2N1czoge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICByb3dzOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICAgIGRlZmF1bHQ6IDJcbiAgICAgIH0sXG4gICAgICByZXR1cm5LZXlUeXBlOiBTdHJpbmdcbiAgICB9LFxuXG4gICAgcmVuZGVyIChjcmVhdGVFbGVtZW50KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAvLyAgIHZhbGlkYXRlU3R5bGVzKCd0ZXh0YXJlYScsIHRoaXMuJHZub2RlLmRhdGEgJiYgdGhpcy4kdm5vZGUuZGF0YS5zdGF0aWNTdHlsZSlcbiAgICAgIC8vIH1cbiAgICAgIGNvbnN0IGV2ZW50cyA9IGV4dGVuZChtYXBGb3JtRXZlbnRzKHRoaXMpKVxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2h0bWw6dGV4dGFyZWEnLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgJ3dlZXgtdHlwZSc6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgZGlzYWJsZWQ6ICh0aGlzLmRpc2FibGVkICE9PSAnZmFsc2UnICYmIHRoaXMuZGlzYWJsZWQgIT09IGZhbHNlKSxcbiAgICAgICAgICBhdXRvZm9jdXM6ICh0aGlzLmF1dG9mb2N1cyAhPT0gJ2ZhbHNlJyAmJiB0aGlzLmF1dG9mb2N1cyAhPT0gZmFsc2UpLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLnBsYWNlaG9sZGVyLFxuICAgICAgICAgIHJvd3M6IHRoaXMucm93cyxcbiAgICAgICAgICAncmV0dXJuLWtleS10eXBlJzogdGhpcy5yZXR1cm5LZXlUeXBlXG4gICAgICAgIH0sXG4gICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IHRoaXMuY3JlYXRlS2V5Ym9hcmRFdmVudChldmVudHMpLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtdGV4dGFyZWEgd2VleC1lbCcsXG4gICAgICAgIHN0YXRpY1N0eWxlOiBleHRyYWN0Q29tcG9uZW50U3R5bGUodGhpcylcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3RleHRhcmVhJywgZ2V0VGV4dGFyZWEod2VleCkpXG4gIH1cbn1cbiIsIi8qXG4qIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4qIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4qIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4qIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4qIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4qIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4qIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cblxuZnVuY3Rpb24gZ2V0VmlkZW8gKHdlZXgpIHtcbiAgY29uc3Qge1xuICAgIGV4dHJhY3RDb21wb25lbnRTdHlsZSxcbiAgICBtYXBOYXRpdmVFdmVudHNcbiAgfSA9IHdlZXhcbiAgY29uc3QgeyBkaXNwYXRjaE5hdGl2ZUV2ZW50IH0gPSB3ZWV4LnV0aWxzXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnd2VleC12aWRlbycsXG4gICAgcHJvcHM6IHtcbiAgICAgIHNyYzogU3RyaW5nLFxuICAgICAgcGxheVN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICdwYXVzZScsXG4gICAgICAgIHZhbGlkYXRvciAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gWydwbGF5JywgJ3BhdXNlJ10uaW5kZXhPZih2YWx1ZSkgIT09IC0xXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhdXRvcGxheToge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBhdXRvUGxheToge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBwbGF5c2lubGluZToge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBCb29sZWFuXSxcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIEJvb2xlYW5dLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXIgKGNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09ICdwbGF5Jykge1xuICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJGVsICYmIHRoaXMuJGVsLnBsYXkoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KHRoaXMgJiYgdGhpcy4kZWwsICdlcnJvcicsIHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5wbGF5U3RhdHVzID09PSAncGF1c2UnKSB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbCAmJiB0aGlzLiRlbC5wYXVzZSgpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdodG1sOnZpZGVvJywge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICd3ZWV4LXR5cGUnOiAndmlkZW8nLFxuICAgICAgICAgIGF1dG9wbGF5OiAoKHRoaXMuYXV0b3BsYXkgIT09ICdmYWxzZScgJiYgdGhpcy5hdXRvcGxheSAhPT0gZmFsc2UpXG4gICAgICAgICAgICB8fCAodGhpcy5hdXRvUGxheSAhPT0gJ2ZhbHNlJyAmJiB0aGlzLmF1dG9QbGF5ICE9PSBmYWxzZSkpLFxuICAgICAgICAgICd3ZWJraXQtcGxheXNpbmxpbmUnOiB0aGlzLnBsYXlzaW5saW5lLFxuICAgICAgICAgIGNvbnRyb2xzOiB0aGlzLmNvbnRyb2xzLFxuICAgICAgICAgIHNyYzogdGhpcy5zcmNcbiAgICAgICAgfSxcbiAgICAgICAgb246IG1hcE5hdGl2ZUV2ZW50cyh0aGlzLCB7XG4gICAgICAgICAgcGxheTogJ3N0YXJ0JyxcbiAgICAgICAgICBlcnJvcjogJ2ZhaWwnXG4gICAgICAgIH0pLFxuICAgICAgICBzdGF0aWNDbGFzczogJ3dlZXgtdmlkZW8gd2VleC1lbCcsXG4gICAgICAgIHN0YXRpY1N0eWxlOiBleHRyYWN0Q29tcG9uZW50U3R5bGUodGhpcylcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIHdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3ZpZGVvJywgZ2V0VmlkZW8od2VleCkpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0ICcuL3N0eWxlLmNzcydcblxuZnVuY3Rpb24gZ2V0V2ViICh3ZWV4KSB7XG4gIGNvbnN0IHsgZXh0cmFjdENvbXBvbmVudFN0eWxlIH0gPSB3ZWV4XG4gIGNvbnN0IHsgZGlzcGF0Y2hOYXRpdmVFdmVudCB9ID0gd2VleC51dGlsc1xuXG4gIHJldHVybiB7XG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50U3JjOiAnJ1xuICAgICAgfVxuICAgIH0sXG4gICAgbmFtZTogJ3dlZXgtd2ViJyxcbiAgICBwcm9wczoge1xuICAgICAgc3JjOiBTdHJpbmdcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICBzcmMgKG5ld1ZhbCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRTcmMgPSBuZXdWYWxcbiAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIGdvQmFjayAoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWxcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgY29uc3Qgd2luID0gZWwuY29udGVudFdpbmRvd1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW4uaGlzdG9yeS5iYWNrKClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNyYyA9IHdpbi5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQoZWwsICdlcnJvcicsIGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnb0ZvcndhcmQgKCkge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuJGVsXG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIGNvbnN0IHdpbiA9IGVsLmNvbnRlbnRXaW5kb3dcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luLmhpc3RvcnkuZm9yd2FyZCgpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTcmMgPSB3aW4ubG9jYXRpb24uaHJlZlxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkaXNwYXRjaE5hdGl2ZUV2ZW50KGVsLCAnZXJyb3InLCBlcnIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVsb2FkICgpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZWwuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbCwgJ3BhZ2VzdGFydCcsIHsgdXJsOiB0aGlzLmN1cnJlbnRTcmMgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbCwgJ2Vycm9yJywgZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjcmVhdGVkICgpIHtcbiAgICAgIHRoaXMuY3VycmVudFNyYyA9IHRoaXMuc3JjXG4gICAgfSxcblxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbFxuICAgICAgdGhpcy5fcHJldlNyYyA9IHRoaXMuY3VycmVudFNyY1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQoZWwsICdwYWdlc3RhcnQnLCB7IHVybDogdGhpcy5jdXJyZW50U3JjIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZWQgKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNyYyAhPT0gdGhpcy5fcHJldlNyYykge1xuICAgICAgICB0aGlzLl9wcmV2U3JjID0gdGhpcy5jdXJyZW50U3JjXG4gICAgICAgIGRpc3BhdGNoTmF0aXZlRXZlbnQodGhpcy4kZWwsICdwYWdlc3RhcnQnLCB7IHVybDogdGhpcy5jdXJyZW50U3JjIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlciAoY3JlYXRlRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAnd2VleC10eXBlJzogJ3dlYicsXG4gICAgICAgICAgc3JjOiB0aGlzLmN1cnJlbnRTcmNcbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBsb2FkOiBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWxcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gZWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbCwgJ3BhZ2VmaW5pc2gnLCB7IHVybDogdGhpcy5jdXJyZW50U3JjIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbCwgJ2Vycm9yJywgbmV3IEVycm9yKCdbdnVlLXJlbmRlcl06Zm91bmQgbm8gcGFnZSBjb250ZW50LicpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hOYXRpdmVFdmVudChlbCwgJ2Vycm9yJywgZXJyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGljQ2xhc3M6ICd3ZWV4LXdlYiB3ZWV4LWVsJyxcbiAgICAgICAgc3RhdGljU3R5bGU6IGV4dHJhY3RDb21wb25lbnRTdHlsZSh0aGlzKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3RlckNvbXBvbmVudCgnd2ViJywgZ2V0V2ViKHdlZXgpKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIGltcG9ydCBhIGZyb20gJy4vYSdcbi8vIGltcG9ydCBkaXYgZnJvbSAnLi9kaXYnXG4vLyBpbXBvcnQgaW1hZ2UgZnJvbSAnLi9pbWFnZSdcbmltcG9ydCBpbnB1dCBmcm9tICcuL2lucHV0J1xuaW1wb3J0IF9zd2l0Y2ggZnJvbSAnLi9zd2l0Y2gnXG5pbXBvcnQgc2Nyb2xsYWJsZSBmcm9tICcuL3Njcm9sbGFibGUnXG5pbXBvcnQgc2xpZGVyIGZyb20gJy4vc2xpZGVyJ1xuLy8gaW1wb3J0IHRleHQgZnJvbSAnLi90ZXh0J1xuaW1wb3J0IHRleHRhcmVhIGZyb20gJy4vdGV4dGFyZWEnXG5pbXBvcnQgdmlkZW8gZnJvbSAnLi92aWRlbydcbmltcG9ydCB3ZWIgZnJvbSAnLi93ZWInXG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgLy8gYSxcbiAgLy8gZGl2LFxuICAvLyBpbWFnZSxcbiAgaW5wdXQsXG4gIF9zd2l0Y2gsXG4gIHNjcm9sbGFibGUsXG4gIHNsaWRlcixcbiAgLy8gdGV4dCxcbiAgdGV4dGFyZWEsXG4gIHZpZGVvLFxuICB3ZWJcbl1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHN1cHBvcnRHZW9sb2NhdGlvbiA9ICdnZW9sb2NhdGlvbicgaW4gbmF2aWdhdG9yXG5jb25zdCBlcnJvck1zZyA9IGBbaDUtcmVuZGVyXTogYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZ2VvbG9jYXRpb24uYFxuXG5jb25zdCBnZW9sb2NhdGlvbiA9IHtcbiAgLy8gb3B0aW9uczpcbiAgLy8gICAtIGVuYWJsZUhpZ2hBY2N1cmFjeSBvcHRpb25hbCwgdmFsdWUgaXMgdHJ1ZSBvciBmYWxzZSwgZmFsc2UgYnkgZGVmYXVsdC5cbiAgLy8gICAtIHRpbWVvdXQgW25vbmUtbmF0aXZlXSBvcHRpb25hbCwgdmFsdWUgaXMgYSBudW1iZXIgKG1pbGxpc2Vjb25kcyksIGRlZmF1bHQgdmF1bGUgaXMgRklORklOSVRZLlxuICAvLyAgIC0gbWF4aW11bUFnZSBbbm9uZS1uYXRpdmVdIG9wdGlvbmFsLCB2YWx1ZSBpcyBhIG51bWJlciAobWlsbGlzZWNvbmRzKSwgZGVmYXVsdCB2YWx1ZSBpcyAwLlxuICBnZXRDdXJyZW50UG9zaXRpb24gKHN1Y2Nlc3NDYklkLCBlcnJvckNiSWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdWNjZXNzQ2IgPSBwb3MgPT4gdGhpcy5zZW5kZXIucGVyZm9ybUNhbGxiYWNrKHN1Y2Nlc3NDYklkLCBwb3MpXG4gICAgY29uc3QgZXJyb3JDYiA9IGVyciA9PiB0aGlzLnNlbmRlci5wZXJmb3JtQ2FsbGJhY2soZXJyb3JDYklkLCBlcnIpXG4gICAgaWYgKHN1cHBvcnRHZW9sb2NhdGlvbikge1xuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzQ2IsIGVycm9yQ2IsIG9wdGlvbnMpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGVycm9yTXNnKVxuICAgICAgZXJyb3JDYihuZXcgRXJyb3IoZXJyb3JNc2cpKVxuICAgIH1cbiAgfSxcblxuICAvLyBvcHRpb25zOiB0aGUgc2FtZSB3aXRoIGBnZXRDdXJyZW50UG9zaXRpb25gLlxuICB3YXRjaFBvc2l0aW9uIChzdWNjZXNzQ2JJZCwgZXJyb3JDYklkLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc3VjY2Vzc0NiID0gcG9zID0+IHRoaXMuc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhzdWNjZXNzQ2JJZCwgcG9zLCB0cnVlKVxuICAgIGNvbnN0IGVycm9yQ2IgPSBlcnIgPT4gdGhpcy5zZW5kZXIucGVyZm9ybUNhbGxiYWNrKGVycm9yQ2JJZCwgZXJyKVxuICAgIGlmIChzdXBwb3J0R2VvbG9jYXRpb24pIHtcbiAgICAgIGNvbnN0IGlkID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24ocG9zID0+IHtcbiAgICAgICAgcG9zLndhdGNoSWQgPSBpZFxuICAgICAgICBzdWNjZXNzQ2IocG9zKVxuICAgICAgfSwgZXJyb3JDYiwgb3B0aW9ucylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyb3JNc2cpXG4gICAgICBlcnJvckNiKG5ldyBFcnJvcihlcnJvck1zZykpXG4gICAgfVxuICB9LFxuXG4gIGNsZWFyV2F0Y2ggKHdhdGNoSWQpIHtcbiAgICBpZiAoc3VwcG9ydEdlb2xvY2F0aW9uKSB7XG4gICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh3YXRjaElkKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnJvck1zZylcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgZ2VvbG9jYXRpb246IFt7XG4gICAgbmFtZTogJ2dldEN1cnJlbnRQb3NpdGlvbicsXG4gICAgYXJnczogWydmdW5jdGlvbicsICdmdW5jdGlvbicsICdvYmplY3QnXVxuICB9LCB7XG4gICAgbmFtZTogJ3dhdGNoUG9zaXRpb24nLFxuICAgIGFyZ3M6IFsnZnVuY3Rpb24nLCAnZnVuY3Rpb24nLCAnb2JqZWN0J11cbiAgfSwge1xuICAgIG5hbWU6ICdjbGVhcldhdGNoJyxcbiAgICBhcmdzOiBbJ3N0cmluZyddXG4gIH1dXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAoV2VleCkge1xuICAgIFdlZXgucmVnaXN0ZXJBcGlNb2R1bGUoJ2dlb2xvY2F0aW9uJywgZ2VvbG9jYXRpb24sIG1ldGEpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZ2xvYmFsIGxvY2FsU3RvcmFnZSAqL1xuXG4ndXNlIHN0cmljdCdcblxubGV0IHN1cHBvcnRMb2NhbFN0b3JhZ2UgPSBmYWxzZVxudHJ5IHtcbiAgc3VwcG9ydExvY2FsU3RvcmFnZSA9IHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnXG59XG5jYXRjaCAoZXJyKSB7XG4gIC8vIG5vdCBzdXBwb3J0LlxufVxuXG5jb25zdCBTVUNDRVNTID0gJ3N1Y2Nlc3MnXG5jb25zdCBGQUlMRUQgPSAnZmFpbGVkJ1xuY29uc3QgSU5WQUxJRF9QQVJBTSA9ICdpbnZhbGlkX3BhcmFtJ1xuY29uc3QgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCdcblxuZnVuY3Rpb24gY2FsbEZhaWwgKHNlbmRlciwgY2FsbGJhY2tJZCwgZXJyb3JNc2cpIHtcbiAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgcmVzdWx0OiBGQUlMRUQsXG4gICAgZGF0YTogZXJyb3JNc2cgfHwgVU5ERUZJTkVEXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGNhbGxOb3RTdXBwb3J0RmFpbCAoc2VuZGVyLCBjYWxsYmFja0lkKSB7XG4gIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwge1xuICAgIHJlc3VsdDogRkFJTEVELFxuICAgIGRhdGE6ICdsb2NhbFN0b3JhZ2UgaXMgZGlzYWJsZWQgb3Igbm90IHN1cHBvcnRlZC4nXG4gIH0pXG59XG5cbmNvbnN0IHN0b3JhZ2UgPSB7XG5cbiAgLyoqXG4gICAqIFdoZW4gcGFzc2VkIGEga2V5IG5hbWUgYW5kIHZhbHVlLCB3aWxsIGFkZCB0aGF0IGtleSB0byB0aGUgc3RvcmFnZSxcbiAgICogb3IgdXBkYXRlIHRoYXQga2V5J3MgdmFsdWUgaWYgaXQgYWxyZWFkeSBleGlzdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIG5vdCBudWxsIG5vciB1bmRpZmluZWTvvIxidXQgMCB3b3Jrcy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tJZFxuICAgKi9cbiAgc2V0SXRlbTogZnVuY3Rpb24gKGtleSwgdmFsdWUsIGNhbGxiYWNrSWQpIHtcbiAgICBjb25zdCBzZW5kZXIgPSB0aGlzLnNlbmRlclxuICAgIGlmICghc3VwcG9ydExvY2FsU3RvcmFnZSkge1xuICAgICAgcmV0dXJuIGNhbGxOb3RTdXBwb3J0RmFpbChzZW5kZXIsIGNhbGxiYWNrSWQpXG4gICAgfVxuICAgIGlmICgha2V5IHx8ICghdmFsdWUgJiYgdmFsdWUgIT09IDApKSB7XG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHtcbiAgICAgICAgcmVzdWx0OiAnZmFpbGVkJyxcbiAgICAgICAgZGF0YTogSU5WQUxJRF9QQVJBTVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSlcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwge1xuICAgICAgICByZXN1bHQ6IFNVQ0NFU1MsXG4gICAgICAgIGRhdGE6IFVOREVGSU5FRFxuICAgICAgfSlcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGFjY2VwdCBhbnkgZXhjZXB0aW9uIHRocm93biBkdXJpbmcgYSBzdG9yYWdlIGF0dGVtcHQgYXMgYSBxdW90YSBlcnJvclxuICAgICAgY2FsbEZhaWwoc2VuZGVyLCBjYWxsYmFja0lkKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogV2hlbiBwYXNzZWQgYSBrZXkgbmFtZSwgd2lsbCByZXR1cm4gdGhhdCBrZXkncyB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBnZXRJdGVtOiBmdW5jdGlvbiAoa2V5LCBjYWxsYmFja0lkKSB7XG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBpZiAoIXN1cHBvcnRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiBjYWxsTm90U3VwcG9ydEZhaWwoc2VuZGVyLCBjYWxsYmFja0lkKVxuICAgIH1cbiAgICBpZiAoIWtleSkge1xuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICAgIHJlc3VsdDogRkFJTEVELFxuICAgICAgICBkYXRhOiBJTlZBTElEX1BBUkFNXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHtcbiAgICAgICAgcmVzdWx0OiB2YWwgPyBTVUNDRVNTIDogRkFJTEVELFxuICAgICAgICBkYXRhOiB2YWwgfHwgVU5ERUZJTkVEXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8gYWNjZXB0IGFueSBleGNlcHRpb24gdGhyb3duIGR1cmluZyBhIHN0b3JhZ2UgYXR0ZW1wdCBhcyBhIHF1b3RhIGVycm9yXG4gICAgICBjYWxsRmFpbChzZW5kZXIsIGNhbGxiYWNrSWQpXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKldoZW4gcGFzc2VkIGEga2V5IG5hbWUsIHdpbGwgcmVtb3ZlIHRoYXQga2V5IGZyb20gdGhlIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tJZFxuICAgKi9cbiAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gKGtleSwgY2FsbGJhY2tJZCkge1xuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG4gICAgaWYgKCFzdXBwb3J0TG9jYWxTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gY2FsbE5vdFN1cHBvcnRGYWlsKHNlbmRlciwgY2FsbGJhY2tJZClcbiAgICB9XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwge1xuICAgICAgICByZXN1bHQ6IEZBSUxFRCxcbiAgICAgICAgZGF0YTogSU5WQUxJRF9QQVJBTVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICAgIHJlc3VsdDogU1VDQ0VTUyxcbiAgICAgICAgZGF0YTogVU5ERUZJTkVEXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8gYWNjZXB0IGFueSBleGNlcHRpb24gdGhyb3duIGR1cmluZyBhIHN0b3JhZ2UgYXR0ZW1wdCBhcyBhIHF1b3RhIGVycm9yXG4gICAgICBjYWxsRmFpbChzZW5kZXIsIGNhbGxiYWNrSWQpXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgb2YgZGF0YSBpdGVtcyBzdG9yZWQgaW4gdGhlIFN0b3JhZ2Ugb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBsZW5ndGg6IGZ1bmN0aW9uIChjYWxsYmFja0lkKSB7XG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBpZiAoIXN1cHBvcnRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiBjYWxsTm90U3VwcG9ydEZhaWwoc2VuZGVyLCBjYWxsYmFja0lkKVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgbGVuID0gbG9jYWxTdG9yYWdlLmxlbmd0aFxuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICAgIHJlc3VsdDogU1VDQ0VTUyxcbiAgICAgICAgZGF0YTogbGVuXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8gYWNjZXB0IGFueSBleGNlcHRpb24gdGhyb3duIGR1cmluZyBhIHN0b3JhZ2UgYXR0ZW1wdCBhcyBhIHF1b3RhIGVycm9yXG4gICAgICBjYWxsRmFpbChzZW5kZXIsIGNhbGxiYWNrSWQpXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IHRoYXQgY29udGFpbnMgYWxsIGtleXMgc3RvcmVkIGluIFN0b3JhZ2Ugb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBnZXRBbGxLZXlzOiBmdW5jdGlvbiAoY2FsbGJhY2tJZCkge1xuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG4gICAgaWYgKCFzdXBwb3J0TG9jYWxTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gY2FsbE5vdFN1cHBvcnRGYWlsKHNlbmRlciwgY2FsbGJhY2tJZClcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IF9hcnIgPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX2Fyci5wdXNoKGxvY2FsU3RvcmFnZS5rZXkoaSkpXG4gICAgICB9XG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHtcbiAgICAgICAgcmVzdWx0OiBTVUNDRVNTLFxuICAgICAgICBkYXRhOiBfYXJyXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8gYWNjZXB0IGFueSBleGNlcHRpb24gdGhyb3duIGR1cmluZyBhIHN0b3JhZ2UgYXR0ZW1wdCBhcyBhIHF1b3RhIGVycm9yXG4gICAgICBjYWxsRmFpbChzZW5kZXIsIGNhbGxiYWNrSWQpXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1ldGEgPSB7XG4gIHN0b3JhZ2U6IFt7XG4gICAgbmFtZTogJ3NldEl0ZW0nLFxuICAgIGFyZ3M6IFsnc3RyaW5nJywgJ3N0cmluZycsICdmdW5jdGlvbiddXG4gIH0sIHtcbiAgICBuYW1lOiAnZ2V0SXRlbScsXG4gICAgYXJnczogWydzdHJpbmcnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ3JlbW92ZUl0ZW0nLFxuICAgIGFyZ3M6IFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ11cbiAgfSwge1xuICAgIG5hbWU6ICdsZW5ndGgnLFxuICAgIGFyZ3M6IFsnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ2dldEFsbEtleXMnLFxuICAgIGFyZ3M6IFsnZnVuY3Rpb24nXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnc3RvcmFnZScsIHN0b3JhZ2UsIG1ldGEpXG4gIH1cbn1cbiIsIih0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgJiYgKHdpbmRvdyA9IHtjdHJsOiB7fSwgbGliOiB7fX0pOyF3aW5kb3cuY3RybCAmJiAod2luZG93LmN0cmwgPSB7fSk7IXdpbmRvdy5saWIgJiYgKHdpbmRvdy5saWIgPSB7fSk7IWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhcmFtc1wiLHtzZXQ6ZnVuY3Rpb24oYSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2Zvcih2YXIgYyBpbiBiKWRlbGV0ZSBiW2NdO2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXX19LGdldDpmdW5jdGlvbigpe3JldHVybiBifSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzZWFyY2hcIix7c2V0OmZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXswPT09YS5pbmRleE9mKFwiP1wiKSYmKGE9YS5zdWJzdHIoMSkpO3ZhciBjPWEuc3BsaXQoXCImXCIpO2Zvcih2YXIgZCBpbiBiKWRlbGV0ZSBiW2RdO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdLnNwbGl0KFwiPVwiKTtpZih2b2lkIDAhPT1mWzFdJiYoZlsxXT1mWzFdLnRvU3RyaW5nKCkpLGZbMF0pdHJ5e2JbZGVjb2RlVVJJQ29tcG9uZW50KGZbMF0pXT1kZWNvZGVVUklDb21wb25lbnQoZlsxXSl9Y2F0Y2goZyl7YltmWzBdXT1mWzFdfX19fSxnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1bXTtmb3IodmFyIGMgaW4gYilpZih2b2lkIDAhPT1iW2NdKWlmKFwiXCIhPT1iW2NdKXRyeXthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGMpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiW2NdKSl9Y2F0Y2goZCl7YS5wdXNoKGMrXCI9XCIrYltjXSl9ZWxzZSB0cnl7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChjKSl9Y2F0Y2goZCl7YS5wdXNoKGMpfXJldHVybiBhLmxlbmd0aD9cIj9cIithLmpvaW4oXCImXCIpOlwiXCJ9LGVudW1lcmFibGU6ITB9KTt2YXIgYztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhhc2hcIix7c2V0OmZ1bmN0aW9uKGEpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYSYmYS5pbmRleE9mKFwiI1wiKTwwJiYoYT1cIiNcIithKSxjPWF8fFwiXCIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sZW51bWVyYWJsZTohMH0pLHRoaXMuc2V0PWZ1bmN0aW9uKGEpe2E9YXx8XCJcIjt2YXIgYjtpZighKGI9YS5tYXRjaChuZXcgUmVnRXhwKFwiXihbYS16MC05LV0rOik/Wy9dezJ9KD86KFteQC86P10rKSg/OjooW15ALzpdKykpP0ApPyhbXjovPyNdKykoPzpbOl0oWzAtOV0rKSk/KFsvXVtePyM7XSopPyg/Ols/XShbXiNdKikpPyhbI11bXj9dKik/JFwiLFwiaVwiKSkpKXRocm93IG5ldyBFcnJvcihcIldyb25nIHVyaSBzY2hlbWUuXCIpO3RoaXMucHJvdG9jb2w9YlsxXXx8KFwib2JqZWN0XCI9PXR5cGVvZiBsb2NhdGlvbj9sb2NhdGlvbi5wcm90b2NvbDpcIlwiKSx0aGlzLnVzZXJuYW1lPWJbMl18fFwiXCIsdGhpcy5wYXNzd29yZD1iWzNdfHxcIlwiLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0PWJbNF0sdGhpcy5wb3J0PWJbNV18fFwiXCIsdGhpcy5wYXRobmFtZT1iWzZdfHxcIi9cIix0aGlzLnNlYXJjaD1iWzddfHxcIlwiLHRoaXMuaGFzaD1iWzhdfHxcIlwiLHRoaXMub3JpZ2luPXRoaXMucHJvdG9jb2wrXCIvL1wiK3RoaXMuaG9zdG5hbWV9LHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByb3RvY29sK1wiLy9cIjtyZXR1cm4gdGhpcy51c2VybmFtZSYmKGErPXRoaXMudXNlcm5hbWUsdGhpcy5wYXNzd29yZCYmKGErPVwiOlwiK3RoaXMucGFzc3dvcmQpLGErPVwiQFwiKSxhKz10aGlzLmhvc3QsdGhpcy5wb3J0JiZcIjgwXCIhPT10aGlzLnBvcnQmJihhKz1cIjpcIit0aGlzLnBvcnQpLHRoaXMucGF0aG5hbWUmJihhKz10aGlzLnBhdGhuYW1lKSx0aGlzLnNlYXJjaCYmKGErPXRoaXMuc2VhcmNoKSx0aGlzLmhhc2gmJihhKz10aGlzLmhhc2gpLGF9LGEmJnRoaXMuc2V0KGEudG9TdHJpbmcoKSl9Yi5odHRwdXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYyhhKX19KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpOzttb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5saWJbJ2h0dHB1cmwnXTsiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHR9KTtcbn07XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHN0cmljdFVyaUVuY29kZSA9IHJlcXVpcmUoJ3N0cmljdC11cmktZW5jb2RlJyk7XG52YXIgb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG5mdW5jdGlvbiBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0cykge1xuXHRzd2l0Y2ggKG9wdHMuYXJyYXlGb3JtYXQpIHtcblx0XHRjYXNlICdpbmRleCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IFtcblx0XHRcdFx0XHRlbmNvZGUoa2V5LCBvcHRzKSxcblx0XHRcdFx0XHQnWycsXG5cdFx0XHRcdFx0aW5kZXgsXG5cdFx0XHRcdFx0J10nXG5cdFx0XHRcdF0uam9pbignJykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0J1snLFxuXHRcdFx0XHRcdGVuY29kZShpbmRleCwgb3B0cyksXG5cdFx0XHRcdFx0J109Jyxcblx0XHRcdFx0XHRlbmNvZGUodmFsdWUsIG9wdHMpXG5cdFx0XHRcdF0uam9pbignJyk7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gZW5jb2RlKGtleSwgb3B0cykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0J1tdPScsXG5cdFx0XHRcdFx0ZW5jb2RlKHZhbHVlLCBvcHRzKVxuXHRcdFx0XHRdLmpvaW4oJycpO1xuXHRcdFx0fTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gZW5jb2RlKGtleSwgb3B0cykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0Jz0nLFxuXHRcdFx0XHRcdGVuY29kZSh2YWx1ZSwgb3B0cylcblx0XHRcdFx0XS5qb2luKCcnKTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VyRm9yQXJyYXlGb3JtYXQob3B0cykge1xuXHR2YXIgcmVzdWx0O1xuXG5cdHN3aXRjaCAob3B0cy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpIHtcblx0XHRcdFx0cmVzdWx0ID0gL1xcWyhcXGQqKVxcXSQvLmV4ZWMoa2V5KTtcblxuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXFxkKlxcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV1bcmVzdWx0WzFdXSA9IHZhbHVlO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikge1xuXHRcdFx0XHRyZXN1bHQgPSAvKFxcW1xcXSkkLy5leGVjKGtleSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXF0kLywgJycpO1xuXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fSBlbHNlIGlmIChhY2N1bXVsYXRvcltrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW3ZhbHVlXTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW10uY29uY2F0KGFjY3VtdWxhdG9yW2tleV0sIHZhbHVlKTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikge1xuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbmNvZGUodmFsdWUsIG9wdHMpIHtcblx0aWYgKG9wdHMuZW5jb2RlKSB7XG5cdFx0cmV0dXJuIG9wdHMuc3RyaWN0ID8gc3RyaWN0VXJpRW5jb2RlKHZhbHVlKSA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGtleXNTb3J0ZXIoaW5wdXQpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0cmV0dXJuIGlucHV0LnNvcnQoKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIGtleXNTb3J0ZXIoT2JqZWN0LmtleXMoaW5wdXQpKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRyZXR1cm4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpO1xuXHRcdH0pLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gaW5wdXRba2V5XTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZnVuY3Rpb24gKHN0cikge1xuXHRyZXR1cm4gc3RyLnNwbGl0KCc/JylbMV0gfHwgJyc7XG59O1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuXHRvcHRzID0gb2JqZWN0QXNzaWduKHthcnJheUZvcm1hdDogJ25vbmUnfSwgb3B0cyk7XG5cblx0dmFyIGZvcm1hdHRlciA9IHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdHMpO1xuXG5cdC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9xdWVyeS1zdHJpbmcvaXNzdWVzLzQ3XG5cdHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL14oXFw/fCN8JikvLCAnJyk7XG5cblx0aWYgKCFzdHIpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0c3RyLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblx0XHR2YXIgcGFydHMgPSBwYXJhbS5yZXBsYWNlKC9cXCsvZywgJyAnKS5zcGxpdCgnPScpO1xuXHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0dmFyIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cblx0XHQvLyBtaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHR2YWwgPSB2YWwgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcblxuXHRcdGZvcm1hdHRlcihkZWNvZGVVUklDb21wb25lbnQoa2V5KSwgdmFsLCByZXQpO1xuXHR9KTtcblxuXHRyZXR1cm4gT2JqZWN0LmtleXMocmV0KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuXHRcdHZhciB2YWwgPSByZXRba2V5XTtcblx0XHRpZiAoQm9vbGVhbih2YWwpICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRcdC8vIFNvcnQgb2JqZWN0IGtleXMsIG5vdCB2YWx1ZXNcblx0XHRcdHJlc3VsdFtrZXldID0ga2V5c1NvcnRlcih2YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRba2V5XSA9IHZhbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn07XG5cbmV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaiwgb3B0cykge1xuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0ZW5jb2RlOiB0cnVlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnXG5cdH07XG5cblx0b3B0cyA9IG9iamVjdEFzc2lnbihkZWZhdWx0cywgb3B0cyk7XG5cblx0dmFyIGZvcm1hdHRlciA9IGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRzKTtcblxuXHRyZXR1cm4gb2JqID8gT2JqZWN0LmtleXMob2JqKS5zb3J0KCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cblx0XHRpZiAodmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0cyk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0XHR2YWwuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwyKSB7XG5cdFx0XHRcdGlmICh2YWwyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQucHVzaChmb3JtYXR0ZXIoa2V5LCB2YWwyLCByZXN1bHQubGVuZ3RoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdHMpICsgJz0nICsgZW5jb2RlKHZhbCwgb3B0cyk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZ2xvYmFsIGxpYiwgWE1MSHR0cFJlcXVlc3QgKi9cbi8qIGRlcHM6IGh0dHB1cmwgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmxldCB1dGlsc1xuXG5pbXBvcnQgJ2h0dHB1cmwnXG5pbXBvcnQgcXMgZnJvbSAncXVlcnktc3RyaW5nJ1xuXG5sZXQganNvbnBDbnQgPSAwXG5jb25zdCBFUlJPUl9TVEFURSA9IC0xXG5cbmZ1bmN0aW9uIF9qc29ucCAoY29uZmlnLCBjYWxsYmFjaywgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICBjb25zdCBjYk5hbWUgPSBjb25maWcuanNvbnBDYWxsYmFja05hbWUgfHwgJ2pzb25wXycgKyAoKytqc29ucENudClcbiAgbGV0IHVybFxuXG4gIGlmICghY29uZmlnLnVybCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIGNvbmZpZy51cmwgc2hvdWxkIGJlIHNldCBpbiBfanNvbnAgZm9yIFxcJ2ZldGNoXFwnIEFQSS4nKVxuICB9XG5cbiAgZ2xvYmFsW2NiTmFtZV0gPSAoZnVuY3Rpb24gKGNiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlXG4gICAgICB9KVxuICAgICAgZGVsZXRlIGdsb2JhbFtjYl1cbiAgICB9XG4gIH0pKGNiTmFtZSlcblxuICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICB0cnkge1xuICAgIHVybCA9IGxpYi5odHRwdXJsKGNvbmZpZy51cmwpXG4gIH1cbiAgY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIGludmFsaWQgY29uZmlnLnVybCBpbiBfanNvbnAgZm9yIFxcJ2ZldGNoXFwnIEFQSTogJ1xuICAgICAgKyBjb25maWcudXJsKVxuICB9XG4gIHVybC5wYXJhbXMuY2FsbGJhY2sgPSBjYk5hbWVcbiAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0J1xuICBzY3JpcHQuc3JjID0gdXJsLnRvU3RyaW5nKClcbiAgLy8gc2NyaXB0Lm9uZXJyb3IgaXMgbm90IHdvcmtpbmcgb24gSUUgb3Igc2FmYXJpLlxuICAvLyBidXQgdGhleSBhcmUgbm90IGNvbnNpZGVyZWQgaGVyZS5cbiAgc2NyaXB0Lm9uZXJyb3IgPSAoZnVuY3Rpb24gKGNiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIHVuZXhwZWN0ZWQgZXJyb3IgaW4gX2pzb25wIGZvciBcXCdmZXRjaFxcJyBBUEknLCBlcnIpXG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIHN0YXR1czogRVJST1JfU1RBVEUsXG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgc3RhdHVzVGV4dDogJycsXG4gICAgICAgIGRhdGE6ICcnXG4gICAgICB9KVxuICAgICAgZGVsZXRlIGdsb2JhbFtjYl1cbiAgICB9XG4gIH0pKGNiTmFtZSlcbiAgY29uc3QgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF1cbiAgaGVhZC5pbnNlcnRCZWZvcmUoc2NyaXB0LCBudWxsKVxufVxuXG5mdW5jdGlvbiBfeGhyIChjb25maWcsIGNhbGxiYWNrLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIHhoci5yZXNwb25zZVR5cGUgPSBjb25maWcudHlwZVxuICB4aHIub3Blbihjb25maWcubWV0aG9kLCBjb25maWcudXJsLCB0cnVlKVxuXG4gIC8vIGNvcnMgY29va2llIHN1cHBvcnRcbiAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPT09IHRydWUpIHtcbiAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICB9XG5cbiAgY29uc3QgaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9XG4gIGZvciAoY29uc3QgayBpbiBoZWFkZXJzKSB7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaywgaGVhZGVyc1trXSlcbiAgfVxuXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgY2FsbGJhY2soe1xuICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgb2s6IHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDAsXG4gICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgIGRhdGE6IHhoci5yZXNwb25zZSxcbiAgICAgIGhlYWRlcnM6IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgnXFxuJylcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAob2JqLCBoZWFkZXJTdHIpIHtcbiAgICAgICAgICBjb25zdCBoZWFkZXJBcnIgPSBoZWFkZXJTdHIubWF0Y2goLyguKyk6ICguKykvKVxuICAgICAgICAgIGlmIChoZWFkZXJBcnIpIHtcbiAgICAgICAgICAgIG9ialtoZWFkZXJBcnJbMV1dID0gaGVhZGVyQXJyWzJdXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBvYmpcbiAgICAgICAgfSwge30pXG4gICAgfSlcbiAgfVxuXG4gIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcHJvZ3Jlc3NDYWxsYmFjayh7XG4gICAgICAgIHJlYWR5U3RhdGU6IHhoci5yZWFkeVN0YXRlLFxuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIGxlbmd0aDogZS5sb2FkZWQsXG4gICAgICAgIHRvdGFsOiBlLnRvdGFsLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KCdcXG4nKVxuICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaGVhZGVyU3RyKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJBcnIgPSBoZWFkZXJTdHIubWF0Y2goLyguKyk6ICguKykvKVxuICAgICAgICAgICAgaWYgKGhlYWRlckFycikge1xuICAgICAgICAgICAgICBvYmpbaGVhZGVyQXJyWzFdXSA9IGhlYWRlckFyclsyXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgIH0sIHt9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSB1bmV4cGVjdGVkIGVycm9yIGluIF94aHIgZm9yIFxcJ2ZldGNoXFwnIEFQSScsIGVycilcbiAgICBjYWxsYmFjayh7XG4gICAgICBzdGF0dXM6IEVSUk9SX1NUQVRFLFxuICAgICAgb2s6IGZhbHNlLFxuICAgICAgc3RhdHVzVGV4dDogJycsXG4gICAgICBkYXRhOiAnJ1xuICAgIH0pXG4gIH1cblxuICB4aHIuc2VuZChjb25maWcuYm9keSB8fCBudWxsKVxufVxuXG5jb25zdCBzdHJlYW0gPSB7XG5cbiAgLyoqXG4gICAqIHNlbmRIdHRwXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIE5vdGU6IFRoaXMgQVBJIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2Ugc3RyZWFtLmZldGNoIGluc3RlYWQuXG4gICAqIHNlbmQgYSBodHRwIHJlcXVlc3QgdGhyb3VnaCBYSFIuXG4gICAqIEBwYXJhbSAge29ian0gcGFyYW1zXG4gICAqICAtIG1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdERUxFVEUnIHwgJ0hFQUQnIHwgJ1BBVENIJyxcbiAgICogIC0gdXJsOiB1cmwgcmVxdWVzdGVkXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2FsbGJhY2tJZFxuICAgKi9cbiAgc2VuZEh0dHA6IGZ1bmN0aW9uIChwYXJhbSwgY2FsbGJhY2tJZCkge1xuICAgIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJhbSA9IEpTT04ucGFyc2UocGFyYW0pXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbSAhPT0gJ29iamVjdCcgfHwgIXBhcmFtLnVybCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdbaDUtcmVuZGVyXSBpbnZhbGlkIGNvbmZpZyBvciBpbnZhbGlkIGNvbmZpZy51cmwgZm9yIHNlbmRIdHRwIEFQSScpXG4gICAgfVxuXG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBjb25zdCBtZXRob2QgPSBwYXJhbS5tZXRob2QgfHwgJ0dFVCdcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHhoci5vcGVuKG1ldGhvZCwgcGFyYW0udXJsLCB0cnVlKVxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHRoaXMucmVzcG9uc2VUZXh0KVxuICAgIH1cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIHVuZXhwZWN0ZWQgZXJyb3IgaW4gc2VuZEh0dHAgQVBJJywgZXJyb3IpXG4gICAgICAvLyBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKFxuICAgICAgLy8gICBjYWxsYmFja0lkLFxuICAgICAgLy8gICBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgZXJyb3IgaW4gc2VuZEh0dHAgQVBJJylcbiAgICAgIC8vIClcbiAgICB9XG4gICAgeGhyLnNlbmQoKVxuICB9LFxuXG4gIC8qKlxuICAgKiBmZXRjaFxuICAgKiB1c2Ugc3RyZWFtLmZldGNoIHRvIHJlcXVlc3QgZm9yIGEganNvbiBmaWxlLCBhIHBsYWluIHRleHQgZmlsZSBvclxuICAgKiBhIGFycmF5YnVmZmVyIGZvciBhIGZpbGUgc3RyZWFtLiAoWW91IGNhbiB1c2UgQmxvYiBhbmQgRmlsZVJlYWRlclxuICAgKiBBUEkgaW1wbGVtZW50ZWQgYnkgbW9zdCBtb2Rlcm4gYnJvd3NlcnMgdG8gcmVhZCBhIGFycmF5YnVmZmVyLilcbiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIGNvbmZpZyBvcHRpb25zXG4gICAqICAgLSBtZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdIRUFEJyB8ICdQQVRDSCdcbiAgICogICAtIGhlYWRlcnMge29ian1cbiAgICogICAtIHVybCB7c3RyaW5nfVxuICAgKiAgIC0gbW9kZSB7c3RyaW5nfSAnY29ycycgfCAnbm8tY29ycycgfCAnc2FtZS1vcmlnaW4nIHwgJ25hdmlnYXRlJ1xuICAgKiAgIC0gd2l0aENyZWRlbnRpYWxzIHtib29sZWFufVxuICAgKiAgIC0gYm9keVxuICAgKiAgIC0gdHlwZSB7c3RyaW5nfSAnanNvbicgfCAnanNvbnAnIHwgJ3RleHQnXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2FsbGJhY2tJZFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHByb2dyZXNzQ2FsbGJhY2tJZFxuICAgKi9cbiAgZmV0Y2g6IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFja0lkLCBwcm9ncmVzc0NhbGxiYWNrSWQpIHtcbiAgICBjb25zdCBERUZBVUxUX01FVEhPRCA9ICdHRVQnXG4gICAgY29uc3QgREVGQVVMVF9NT0RFID0gJ2NvcnMnXG4gICAgY29uc3QgREVGQVVMVF9UWVBFID0gJ3RleHQnXG5cbiAgICBjb25zdCBtZXRob2RPcHRpb25zID0gWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJywgJ0hFQUQnLCAnUEFUQ0gnXVxuICAgIGNvbnN0IG1vZGVPcHRpb25zID0gWydjb3JzJywgJ25vLWNvcnMnLCAnc2FtZS1vcmlnaW4nLCAnbmF2aWdhdGUnXVxuICAgIGNvbnN0IHR5cGVPcHRpb25zID0gWyd0ZXh0JywgJ2pzb24nLCAnanNvbnAnLCAnYXJyYXlidWZmZXInXVxuXG4gICAgLy8gY29uc3QgZmFsbGJhY2sgPSBmYWxzZSAgLy8gZmFsbGJhY2sgZnJvbSAnZmV0Y2gnIEFQSSB0byBYSFIuXG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcblxuICAgIGNvbnN0IGNvbmZpZyA9IHV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucylcblxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMubWV0aG9kXG4gICAgaWYgKHR5cGVvZiBjb25maWcubWV0aG9kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnLm1ldGhvZCA9IERFRkFVTFRfTUVUSE9EXG4gICAgICBjb25zb2xlLndhcm4oJ1toNS1yZW5kZXJdIG9wdGlvbnMubWV0aG9kIGZvciBcXCdmZXRjaFxcJyBBUEkgaGFzIGJlZW4gc2V0IHRvICdcbiAgICAgICAgKyAnZGVmYXVsdCB2YWx1ZSBcXCcnICsgY29uZmlnLm1ldGhvZCArICdcXCcnKVxuICAgIH1cbiAgICBlbHNlIGlmIChtZXRob2RPcHRpb25zLmluZGV4T2YoKGNvbmZpZy5tZXRob2QgKyAnJylcbiAgICAgIC50b1VwcGVyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBvcHRpb25zLm1ldGhvZCBcXCcnXG4gICAgICAgICsgY29uZmlnLm1ldGhvZFxuICAgICAgICArICdcXCcgZm9yIFxcJ2ZldGNoXFwnIEFQSSBzaG91bGQgYmUgb25lIG9mICdcbiAgICAgICAgKyBtZXRob2RPcHRpb25zICsgJy4nKVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMudXJsXG4gICAgaWYgKCFjb25maWcudXJsKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gb3B0aW9ucy51cmwgc2hvdWxkIGJlIHNldCBmb3IgXFwnZmV0Y2hcXCcgQVBJLicpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgYm9keSBjb250ZW50IGZvciBtZXRob2QgJ0dFVCcuXG4gICAgaWYgKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSA9PT0gJ0dFVCcpIHtcbiAgICAgIGxldCBib2R5ID0gY29uZmlnLmJvZHlcbiAgICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KGJvZHkpKSB7XG4gICAgICAgIGJvZHkgPSBxcy5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH1cbiAgICAgIGxldCB1cmwgPSBjb25maWcudXJsXG4gICAgICBsZXQgaGFzaElkeCA9IHVybC5pbmRleE9mKCcjJylcbiAgICAgIGhhc2hJZHggPD0gLTEgJiYgKGhhc2hJZHggPSB1cmwubGVuZ3RoKVxuICAgICAgbGV0IGhhc2ggPSB1cmwuc3Vic3RyKGhhc2hJZHgpXG4gICAgICBpZiAoaGFzaCAmJiBoYXNoWzBdID09PSAnIycpIHtcbiAgICAgICAgaGFzaCA9IGhhc2guc3Vic3RyKDEpXG4gICAgICB9XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGhhc2hJZHgpXG4gICAgICBpZiAoYm9keSkge1xuICAgICAgICB1cmwgKz0gKGNvbmZpZy51cmwuaW5kZXhPZignPycpIDw9IC0xID8gJz8nIDogJyYnKSArIGJvZHlcbiAgICAgIH1cbiAgICAgIHVybCArPSAnIycgKyBoYXNoXG4gICAgICBjb25maWcudXJsID0gdXJsXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy5tb2RlXG4gICAgaWYgKHR5cGVvZiBjb25maWcubW9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZy5tb2RlID0gREVGQVVMVF9NT0RFXG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGVPcHRpb25zLmluZGV4T2YoKGNvbmZpZy5tb2RlICsgJycpLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIG9wdGlvbnMubW9kZSBcXCcnXG4gICAgICAgICsgY29uZmlnLm1vZGVcbiAgICAgICAgKyAnXFwnIGZvciBcXCdmZXRjaFxcJyBBUEkgc2hvdWxkIGJlIG9uZSBvZiAnXG4gICAgICAgICsgbW9kZU9wdGlvbnMgKyAnLicpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy50eXBlXG4gICAgaWYgKHR5cGVvZiBjb25maWcudHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZy50eXBlID0gREVGQVVMVF9UWVBFXG4gICAgICBjb25zb2xlLndhcm4oJ1toNS1yZW5kZXJdIG9wdGlvbnMudHlwZSBmb3IgXFwnZmV0Y2hcXCcgQVBJIGhhcyBiZWVuIHNldCB0byAnXG4gICAgICAgICsgJ2RlZmF1bHQgdmFsdWUgXFwnJyArIGNvbmZpZy50eXBlICsgJ1xcJy4nKVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlT3B0aW9ucy5pbmRleE9mKChjb25maWcudHlwZSArICcnKS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBvcHRpb25zLnR5cGUgXFwnJ1xuICAgICAgICAgICsgY29uZmlnLnR5cGVcbiAgICAgICAgICArICdcXCcgZm9yIFxcJ2ZldGNoXFwnIEFQSSBzaG91bGQgYmUgb25lIG9mICdcbiAgICAgICAgICArIHR5cGVPcHRpb25zICsgJy4nKVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMuaGVhZGVyc1xuICAgIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge31cbiAgICBpZiAoIXV0aWxzLmlzUGxhaW5PYmplY3QoY29uZmlnLmhlYWRlcnMpKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gb3B0aW9ucy5oZWFkZXJzIHNob3VsZCBiZSBhIHBsYWluIG9iamVjdCcpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy50aW1lb3V0XG4gICAgY29uZmlnLnRpbWVvdXQgPSBwYXJzZUludChjb25maWcudGltZW91dCwgMTApIHx8IDI1MDBcblxuICAgIGNvbnN0IF9jYWxsQXJncyA9IFtjb25maWcsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwgcmVzKVxuICAgIH1dXG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2tJZCkge1xuICAgICAgX2NhbGxBcmdzLnB1c2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAvLyBTZXQgJ2tlZXBBbGl2ZScgdG8gdHJ1ZSBmb3Igc2VuZGluZyBjb250aW51b3VzIGNhbGxiYWNrc1xuICAgICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKHByb2dyZXNzQ2FsbGJhY2tJZCwgcmVzLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnR5cGUgPT09ICdqc29ucCcpIHtcbiAgICAgIF9qc29ucC5hcHBseSh0aGlzLCBfY2FsbEFyZ3MpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX3hoci5hcHBseSh0aGlzLCBfY2FsbEFyZ3MpXG4gICAgfVxuICB9XG5cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgc3RyZWFtOiBbe1xuICAgIG5hbWU6ICdzZW5kSHR0cCcsXG4gICAgYXJnczogWydvYmplY3QnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ2ZldGNoJyxcbiAgICBhcmdzOiBbJ29iamVjdCcsICdmdW5jdGlvbicsICdmdW5jdGlvbiddXG4gIH1dXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKFdlZXgpIHtcbiAgICB1dGlscyA9IFdlZXgudXRpbHNcbiAgICBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlKCdzdHJlYW0nLCBzdHJlYW0sIG1ldGEpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbi8qKlxuXG5BVUNUSU9OOlxudGFza1F1ZXVlXG5DbGlwYm9hcmQuc2V0U3RyaW5nKCkgIE5PVyBub3Qgd29ya3MsIGZhY2luZyB0byB1c2VyLWFjdCBsb3NlIG9mIHRhc2tRdWV1ZS5cblxud29ya3MgaW4gQ2hyb21lIEZpcmVmb3ggT3BlcmEuIGJ1dCBub3QgaW4gU2FmYXJpLlxuQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvZXhlY0NvbW1hbmQjQnJvd3Nlcl9jb21wYXRpYmlsaXR5XG5cbkNsaXBib2FyZC5nZXRTdHJpbmcoKSB1bmltcGxlbWVudGVkLiBUaGVyZSBpcyBubyBlYXN5IHdheSB0byBkbyBwYXN0ZSBmcm9tIGNsaXBib2FyZCB0byBqcyB2YXJpYWJsZS5cblxuU28gbG9vayBvdXQgeW91ciBhcHAgYmVoYXZpb3IsIHdoZW4gZG93bmdyYWRlIHRvIGh0bWw1IHJlbmRlci5cbkFueSBpZGVhIGlzIHdlbGNvbWUuXG4qKi9cblxuY29uc3QgV0VFWF9DTElQQk9BUkRfSUQgPSAnX193ZWV4X2NsaXBib2FyZF9pZF9fJ1xuXG5jb25zdCBjbGlwYm9hcmQgPSB7XG5cbiAgZ2V0U3RyaW5nOiBmdW5jdGlvbiAoY2FsbGJhY2tJZCkge1xuICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gaHRtbDVcbiAgICBjb25zb2xlLmxvZygnY2xpcGJvYXJkLmdldFN0cmluZygpIGlzIG5vdCBzdXBwb3J0ZWQgbm93LicpXG4gIH0sXG5cbiAgc2V0U3RyaW5nOiBmdW5jdGlvbiAodGV4dCkge1xuICAgIC8vIG5vdCBzdXBwb3J0IHNhZmFyaVxuICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycgJiYgdGV4dCAhPT0gJycgJiYgZG9jdW1lbnQuZXhlY0NvbW1hbmQpIHtcbiAgICAgIGNvbnN0IHRlbXBJbnB1dCA9IGVsZW1lbnQoKVxuICAgICAgdGVtcElucHV0LnZhbHVlID0gdGV4dFxuXG4gICAgICB0ZW1wSW5wdXQuc2VsZWN0KClcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5JylcbiAgICAgIC8vIHZhciBvdXQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJleGVjQ29tbWFuZCBvdXQgaXMgXCIgKyBvdXQpO1xuICAgICAgdGVtcElucHV0LnZhbHVlID0gJydcbiAgICAgIHRlbXBJbnB1dC5ibHVyKClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnb25seSBzdXBwb3J0IHN0cmluZyBpbnB1dCBub3cnKVxuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGVsZW1lbnQgKCkge1xuICBsZXQgdGVtcElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoV0VFWF9DTElQQk9BUkRfSUQpXG4gIGlmICghdGVtcElucHV0KSB7XG4gICAgdGVtcElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgIHRlbXBJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgV0VFWF9DTElQQk9BUkRfSUQpXG4gICAgdGVtcElucHV0LnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjFweDt3aWR0aDoxcHg7Ym9yZGVyOm5vbmU7J1xuICAgIC8vIHRlbXBJbnB1dC5zdHlsZS5jc3NUZXh0ID0gXCJoZWlnaHQ6NDBweDt3aWR0aDozMDBweDtib3JkZXI6c29saWQ7XCJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBJbnB1dClcbiAgfVxuICByZXR1cm4gdGVtcElucHV0XG59XG5cbmNvbnN0IG1ldGEgPSB7XG4gIGNsaXBib2FyZDogW3tcbiAgICBuYW1lOiAnZ2V0U3RyaW5nJyxcbiAgICBhcmdzOiBbJ2Z1bmN0aW9uJ11cbiAgfSwge1xuICAgIG5hbWU6ICdzZXRTdHJpbmcnLFxuICAgIGFyZ3M6IFsnc3RyaW5nJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXgucmVnaXN0ZXJBcGlNb2R1bGUoJ2NsaXBib2FyZCcsIGNsaXBib2FyZCwgbWV0YSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCdcblxuY29uc3QgZXZlbnQgPSB7XG4gIC8qKlxuICAgKiBvcGVuVXJsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdXJsXG4gICAqL1xuICBvcGVuVVJMOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgbG9jYXRpb24uaHJlZiA9IHVybFxuICB9XG5cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgZXZlbnQ6IFt7XG4gICAgbmFtZTogJ29wZW5VUkwnLFxuICAgIGFyZ3M6IFsnc3RyaW5nJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXgucmVnaXN0ZXJBcGlNb2R1bGUoJ2V2ZW50JywgZXZlbnQsIG1ldGEpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgdXRpbHMgPSB7fVxubGV0IGVuZEV2ZW50XG5sZXQgc3R5bGVOYW1lXG5cbmNvbnN0IERFU0lHTl9ST09UX1ZBTFVFID0gNzVcblxuY29uc3QgRVZFTlRfTkFNRV9NQVAgPSB7XG4gIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJyxcbiAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICBNb3pUcmFuc2l0aW9uOiAnbW96VHJhbnNpdGlvbkVuZCcsXG4gIE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25FbmQnLFxuICBtc1RyYW5zaXRpb246ICdNU1RyYW5zaXRpb25FbmQnXG59XG5cbmZ1bmN0aW9uIGRldGVjdEV2ZW50cyAoKSB7XG4gIGNvbnN0IHRlc3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnN0IHN0eWxlID0gdGVzdEVsLnN0eWxlXG4gIGZvciAoY29uc3QgbmFtZSBpbiBFVkVOVF9OQU1FX01BUCkge1xuICAgIGlmIChuYW1lIGluIHN0eWxlKSB7XG4gICAgICBlbmRFdmVudCA9IEVWRU5UX05BTUVfTUFQW25hbWVdXG4gICAgICBzdHlsZU5hbWUgPSBuYW1lXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG5kZXRlY3RFdmVudHMoKVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uT25jZSAodm5vZGUsIGNvbmZpZywgY2FsbGJhY2spIHtcbiAgY29uc3Qge1xuICAgIG5leHRGcmFtZSxcbiAgICB0b0NTU1RleHQsXG4gICAgc3R5bGVPYmplY3QycmVtLFxuICAgIC8vIG5vcm1hbGl6ZVN0eWxlLFxuICAgIGlzQXJyYXlcbiAgfSA9IHV0aWxzXG5cbiAgaWYgKGlzQXJyYXkodm5vZGUpKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1t2dWUtcmVuZGVyXSB0aGUgcmVmIHBhc3NlZCB0byBhbmltYXRpb24udHJhbnNpdGlvbk9uY2UgaXMgYSBhcnJheS4nKVxuICAgIH1cbiAgICB2bm9kZSA9IHZub2RlWzBdXG4gIH1cblxuICBjb25zdCBkdXJhdGlvbiA9IGNvbmZpZy5kdXJhdGlvbiB8fCAwIC8vIG1zXG4gIGNvbnN0IHRpbWluZyA9IGNvbmZpZy50aW1pbmdGdW5jdGlvbiB8fCAnbGluZWFyJ1xuICBjb25zdCBkZWxheSA9IGNvbmZpZy5kZWxheSB8fCAwICAvLyBtc1xuXG4gIC8vIFRPRE86IHBhcnNlIHRyYW5zaXRpb24gcHJvcGVydGllc1xuICBjb25zdCB0cmFuc2l0aW9uVmFsdWUgPSBgYWxsICR7ZHVyYXRpb259bXMgJHt0aW1pbmd9ICR7ZGVsYXl9bXNgXG5cbiAgY29uc3QgZG9tID0gdm5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IHZub2RlIDogdm5vZGUuJGVsXG4gIC8vIHRyaWdnZXIgaW1hZ2UgbGF6eWxvYWRpbmcgYnkgZm9yY2UuXG4gIGRvbSAmJiB3ZWV4LnV0aWxzLmZpcmVMYXp5bG9hZChkb20sIHRydWUpXG5cbiAgY29uc3QgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudCAmJiBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGlmIChlbmRFdmVudCkge1xuICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIHRyYW5zaXRpb25FbmRIYW5kbGVyKVxuICAgICAgZG9tLnN0eWxlW3N0eWxlTmFtZV0gPSAnJ1xuICAgIH1cbiAgICBjYWxsYmFjaygpXG4gIH1cbiAgaWYgKGVuZEV2ZW50KSB7XG4gICAgZG9tLnN0eWxlW3N0eWxlTmFtZV0gPSB0cmFuc2l0aW9uVmFsdWVcbiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpXG4gIH1cbiAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICBkb20uc3R5bGUuY3NzVGV4dFxuICAgICAgKz0gdG9DU1NUZXh0KHN0eWxlT2JqZWN0MnJlbShjb25maWcuc3R5bGVzLCBERVNJR05fUk9PVF9WQUxVRSkgfHwge30pXG4gIH0pXG59XG5cbmNvbnN0IGFuaW1hdGlvbiA9IHtcbiAgLyoqXG4gICAqIHRyYW5zaXRpb25cbiAgICogQHBhcmFtICB7U3RyaW5nfSB2bm9kZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbmZpZ1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNhbGxiYWNrXG4gICAqL1xuICB0cmFuc2l0aW9uICh2bm9kZSwgY29uZmlnLCBjYWxsYmFjaykge1xuICAgIGlmICghY29uZmlnLnN0eWxlcykgeyByZXR1cm4gfVxuICAgIHJldHVybiB0cmFuc2l0aW9uT25jZSh2bm9kZSwgY29uZmlnLCAoKSA9PiB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICBjb25zdCBleHRlbmRLZXlzID0gd2VleC51dGlscy5leHRlbmRLZXlzXG4gICAgZXh0ZW5kS2V5cyh1dGlscywgd2VleC51dGlscywgW1xuICAgICAgJ25leHRGcmFtZScsXG4gICAgICAndG9DU1NUZXh0JyxcbiAgICAgICdzdHlsZU9iamVjdDJyZW0nLFxuICAgICAgLy8gJ2F1dG9QcmVmaXgnLFxuICAgICAgLy8gJ25vcm1hbGl6ZVN0eWxlJyxcbiAgICAgICdpc0FycmF5J1xuICAgIF0pXG5cbiAgICB3ZWV4LnJlZ2lzdGVyTW9kdWxlKCdhbmltYXRpb24nLCBhbmltYXRpb24pXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgdXRpbHMgPSB7fVxuXG5mdW5jdGlvbiBub3cgKCkge1xuICBjb25zdCBub3cgPSB3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vd1xuICAgID8gd2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSkgOiBEYXRlLm5vd1xuICByZXR1cm4gbm93KClcbn1cblxuZnVuY3Rpb24gc2Nyb2xsRWxlbWVudCAoZFN1ZmZpeCwgcG9zaXRpb24pIHtcbiAgaWYgKCh0aGlzID09PSBkb2N1bWVudC5ib2R5KSB8fCAodGhpcyA9PT0gd2luZG93KVxuICAgICYmIHdpbmRvdy5zY3JvbGxUbykge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsVG8oMCwgcG9zaXRpb24pXG4gIH1cbiAgdGhpc1tgc2Nyb2xsJHtkU3VmZml4fWBdID0gcG9zaXRpb25cbn1cbi8qKlxuICogc2VsZiBpbnZva2VkIGZ1bmN0aW9uIHRoYXQsIGdpdmVuIGEgY29udGV4dCwgc3RlcHMgdGhyb3VnaCBzY3JvbGxpbmdcbiAqIEBtZXRob2Qgc3RlcFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gc3RlcCAoY29udGV4dCkge1xuICAvLyBjYWxsIG1ldGhvZCBhZ2FpbiBvbiBuZXh0IGF2YWlsYWJsZSBmcmFtZVxuICBjb250ZXh0LmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwLmJpbmQod2luZG93LCBjb250ZXh0KSlcbiAgY29uc3QgdGltZSA9IG5vdygpXG4gIGxldCBlbGFwc2VkID0gKHRpbWUgLSBjb250ZXh0LnN0YXJ0VGltZSkgLyA0NjhcbiAgLy8gYXZvaWQgZWxhcHNlZCB0aW1lcyBoaWdoZXIgdGhhbiBvbmVcbiAgZWxhcHNlZCA9IGVsYXBzZWQgPiAxID8gMSA6IGVsYXBzZWRcbiAgLy8gYXBwbHkgZWFzaW5nIHRvIGVsYXBzZWQgdGltZVxuICBjb25zdCB2YWx1ZSA9IGVhc2UoZWxhcHNlZClcbiAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gY29udGV4dC5zdGFydFBvc2l0aW9uICsgKGNvbnRleHQucG9zaXRpb24gLSBjb250ZXh0LnN0YXJ0UG9zaXRpb24pICogdmFsdWVcbiAgY29udGV4dC5tZXRob2QuY2FsbChjb250ZXh0LnNjcm9sbGFibGUsIGNvbnRleHQuZFN1ZmZpeCwgY3VycmVudFBvc2l0aW9uKVxuICAvLyByZXR1cm4gd2hlbiBlbmQgcG9pbnRzIGhhdmUgYmVlbiByZWFjaGVkXG4gIC8qKlxuICAgICogTk9URTogc2hvdWxkIHVzZSB+fiB0byBwYXJzZSBwb3NpdGlvbiBudW1iZXIgaW50byBpbnRlZ2VyLiBPdGhlcndpc2VcbiAgICAqIHRoaXMgdHdvIGZsb2F0IG51bWJlcnMgbWF5YmUgaGF2ZSBhIHNsaWNlbHkgbGl0dGxlIGRpZmZlcmVuY2UsIHdoaWNoXG4gICAgKiB3aWxsIGNhdXNlIHRoaXMgZnVuY3Rpb24gbmV2ZXIgdG8gc3RvcC5cbiAgKi9cbiAgaWYgKH5+Y3VycmVudFBvc2l0aW9uID09PSB+fmNvbnRleHQucG9zaXRpb24pIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoY29udGV4dC5mcmFtZSlcbiAgICByZXR1cm5cbiAgfVxufVxuLyoqXG4gKiByZXR1cm5zIHJlc3VsdCBvZiBhcHBseWluZyBlYXNlIG1hdGggZnVuY3Rpb24gdG8gYSBudW1iZXJcbiAqIEBtZXRob2QgZWFzZVxuICogQHBhcmFtIHtOdW1iZXJ9IGtcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGVhc2UgKGspIHtcbiAgcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKVxufVxuY29uc3QgZG9tID0ge1xuICAvKipcbiAgICogc2Nyb2xsVG9FbGVtZW50XG4gICAqIEBwYXJhbSAge1Zub2RlIHwgVkNvbXBvbmVudH0gdm5vZGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIHtvZmZzZXQ6TnVtYmVyfVxuICAgKiAgIHBzOiBzY3JvbGwtdG8gaGFzICdlYXNlJyBhbmQgJ2R1cmF0aW9uJyhtcykgYXMgb3B0aW9ucy5cbiAgICovXG4gIHNjcm9sbFRvRWxlbWVudDogZnVuY3Rpb24gKHZub2RlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNBcnJheSxcbiAgICAgIGdldFBhcmVudFNjcm9sbGVyRWxlbWVudFxuICAgIH0gPSB1dGlsc1xuICAgIGlmIChpc0FycmF5KHZub2RlKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW3Z1ZS1yZW5kZXJdIHRoZSByZWYgcGFzc2VkIHRvIGFuaW1hdGlvbi50cmFuc2l0aW9uT25jZSBpcyBhIGFycmF5LicpXG4gICAgICB9XG4gICAgICB2bm9kZSA9IHZub2RlWzBdXG4gICAgfVxuICAgIGNvbnN0IGlzRWxlbWVudCA9IHZub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICBjb25zdCBlbCA9IGlzRWxlbWVudCA/IHZub2RlIDogKHZub2RlLiRlbCB8fCB2bm9kZS5lbG0pXG4gICAgY29uc3QgY3QgPSBnZXRQYXJlbnRTY3JvbGxlckVsZW1lbnQodm5vZGUpXG4gICAgY29uc3Qgc2Nyb2xsZXIgPSBjdC5fX3Z1ZV9fXG4gICAgY29uc3QgaXNXaW5kb3cgPSBjdCA9PT0gZG9jdW1lbnQuYm9keVxuICAgIGNvbnN0IHNjcm9sbERpcmVjdGlvbiA9XG4gICAgICBpc1dpbmRvdyA/ICd2ZXJ0aWNhbCdcbiAgICAgICAgOiAoc2Nyb2xsZXIgJiYgc2Nyb2xsZXIuc2Nyb2xsRGlyZWN0aW9uIHx8ICd2ZXJ0aWNhbCcpXG4gICAgaWYgKGN0ICYmIGVsKSB7XG4gICAgICBjb25zdCBkU3VmZml4ID0gKHtcbiAgICAgICAgaG9yaXpvbnRhbDogJ0xlZnQnLFxuICAgICAgICB2ZXJ0aWNhbDogJ1RvcCdcbiAgICAgIH0pW3Njcm9sbERpcmVjdGlvbl1cbiAgICAgIGNvbnN0IGN0UmVjdCA9IGN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBsZXQgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIC8qKlxuICAgICAgICAqIGlmIGl0J3MgYSB3YXRlcmZhbGwsIGFuZCB5b3Ugd2FudCB0byBzY3JvbGwgdG8gYSBoZWFkZXIsIHRoZW4ganVzdFxuICAgICAgICAqIHNjcm9sbCB0byB0aGUgdG9wLlxuICAgICAgKi9cbiAgICAgIGlmIChcbiAgICAgICAgIWlzRWxlbWVudFxuICAgICAgICAmJiBzY3JvbGxlclxuICAgICAgICAmJiBzY3JvbGxlci53ZWV4VHlwZSA9PT0gJ3dhdGVyZmFsbCdcbiAgICAgICAgJiYgc2Nyb2xsZXIuX2hlYWRlcnNcbiAgICAgICAgJiYgc2Nyb2xsZXIuX2hlYWRlcnMuaW5kZXhPZih2bm9kZS4kdm5vZGUgfHwgdm5vZGUpID4gLTEpIHtcbiAgICAgICAgLy8gaXQncyBpbiB3YXRlcmZhbGwuIGp1c3Qgc2Nyb2xsIHRvIHRoZSB0b3AuXG4gICAgICAgIGVsUmVjdCA9IGN0LmZpcnN0RWxlbWVudENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICB9XG4gICAgICBjb25zdCBkaXIgPSBkU3VmZml4LnRvTG93ZXJDYXNlKClcbiAgICAgIGxldCBvZmZzZXQgPSAoaXNXaW5kb3cgPyAwIDogY3RbYHNjcm9sbCR7ZFN1ZmZpeH1gXSkgKyBlbFJlY3RbZGlyXSAtIGN0UmVjdFtkaXJdXG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBvZmZzZXQgKz0gb3B0aW9ucy5vZmZzZXQgJiYgb3B0aW9ucy5vZmZzZXQgKiB3ZWV4LmNvbmZpZy5lbnYuc2NhbGUgfHwgMFxuICAgICAgfVxuICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbVnVlIFJlbmRlcl0gVGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgXCJzY3JvbGxUb0VsZW1lbnRcIiBpcyByZXF1aXJlZCwgJ1xuICAgICAgICArICdvdGhlcndpc2UgaXQgbWF5IG5vdCB3b3JrcyB3ZWxsIG9uIG5hdGl2ZS4nKVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbEVsZW1lbnQuY2FsbChjdCwgZFN1ZmZpeCwgb2Zmc2V0KVxuICAgICAgfVxuICAgICAgc3RlcCh7XG4gICAgICAgIHNjcm9sbGFibGU6IGN0LFxuICAgICAgICBzdGFydFRpbWU6IG5vdygpLFxuICAgICAgICBmcmFtZTogbnVsbCxcbiAgICAgICAgc3RhcnRQb3NpdGlvbjogaXNXaW5kb3cgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBjdFtgc2Nyb2xsJHtkU3VmZml4fWBdLFxuICAgICAgICBwb3NpdGlvbjogb2Zmc2V0LFxuICAgICAgICBtZXRob2Q6IHNjcm9sbEVsZW1lbnQsXG4gICAgICAgIGRTdWZmaXg6IGRTdWZmaXhcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICAvKipcbiAgICogZ2V0Q29tcG9uZW50UmVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdm5vZGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGdldENvbXBvbmVudFJlY3Q6IGZ1bmN0aW9uICh2bm9kZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCB7XG4gICAgICBpc0FycmF5XG4gICAgfSA9IHV0aWxzXG4gICAgaWYgKGlzQXJyYXkodm5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbdnVlLXJlbmRlcl0gdGhlIHJlZiBwYXNzZWQgdG8gYW5pbWF0aW9uLnRyYW5zaXRpb25PbmNlIGlzIGEgYXJyYXkuJylcbiAgICAgIH1cbiAgICAgIHZub2RlID0gdm5vZGVbMF1cbiAgICB9XG4gICAgY29uc3Qgc2NhbGUgPSB3aW5kb3cud2VleC5jb25maWcuZW52LnNjYWxlXG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgIHJlc3VsdDogZmFsc2VcbiAgICB9XG4gICAgY29uc3QgcmVjdEtleXMgPSBbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXVxuXG4gICAgZnVuY3Rpb24gcmVjYWxjIChyZWN0KSB7XG4gICAgICBjb25zdCByZXMgPSB7fVxuICAgICAgcmVjdEtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAocmVjdFtrZXldKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSByZWN0W2tleV0gLyBzY2FsZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICBpZiAodm5vZGUgJiYgdm5vZGUgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgIGluZm8ucmVzdWx0ID0gdHJ1ZVxuICAgICAgaW5mby5zaXplID0gcmVjYWxjKHtcbiAgICAgICAgd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgIGJvdHRvbTogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgfSlcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUpIHtcbiAgICAgIGNvbnN0IGVsID0gdm5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICA/IHZub2RlXG4gICAgICAgIDogdm5vZGUuJGVsXG4gICAgICBpZiAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgICAgIGluZm8ucmVzdWx0ID0gdHJ1ZVxuICAgICAgICBpbmZvLnNpemUgPSByZWNhbGMoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaW5mby5yZXN1bHQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gaW5mby5yZXN1bHQgPyBpbmZvIDoge1xuICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgIGVyck1zZzogJ0lsbGVnYWwgcGFyYW1ldGVyJ1xuICAgIH1cbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhtZXNzYWdlKVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH0sXG4gIC8qKlxuICAgKiBnZXRMYXlvdXREaXJlY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHZub2RlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBnZXRMYXlvdXREaXJlY3Rpb246IGZ1bmN0aW9uICh2bm9kZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCB7IGlzQXJyYXkgfSA9IHV0aWxzXG4gICAgaWYgKGlzQXJyYXkodm5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdbdnVlLXJlbmRlcl0gdGhlIHJlZiBwYXNzZWQgdG8gYW5pbWF0aW9uLnRyYW5zaXRpb25PbmNlIGlzIGEgYXJyYXkuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICB2bm9kZSA9IHZub2RlWzBdXG4gICAgfVxuICAgIGxldCBkaXJlY3Rpb24gPSAnbHRyJ1xuICAgIGlmICh2bm9kZSAmJiB2bm9kZSA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgZGlyZWN0aW9uID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpWydkaXJlY3Rpb24nXVxuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZSkge1xuICAgICAgY29uc3QgZWwgPSB2bm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gdm5vZGUgOiB2bm9kZS4kZWxcbiAgICAgIGRpcmVjdGlvbiA9IGdldENvbXB1dGVkU3R5bGUoZWwpWydkaXJlY3Rpb24nXVxuICAgIH1cbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkaXJlY3Rpb24pXG4gICAgcmV0dXJuIGRpcmVjdGlvblxuICB9LFxuICAvKipcbiAgICogZm9yIGFkZGluZyBmb250RmFjZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IGZvbnRGYWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgcnVsZXNcbiAgICovXG4gIGFkZFJ1bGU6IGZ1bmN0aW9uIChrZXksIHN0eWxlcykge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbWVsVG9LZWJhYixcbiAgICAgIGFwcGVuZENzc1xuICAgIH0gPSB1dGlsc1xuICAgIGtleSA9IGNhbWVsVG9LZWJhYihrZXkpXG4gICAgbGV0IHN0eWxlc1RleHQgPSAnJ1xuICAgIGZvciAoY29uc3QgayBpbiBzdHlsZXMpIHtcbiAgICAgIGlmIChzdHlsZXMuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgc3R5bGVzVGV4dCArPSBjYW1lbFRvS2ViYWIoaykgKyAnOicgKyBzdHlsZXNba10gKyAnOydcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3R5bGVUZXh0ID0gYEAke2tleX17JHtzdHlsZXNUZXh0fX1gXG4gICAgYXBwZW5kQ3NzKHN0eWxlVGV4dCwgJ2RvbS1hZGRlZC1ydWxlcycpXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIGNvbnN0IGV4dGVuZEtleXMgPSB3ZWV4LnV0aWxzLmV4dGVuZEtleXNcbiAgICBleHRlbmRLZXlzKHV0aWxzLCB3ZWV4LnV0aWxzLCBbJ2NhbWVsVG9LZWJhYicsICdhcHBlbmRDc3MnLCAnaXNBcnJheScsICdnZXRQYXJlbnRTY3JvbGxlckVsZW1lbnQnXSlcbiAgICB3ZWV4LnJlZ2lzdGVyTW9kdWxlKCdkb20nLCBkb20pXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBnbG9iYWxFdmVudCBBUEk6XG4gKiBAZG9jIGh0dHA6Ly93ZWV4LmFwYWNoZS5vcmcvY24vcmVmZXJlbmNlcy9tb2R1bGVzL2dsb2JhbGV2ZW50Lmh0bWxcbiAqL1xuLy8gdHJhY2sgdmFyaWVzIGtpbmRzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzLlxuY29uc3QgaGFuZGxlclRyYWtlciA9IHt9XG5cbmNvbnN0IGdsb2JhbEV2ZW50ID0ge1xuICAvKipcbiAgICogYWRkRXZlbnRMaXN0ZW5lclxuICAgKiBOT1RFOiBvbmUgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYm91bmQgdG8gdGhlIHNhbWUgZXZlbnQgb25jZS4gQmluZCBhIGNhbGxiYWNrIHR3aWNlIGRvZXNuJ3RcbiAgICogIG1lYW4gaXQgd2lsbCBiZSBjYWxsZWQgdHdpY2Ugd2hlbiB0aGUgZXZlbnQgZmlyZWQgb25jZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dCAtIHRoZSBldmVudCBuYW1lIHRvIGFkZCBhIGxpc3RlbmVyIG9uLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAoZXZ0LCBjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbdnVlLXJlbmRlcl0gbWlzc2luZyBjYWxsYmFjayBhcmcgaW4gZ2xvYmFsRXZlbnQuYWRkRXZlbnRMaXN0ZW5lci5gKVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGxldCBoYW5kbGVycyA9IGhhbmRsZXJUcmFrZXJbZXZ0XVxuICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgIGhhbmRsZXJzID0gaGFuZGxlclRyYWtlcltldnRdID0gW11cbiAgICB9XG4gICAgY29uc3QgbGVuID0gaGFuZGxlcnMubGVuZ3RoXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGhhbmRsZXJzW2ldID09PSBjYWxsYmFjaykge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGFscmVhZHkgYm91bmQuIG5vIG5lZWQgdG8gYmluZCBpdCBhZ2Fpbi5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGhhbmRsZXJzLnB1c2goY2FsbGJhY2spXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGNhbGxiYWNrKVxuICB9LFxuXG4gIC8qKlxuICAgKiByZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIE5PVEU6IHJlbW92ZSBhbGwgdGhlIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldnQgLSB0aGUgZXZlbnQgbmFtZSB0byByZW1vdmUgYSBsaXN0ZW5lciBmcm9tLlxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lciAoZXZ0KSB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBoYW5kbGVyVHJha2VyW2V2dF1cbiAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICAvLyBldnQgaGFuZGxlcnMgaGFzIGJlZW4gYWxyZWFkeSByZW1vdmVkLlxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGhhbmRsZXJzLmZvckVhY2goY2IgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQsIGNiKSlcbiAgICBkZWxldGUgaGFuZGxlclRyYWtlcltldnRdXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3Rlck1vZHVsZSgnZ2xvYmFsRXZlbnQnLCBnbG9iYWxFdmVudClcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBxdWV1ZSA9IFtdXG5sZXQgaXNQcm9jZXNzaW5nID0gZmFsc2VcbmxldCB0b2FzdFdpblxuY29uc3QgVE9BU1RfV0lOX0NMQVNTX05BTUUgPSAnd2VleC10b2FzdCdcbmNvbnN0IFRPQVNUX1RSQU5TSVRJT05fRFVSQVRJT04gPSAwLjRcblxuY29uc3QgREVGQVVMVF9EVVJBVElPTiA9IDAuOFxuXG5mdW5jdGlvbiBzaG93VG9hc3RXaW5kb3cgKG1zZywgY2FsbGJhY2spIHtcbiAgaWYgKCF0b2FzdFdpbikge1xuICAgIHRvYXN0V2luID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0b2FzdFdpbi5jbGFzc0xpc3QuYWRkKFRPQVNUX1dJTl9DTEFTU19OQU1FKVxuICAgIHRvYXN0V2luLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RXaW4pXG4gIH1cbiAgdG9hc3RXaW4udGV4dENvbnRlbnQgPSBtc2dcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgdG9hc3RXaW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICB9LCAxNilcbn1cblxuZnVuY3Rpb24gaGlkZVRvYXN0V2luZG93IChjYWxsYmFjaykge1xuICBpZiAoIXRvYXN0V2luKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdG9hc3RXaW4uY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgfSwgVE9BU1RfVFJBTlNJVElPTl9EVVJBVElPTiAqIDEwMDApXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHVzaDogZnVuY3Rpb24gKG1zZywgZHVyYXRpb24pIHtcbiAgICBxdWV1ZS5wdXNoKHtcbiAgICAgIG1zZzogbXNnLFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uIHx8IERFRkFVTFRfRFVSQVRJT05cbiAgICB9KVxuICAgIHRoaXMuc2hvdygpXG4gIH0sXG5cbiAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzXG5cbiAgICAvLyBBbGwgbWVzc2FnZXMgaGFkIGJlZW4gdG9hc3RlZCBhbHJlYWR5LCBzbyByZW1vdmUgdGhlIHRvYXN0IHdpbmRvdyxcbiAgICBpZiAoIXF1ZXVlLmxlbmd0aCkge1xuICAgICAgdG9hc3RXaW4gJiYgdG9hc3RXaW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b2FzdFdpbilcbiAgICAgIHRvYXN0V2luID0gbnVsbFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gdGhlIHByZXZpb3VzIHRvYXN0IGlzIG5vdCBlbmRlZCB5ZXQuXG4gICAgaWYgKGlzUHJvY2Vzc2luZykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlzUHJvY2Vzc2luZyA9IHRydWVcblxuICAgIGNvbnN0IHRvYXN0SW5mbyA9IHF1ZXVlLnNoaWZ0KClcbiAgICBzaG93VG9hc3RXaW5kb3codG9hc3RJbmZvLm1zZywgZnVuY3Rpb24gKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZGVUb2FzdFdpbmRvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaXNQcm9jZXNzaW5nID0gZmFsc2VcbiAgICAgICAgICB0aGF0LnNob3coKVxuICAgICAgICB9KVxuICAgICAgfSwgdG9hc3RJbmZvLmR1cmF0aW9uICogMTAwMClcbiAgICB9KVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiBtb2RhbC5cbmNvbnN0IE1PREFMX1dSQVBfQ0xBU1MgPSAnd2VleC1tb2RhbC13cmFwJ1xuY29uc3QgTU9EQUxfTk9ERV9DTEFTUyA9ICd3ZWV4LW1vZGFsLW5vZGUnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGFsICgpIHtcbiAgdGhpcy53cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihNT0RBTF9XUkFQX0NMQVNTKVxuICB0aGlzLm5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKE1PREFMX05PREVfQ0xBU1MpXG4gIGlmICghdGhpcy53cmFwKSB7XG4gICAgdGhpcy5jcmVhdGVXcmFwKClcbiAgfVxuICBpZiAoIXRoaXMubm9kZSkge1xuICAgIHRoaXMuY3JlYXRlTm9kZSgpXG4gIH1cbiAgdGhpcy5jbGVhck5vZGUoKVxuICB0aGlzLmNyZWF0ZU5vZGVDb250ZW50KClcbiAgdGhpcy5iaW5kRXZlbnRzKClcbn1cblxuTW9kYWwucHJvdG90eXBlID0ge1xuXG4gIHNob3c6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLndyYXAuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gIH0sXG5cbiAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy53cmFwKVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKVxuICAgIHRoaXMud3JhcCA9IG51bGxcbiAgICB0aGlzLm5vZGUgPSBudWxsXG4gIH0sXG5cbiAgY3JlYXRlV3JhcDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMud3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdGhpcy53cmFwLmNsYXNzTmFtZSA9IE1PREFMX1dSQVBfQ0xBU1NcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud3JhcClcbiAgfSxcblxuICBjcmVhdGVOb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZChNT0RBTF9OT0RFX0NMQVNTLCAnaGlkZScpXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpXG4gIH0sXG5cbiAgY2xlYXJOb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5ub2RlLmlubmVySFRNTCA9ICcnXG4gIH0sXG5cbiAgY3JlYXRlTm9kZUNvbnRlbnQ6IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIGRvIG5vdGhpbmcuXG4gICAgLy8gY2hpbGQgY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QuXG4gIH0sXG5cbiAgYmluZEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMud3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB9KVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJ1xuXG5jb25zdCBDT05URU5UX0NMQVNTID0gJ2NvbnRlbnQnXG5jb25zdCBNU0dfQ0xBU1MgPSAnY29udGVudC1tc2cnXG5jb25zdCBCVVRUT05fR1JPVVBfQ0xBU1MgPSAnYnRuLWdyb3VwJ1xuY29uc3QgQlVUVE9OX0NMQVNTID0gJ2J0bidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWxlcnQgKGNvbmZpZykge1xuICB0aGlzLm1zZyA9IGNvbmZpZy5tZXNzYWdlIHx8ICcnXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5va1RpdGxlID0gY29uZmlnLm9rVGl0bGUgfHwgJ09LJ1xuICBNb2RhbC5jYWxsKHRoaXMpXG4gIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWFsZXJ0Jylcbn1cblxuQWxlcnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNb2RhbC5wcm90b3R5cGUpXG5cbkFsZXJ0LnByb3RvdHlwZS5jcmVhdGVOb2RlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDT05URU5UX0NMQVNTKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoY29udGVudClcblxuICBjb25zdCBtc2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtc2cuY2xhc3NMaXN0LmFkZChNU0dfQ0xBU1MpXG4gIG1zZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm1zZykpXG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQobXNnKVxuXG4gIGNvbnN0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZChCVVRUT05fR1JPVVBfQ0xBU1MpXG4gIHRoaXMubm9kZS5hcHBlbmRDaGlsZChidXR0b25Hcm91cClcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoQlVUVE9OX0NMQVNTLCAnYWxlcnQtb2snKVxuICBidXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5va1RpdGxlKSlcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uKVxufVxuXG5BbGVydC5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgTW9kYWwucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCh0aGlzKVxuICBjb25zdCBidXR0b24gPSB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcignLicgKyBCVVRUT05fQ0xBU1MpXG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlc3Ryb3koKVxuICAgIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjaygpXG4gIH0uYmluZCh0aGlzKSlcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vbW9kYWwnXG5cbmNvbnN0IENPTlRFTlRfQ0xBU1MgPSAnY29udGVudCdcbmNvbnN0IE1TR19DTEFTUyA9ICdjb250ZW50LW1zZydcbmNvbnN0IEJVVFRPTl9HUk9VUF9DTEFTUyA9ICdidG4tZ3JvdXAnXG5jb25zdCBCVVRUT05fQ0xBU1MgPSAnYnRuJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25maXJtIChjb25maWcpIHtcbiAgdGhpcy5tc2cgPSBjb25maWcubWVzc2FnZSB8fCAnJ1xuICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrXG4gIHRoaXMub2tUaXRsZSA9IGNvbmZpZy5va1RpdGxlIHx8ICdPSydcbiAgdGhpcy5jYW5jZWxUaXRsZSA9IGNvbmZpZy5jYW5jZWxUaXRsZSB8fCAnQ2FuY2VsJ1xuICBNb2RhbC5jYWxsKHRoaXMpXG4gIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbmZpcm0nKVxufVxuXG5Db25maXJtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTW9kYWwucHJvdG90eXBlKVxuXG5Db25maXJtLnByb3RvdHlwZS5jcmVhdGVOb2RlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDT05URU5UX0NMQVNTKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoY29udGVudClcblxuICBjb25zdCBtc2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtc2cuY2xhc3NMaXN0LmFkZChNU0dfQ0xBU1MpXG4gIG1zZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm1zZykpXG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQobXNnKVxuXG4gIGNvbnN0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZChCVVRUT05fR1JPVVBfQ0xBU1MpXG4gIHRoaXMubm9kZS5hcHBlbmRDaGlsZChidXR0b25Hcm91cClcbiAgY29uc3QgYnRuT2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidG5Pay5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm9rVGl0bGUpKVxuICBidG5Pay5jbGFzc0xpc3QuYWRkKCdidG4tb2snLCBCVVRUT05fQ0xBU1MpXG4gIGNvbnN0IGJ0bkNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJ0bkNhbmNlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmNhbmNlbFRpdGxlKSlcbiAgYnRuQ2FuY2VsLmNsYXNzTGlzdC5hZGQoJ2J0bi1jYW5jZWwnLCBCVVRUT05fQ0xBU1MpXG4gIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGJ0bk9rKVxuICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5DYW5jZWwpXG4gIHRoaXMubm9kZS5hcHBlbmRDaGlsZChidXR0b25Hcm91cClcbn1cblxuQ29uZmlybS5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgTW9kYWwucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCh0aGlzKVxuICBjb25zdCBidG5PayA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCcuJyArIEJVVFRPTl9DTEFTUyArICcuYnRuLW9rJylcbiAgY29uc3QgYnRuQ2FuY2VsID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tY2FuY2VsJylcbiAgYnRuT2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kZXN0cm95KClcbiAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2sodGhpcy5va1RpdGxlKVxuICB9LmJpbmQodGhpcykpXG4gIGJ0bkNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlc3Ryb3koKVxuICAgIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjayh0aGlzLmNhbmNlbFRpdGxlKVxuICB9LmJpbmQodGhpcykpXG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJ1xuXG5jb25zdCBDT05URU5UX0NMQVNTID0gJ2NvbnRlbnQnXG5jb25zdCBNU0dfQ0xBU1MgPSAnY29udGVudC1tc2cnXG5jb25zdCBCVVRUT05fR1JPVVBfQ0xBU1MgPSAnYnRuLWdyb3VwJ1xuY29uc3QgQlVUVE9OX0NMQVNTID0gJ2J0bidcbmNvbnN0IElOUFVUX1dSQVBfQ0xBU1MgPSAnaW5wdXQtd3JhcCdcbmNvbnN0IElOUFVUX0NMQVNTID0gJ2lucHV0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9tcHQgKGNvbmZpZykge1xuICB0aGlzLm1zZyA9IGNvbmZpZy5tZXNzYWdlIHx8ICcnXG4gIHRoaXMuZGVmYXVsdE1zZyA9IGNvbmZpZy5kZWZhdWx0IHx8ICcnXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5va1RpdGxlID0gY29uZmlnLm9rVGl0bGUgfHwgJ09LJ1xuICB0aGlzLmNhbmNlbFRpdGxlID0gY29uZmlnLmNhbmNlbFRpdGxlIHx8ICdDYW5jZWwnXG4gIE1vZGFsLmNhbGwodGhpcylcbiAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtcHJvbXB0Jylcbn1cblxuUHJvbXB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTW9kYWwucHJvdG90eXBlKVxuXG5Qcm9tcHQucHJvdG90eXBlLmNyZWF0ZU5vZGVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29udGVudC5jbGFzc0xpc3QuYWRkKENPTlRFTlRfQ0xBU1MpXG4gIHRoaXMubm9kZS5hcHBlbmRDaGlsZChjb250ZW50KVxuXG4gIGNvbnN0IG1zZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG1zZy5jbGFzc0xpc3QuYWRkKE1TR19DTEFTUylcbiAgbXNnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubXNnKSlcbiAgY29udGVudC5hcHBlbmRDaGlsZChtc2cpXG5cbiAgY29uc3QgaW5wdXRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgaW5wdXRXcmFwLmNsYXNzTGlzdC5hZGQoSU5QVVRfV1JBUF9DTEFTUylcbiAgY29udGVudC5hcHBlbmRDaGlsZChpbnB1dFdyYXApXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICBpbnB1dC5jbGFzc0xpc3QuYWRkKElOUFVUX0NMQVNTKVxuICBpbnB1dC50eXBlID0gJ3RleHQnXG4gIGlucHV0LmF1dG9mb2N1cyA9IHRydWVcbiAgaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLmRlZmF1bHRNc2dcbiAgaW5wdXRXcmFwLmFwcGVuZENoaWxkKGlucHV0KVxuXG4gIGNvbnN0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZChCVVRUT05fR1JPVVBfQ0xBU1MpXG4gIGNvbnN0IGJ0bk9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnRuT2suYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5va1RpdGxlKSlcbiAgYnRuT2suY2xhc3NMaXN0LmFkZCgnYnRuLW9rJywgQlVUVE9OX0NMQVNTKVxuICBjb25zdCBidG5DYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidG5DYW5jZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jYW5jZWxUaXRsZSkpXG4gIGJ0bkNhbmNlbC5jbGFzc0xpc3QuYWRkKCdidG4tY2FuY2VsJywgQlVUVE9OX0NMQVNTKVxuICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5PaylcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuQ2FuY2VsKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoYnV0dG9uR3JvdXApXG59XG5cblByb21wdC5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgTW9kYWwucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCh0aGlzKVxuICBjb25zdCBidG5PayA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCcuJyArIEJVVFRPTl9DTEFTUyArICcuYnRuLW9rJylcbiAgY29uc3QgYnRuQ2FuY2VsID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tY2FuY2VsJylcbiAgY29uc3QgdGhhdCA9IHRoaXNcbiAgYnRuT2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZVxuICAgIHRoaXMuZGVzdHJveSgpXG4gICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKHtcbiAgICAgIHJlc3VsdDogdGhhdC5va1RpdGxlLFxuICAgICAgZGF0YTogdmFsXG4gICAgfSlcbiAgfS5iaW5kKHRoaXMpKVxuICBidG5DYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZVxuICAgIHRoaXMuZGVzdHJveSgpXG4gICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKHtcbiAgICAgIHJlc3VsdDogdGhhdC5jYW5jZWxUaXRsZSxcbiAgICAgIGRhdGE6IHZhbFxuICAgIH0pXG4gIH0uYmluZCh0aGlzKSlcbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYFxuLndlZXgtdG9hc3Qge1xuICBmb250LXNpemU6IDAuNDI2NjY3cmVtO1xuICBsaW5lLWhlaWdodDogMC40MjY2NjdyZW07XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogMTk5OTk5OTk5OTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIGJvdHRvbTogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHBhZGRpbmc6IDAuMjEzMzMzcmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBvcGFjaXR5OiAwLjc7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZS1pbi1vdXQ7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZS1pbi1vdXQ7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlLWluLW91dDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZS1pbi1vdXQ7XG4gIGJvcmRlci1yYWRpdXM6IDAuMDY2NjY3cmVtO1xuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbn1cblxuLndlZXgtdG9hc3QuaGlkZSB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi53ZWV4LWFsZXJ0IC53ZWV4LWFsZXJ0LW9rIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi53ZWV4LWNvbmZpcm0gLmJ0bi1ncm91cCAuYnRuIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHdpZHRoOiA1MCU7XG59XG5cbi53ZWV4LWNvbmZpcm0gLmJ0bi1ncm91cCAuYnRuLmJ0bi1vayB7XG4gIGJvcmRlci1yaWdodDogMC4wMTMzMzNyZW0gc29saWQgI2RkZDtcbn1cblxuLndlZXgtbW9kYWwtd3JhcCB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogOTk5OTk5OTk5O1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLndlZXgtbW9kYWwtbm9kZSB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogOTk5OTk5OTk5OTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgd2lkdGg6IDYuNjY2NjY3cmVtO1xuICBtaW4taGVpZ2h0OiAyLjY2NjY2N3JlbTtcbiAgYm9yZGVyLXJhZGl1czogMC4wNjY2NjdyZW07XG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIC1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG5cbi53ZWV4LW1vZGFsLW5vZGUuaGlkZSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi53ZWV4LW1vZGFsLW5vZGUgLmNvbnRlbnQge1xuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICBkaXNwbGF5OiAtbW96LWJveDtcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgLW1vei1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbiAgLW1vei1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xuICAtbW96LWJveC1hbGlnbjogY2VudGVyO1xuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XG4gIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIC1tb3otYm94LXBhY2s6IGNlbnRlcjtcbiAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEuODY2NjY3cmVtO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LXNpemU6IDAuNDI2NjY3cmVtO1xuICBsaW5lLWhlaWdodDogMC40MjY2NjdyZW07XG4gIHBhZGRpbmc6IDAuMjEzMzMzcmVtO1xuICBib3JkZXItYm90dG9tOiAwLjAxMzMzM3JlbSBzb2xpZCAjZGRkO1xufVxuXG4ud2VleC1tb2RhbC1ub2RlIC5idG4tZ3JvdXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAwLjhyZW07XG4gIGZvbnQtc2l6ZTogMC4zNzMzMzNyZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IG5vbmU7XG59XG5cbi53ZWV4LW1vZGFsLW5vZGUgLmJ0bi1ncm91cCAuYnRuIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ud2VleC1tb2RhbC1ub2RlIC5idG4tZ3JvdXAgLmJ0biB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGhlaWdodDogMC44cmVtO1xuICBsaW5lLWhlaWdodDogMC44cmVtO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ud2VleC1wcm9tcHQgLmlucHV0LXdyYXAge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMC4xMzMzMzNyZW07XG4gIGhlaWdodDogMC45NnJlbTtcbn1cblxuLndlZXgtcHJvbXB0IC5pbnB1dC13cmFwIC5pbnB1dCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDAuNTZyZW07XG4gIGxpbmUtaGVpZ2h0OiAwLjU2cmVtO1xuICBmb250LXNpemU6IDAuNDI2NjY3cmVtO1xuICBib3JkZXI6IDAuMDEzMzMzcmVtIHNvbGlkICM5OTk7XG59XG5cbi53ZWV4LXByb21wdCAuYnRuLWdyb3VwIC5idG4ge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDUwJTtcbn1cblxuLndlZXgtcHJvbXB0IC5idG4tZ3JvdXAgLmJ0bi5idG4tb2sge1xuICBib3JkZXItcmlnaHQ6IDAuMDEzMzMzcmVtIHNvbGlkICNkZGQ7XG59XG5gXG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB0b2FzdCBmcm9tICcuL3RvYXN0J1xuaW1wb3J0IEFsZXJ0IGZyb20gJy4vYWxlcnQnXG5pbXBvcnQgQ29uZmlybSBmcm9tICcuL2NvbmZpcm0nXG5pbXBvcnQgUHJvbXB0IGZyb20gJy4vcHJvbXB0J1xuaW1wb3J0IF9jc3MgZnJvbSAnLi9zdHlsZSdcblxuLy8gVE9ETzogcmV3cml0ZSB0aGUgbW9kYWwgc3R5bGVzXG5jb25zdCBtb2RhbCA9IHtcblxuICAvLyBkdXJhdGlvbjogZGVmYXVsdCBpcyAwLjggc2Vjb25kcy5cbiAgdG9hc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICB0b2FzdC5wdXNoKGNvbmZpZy5tZXNzYWdlLCBjb25maWcuZHVyYXRpb24pXG4gIH0sXG5cbiAgLy8gY29uZmlnOlxuICAvLyAgLSBtZXNzYWdlOiBzdHJpbmdcbiAgLy8gIC0gb2tUaXRsZTogdGl0bGUgb2Ygb2sgYnV0dG9uXG4gIC8vICAtIGNhbGxiYWNrXG4gIGFsZXJ0OiBmdW5jdGlvbiAoY29uZmlnLCBjYWxsYmFjaykge1xuICAgIGNvbmZpZy5jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG4gICAgbmV3IEFsZXJ0KGNvbmZpZykuc2hvdygpXG4gIH0sXG5cbiAgLy8gY29uZmlnOlxuICAvLyAgLSBtZXNzYWdlOiBzdHJpbmdcbiAgLy8gIC0gb2tUaXRsZTogdGl0bGUgb2Ygb2sgYnV0dG9uXG4gIC8vICAtIGNhbmNlbFRpdGxlOiB0aXRsZSBvZiBjYW5jZWwgYnV0dG9uXG4gIC8vICAtIGNhbGxiYWNrXG4gIGNvbmZpcm06IGZ1bmN0aW9uIChjb25maWcsIGNhbGxiYWNrKSB7XG4gICAgY29uZmlnLmNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodmFsKVxuICAgIH1cbiAgICBuZXcgQ29uZmlybShjb25maWcpLnNob3coKVxuICB9LFxuXG4gIC8vIGNvbmZpZzpcbiAgLy8gIC0gbWVzc2FnZTogc3RyaW5nXG4gIC8vICAtIG9rVGl0bGU6IHRpdGxlIG9mIG9rIGJ1dHRvblxuICAvLyAgLSBjYW5jZWxUaXRsZTogdGl0bGUgb2YgY2FuY2VsIGJ1dHRvblxuICAvLyAgLSBjYWxsYmFja1xuICBwcm9tcHQ6IGZ1bmN0aW9uIChjb25maWcsIGNhbGxiYWNrKSB7XG4gICAgY29uZmlnLmNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodmFsKVxuICAgIH1cbiAgICBuZXcgUHJvbXB0KGNvbmZpZykuc2hvdygpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXgudXRpbHMuYXBwZW5kQ3NzKF9jc3MsICd3ZWV4LW11ZC1tb2RhbCcpXG4gICAgV2VleC5yZWdpc3Rlck1vZHVsZSgnbW9kYWwnLCBtb2RhbClcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogTmF2aWdhdG9yIG1vZHVsZVxuICovXG5jb25zdCBuYXZpZ2F0b3JNb2R1bGUgPSB7XG4gIHB1c2g6IGZ1bmN0aW9uIChjb25maWcsIGNhbGxiYWNrKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjb25maWcudXJsXG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICB9LFxuXG4gIHBvcDogZnVuY3Rpb24gKGNvbmZpZywgY2FsbGJhY2spIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKClcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3Rlck1vZHVsZSgnbmF2aWdhdG9yJywgbmF2aWdhdG9yTW9kdWxlKVxuICB9XG59XG4iLCIvKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBXZWJ2aWV3IG1vZHVsZVxuICovXG5sZXQgaXNBcnJheVxuXG5jb25zdCB3ZWJ2aWV3ID0ge1xuICBnb0JhY2sgKHZub2RlKSB7XG4gICAgaWYgKGlzQXJyYXkodm5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbdnVlLXJlbmRlcl0gdGhlIHJlZiBwYXNzZWQgdG8gd2Vidmlldy5nb0JhY2sgaXMgYSBhcnJheS4nKVxuICAgICAgfVxuICAgICAgdm5vZGUgPSB2bm9kZVswXVxuICAgIH1cbiAgICBpZiAodm5vZGUgJiYgdHlwZW9mIHZub2RlLmdvQmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdm5vZGUuZ29CYWNrKClcbiAgICB9XG4gIH0sXG4gIGdvRm9yd2FyZCAodm5vZGUpIHtcbiAgICBpZiAoaXNBcnJheSh2bm9kZSkpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1t2dWUtcmVuZGVyXSB0aGUgcmVmIHBhc3NlZCB0byB3ZWJ2aWV3LmdvRm9yd2FyZCBpcyBhIGFycmF5LicpXG4gICAgICB9XG4gICAgICB2bm9kZSA9IHZub2RlWzBdXG4gICAgfVxuICAgIGlmICh2bm9kZSAmJiB0eXBlb2Ygdm5vZGUuZ29Gb3J3YXJkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2bm9kZS5nb0ZvcndhcmQoKVxuICAgIH1cbiAgfSxcbiAgcmVsb2FkICh2bm9kZSkge1xuICAgIGlmIChpc0FycmF5KHZub2RlKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW3Z1ZS1yZW5kZXJdIHRoZSByZWYgcGFzc2VkIHRvIHdlYnZpZXcucmVsb2FkIGlzIGEgYXJyYXkuJylcbiAgICAgIH1cbiAgICAgIHZub2RlID0gdm5vZGVbMF1cbiAgICB9XG4gICAgaWYgKHZub2RlICYmIHR5cGVvZiB2bm9kZS5yZWxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZub2RlLnJlbG9hZCgpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAod2VleCkge1xuICAgIGlzQXJyYXkgPSB3ZWV4LnV0aWxzLmlzQXJyYXlcbiAgICB3ZWV4LnJlZ2lzdGVyTW9kdWxlKCd3ZWJ2aWV3Jywgd2VidmlldylcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIHdlYnNvY2tldCBtb2R1bGVcbiAqL1xuLypnbG9iYWwgV2ViU29ja2V0Ki9cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHJlZ2lzdGVyTGlzdGVuZXJzID0gWydvbm9wZW4nLCAnb25tZXNzYWdlJywgJ29uZXJyb3InLCAnb25jbG9zZSddXG4gIGNvbnN0IHdzID0ge1xuICAgIElOU1RBTkNFOiBudWxsLFxuICAgIFdlYlNvY2tldDogZnVuY3Rpb24gKHVybCwgcHJvdG9jb2wpIHtcbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgIHdzLklOU1RBTkNFID0gbnVsbFxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmICghcHJvdG9jb2wpIHtcbiAgICAgICAgd3MuSU5TVEFOQ0UgPSBuZXcgV2ViU29ja2V0KHVybClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3cy5JTlNUQU5DRSA9IG5ldyBXZWJTb2NrZXQodXJsLCBwcm90b2NvbClcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cy5JTlNUQU5DRVxuICAgIH0sXG4gICAgc2VuZDogZnVuY3Rpb24gKG1lc3NhZ2VzKSB7XG4gICAgICB3cy5JTlNUQU5DRSAmJiB3cy5JTlNUQU5DRS5zZW5kKG1lc3NhZ2VzKVxuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdzLklOU1RBTkNFICYmIHdzLklOU1RBTkNFLmNsb3NlKClcbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBpIGluIHJlZ2lzdGVyTGlzdGVuZXJzKSB7XG4gICAgaWYgKHJlZ2lzdGVyTGlzdGVuZXJzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3MsIHJlZ2lzdGVyTGlzdGVuZXJzW2ldLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB3cy5JTlNUQU5DRSAmJiB3cy5JTlNUQU5DRVtyZWdpc3Rlckxpc3RlbmVyc1tpXV1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICBpZiAod3MuSU5TVEFOQ0UpIHtcbiAgICAgICAgICAgIHdzLklOU1RBTkNFW3JlZ2lzdGVyTGlzdGVuZXJzW2ldXSA9IGZuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuICByZXR1cm4gd3Ncbn0pKClcbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHdlYnNvY2tldCBmcm9tICcuL3dlYnNvY2tldCdcblxuLy8gVE9ETzogcmV3cml0ZSB0aGUgbW9kdWxlIG1ldGFcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKFdlZXgpIHtcbiAgICBXZWV4LnJlZ2lzdGVyTW9kdWxlKCd3ZWJTb2NrZXQnLCB3ZWJzb2NrZXQsIHsgcmVnaXN0ZXJUeXBlOiAnYXNzaWdubWVudCcgfSlcbiAgfVxufVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHJlc2V0Vmlld3BvcnQgfSBmcm9tICcuLi93ZWV4L3ZpZXdwb3J0J1xuXG5jb25zdCBtZXRhID0ge1xuICAvKipcbiAgICogc2V0Vmlld3BvcnQuXG4gICAqIENoYW5naW5nIHZpZXdwb3J0IGRlc2lnbiB3aWR0aCBhdCBydW50aW1lLlxuICAgKi9cbiAgc2V0Vmlld3BvcnQgKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFt2dWUtcmVuZGVyXSBzZXQgdmlld3BvcnQgd2lkdGggaW52YWxpZCBvcHRpb25zOiAke29wdGlvbnN9YClcbiAgICB9XG4gICAgY29uc3QgbmV3V2lkdGggPSBwYXJzZUludChvcHRpb25zLndpZHRoKVxuICAgIGlmICghaXNOYU4obmV3V2lkdGgpICYmIG5ld1dpZHRoID4gMCkge1xuICAgICAgcmVzZXRWaWV3cG9ydChvcHRpb25zLndpZHRoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFt2dWUtcmVuZGVyXSBzZXQgdmlld3BvcnQgd2lkdGggaW52YWxpZCBvcHRpb25zLndpZHRoOiAke29wdGlvbnMud2lkdGh9YClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0ICh3ZWV4KSB7XG4gICAgd2VleC5yZWdpc3Rlck1vZHVsZSgnbWV0YScsIG1ldGEpXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBtb2R1bGVzIGZyb20gcmVuZGVyL2Jyb3dlc3IgKGxlZ2FjeSBtb2R1bGVzKVxuXG5pbXBvcnQgZ2VvbG9jYXRpb24gZnJvbSAnLi9nZW9sb2NhdGlvbidcbmltcG9ydCBzdG9yYWdlIGZyb20gJy4vc3RvcmFnZSdcbmltcG9ydCBzdHJlYW0gZnJvbSAnLi9zdHJlYW0nXG5pbXBvcnQgY2xpcGJvYXJkIGZyb20gJy4vY2xpcGJvYXJkJ1xuaW1wb3J0IGV2ZW50TW9kdWxlIGZyb20gJy4vZXZlbnQnXG5cbi8vIGN1c3RvbSBtb2R1bGVzXG5pbXBvcnQgYW5pbWF0aW9uIGZyb20gJy4vYW5pbWF0aW9uJ1xuaW1wb3J0IGRvbSBmcm9tICcuL2RvbSdcbmltcG9ydCBnbG9iYWxFdmVudCBmcm9tICcuL2dsb2JhbEV2ZW50J1xuaW1wb3J0IG1vZGFsIGZyb20gJy4vbW9kYWwnXG5pbXBvcnQgbmF2aWdhdG9yTW9kdWxlIGZyb20gJy4vbmF2aWdhdG9yJ1xuaW1wb3J0IHdlYnZpZXcgZnJvbSAnLi93ZWJ2aWV3J1xuaW1wb3J0IHdlYnNvY2tldCBmcm9tICcuL3dlYnNvY2tldCdcbmltcG9ydCBtZXRhIGZyb20gJy4vbWV0YSdcblxuZXhwb3J0IGRlZmF1bHQgW1xuICBnZW9sb2NhdGlvbixcbiAgc3RvcmFnZSxcbiAgc3RyZWFtLFxuICBjbGlwYm9hcmQsXG4gIGV2ZW50TW9kdWxlLFxuICBtb2RhbCxcbiAgd2Vic29ja2V0LFxuICBhbmltYXRpb24sXG4gIGRvbSxcbiAgZ2xvYmFsRXZlbnQsXG4gIG5hdmlnYXRvck1vZHVsZSxcbiAgd2VidmlldyxcbiAgbWV0YVxuXVxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCB2YWxNYXAgPSB7XG4gIGNvbnRhaW46ICdjb250YWluJyxcbiAgY292ZXI6ICdjb3ZlcicsXG4gIHN0cmV0Y2g6ICcxMDAlIDEwMCUnXG59XG5jb25zdCB2YWxzID0gT2JqZWN0LmtleXModmFsTWFwKVxuY29uc3QgZGVmYXVsdFZhbCA9ICdzdHJldGNoJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQgKHdlZXgpIHtcbiAgICB3ZWV4Ll9fdnVlX18uZGlyZWN0aXZlKCd3ZWV4LXJlc2l6ZScsIGZ1bmN0aW9uIChlbCwgYmluZGluZykge1xuICAgICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2ZpZ3VyZScpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsZXQgdmFsdWUgPSBiaW5kaW5nLnZhbHVlXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IGJpbmRpbmcub2xkdmFsdWVcbiAgICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAodmFscy5pbmRleE9mKHZhbHVlKSA8PSAtMSkge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWxcbiAgICAgIH1cbiAgICAgIGVsLnN0eWxlLmJhY2tncm91bmRTaXplID0gdmFsTWFwW3ZhbHVlXVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHJlc2l6ZSBmcm9tICcuL3Jlc2l6ZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICByZXNpemVcbn1cbiIsImltcG9ydCB3ZWV4IGZyb20gJy4uLy4uLy4uL3NyYydcblxuaW1wb3J0IGNvbXBvbmVudHMgZnJvbSAnLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMnXG5pbXBvcnQgbW9kdWxlcyBmcm9tICcuLi8uLi8uLi9zcmMvbW9kdWxlcydcbmltcG9ydCBkaXJlY3RpdmVzIGZyb20gJy4uLy4uLy4uL3NyYy9kaXJlY3RpdmVzJ1xuXG5jb25zdCBwcmVJbml0ID0gd2VleC5pbml0XG5cbndlZXguaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgcHJlSW5pdC5hcHBseSh3ZWV4LCBhcmd1bWVudHMpXG4gIGNvbnN0IHBsdWdpbnMgPSBjb21wb25lbnRzLmNvbmNhdChtb2R1bGVzKVxuXG4gIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgd2VleC5pbnN0YWxsKHBsdWdpbilcbiAgfSlcblxuICBmb3IgKGNvbnN0IGsgaW4gZGlyZWN0aXZlcykge1xuICAgIHdlZXguaW5zdGFsbChkaXJlY3RpdmVzW2tdKVxuICB9XG59XG5cbmlmIChnbG9iYWwuVnVlKSB7XG4gIHdlZXguaW5pdChnbG9iYWwuVnVlKVxufVxuXG5leHBvcnQgZGVmYXVsdCB3ZWV4XG4iXSwibmFtZXMiOlsicmVxdWlyZSQkMCIsImRvY3VtZW50IiwiZFAiLCJnbG9iYWwiLCJjb3JlIiwicmVxdWlyZSQkMSIsImhpZGUiLCJjdHgiLCJtaW4iLCJJRV9QUk9UTyIsIlBST1RPVFlQRSIsInJlcXVpcmUkJDIiLCJkZXNjcmlwdG9yIiwiTElCUkFSWSIsIiRleHBvcnQiLCJJVEVSQVRPUiIsIiRkZWZpbmVQcm9wZXJ0eSIsIlRBRyIsImFyZ3VtZW50cyIsIkRFU0NSSVBUT1JTIiwiQXJyYXlQcm90byIsIndrcyIsImNlbCIsImh0bWwiLCJwcm9jZXNzIiwibmF2aWdhdG9yIiwiU1BFQ0lFUyIsIlR5cGVFcnJvciIsImlzTm9kZSIsIm5ld1Byb21pc2VDYXBhYmlsaXR5IiwibmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJjb25zdCIsImxpYiIsImxldCIsImkiLCJlbnYiLCJ0b1N0cmluZyIsImV4dGVuZCIsImV2ZW50IiwiX3VpZCIsImluaXRWaWV3cG9ydCIsIndlZXgiLCJ1dGlscy5hcHBlbmRDc3MiLCJ0YWdNYXAiLCJnZXRDb21waWxlciIsImdldFRyYW5zZm9ybWVyIiwiYmluZGluZ1N0eWxlTmFtZXNGb3JQeDJSZW0iLCJ0aGlzIiwiX2luaXRlZCIsImluaXQiLCJtYXBGb3JtRXZlbnRzIiwiYXBwZW5kQ3NzIiwicmVjdCIsInZub2RlIiwidGFnIiwiY29sdW1uRG9tIiwiZXh0cmFjdENvbXBvbmVudFN0eWxlIiwiZ2V0UmdiIiwibG9vcEFycmF5IiwiZ2V0U3R5bGVTaGVldEJ5SWQiLCJwcm9jZXNzU3R5bGUiLCJnZXRMaXN0IiwibG9hZGluZ0luZGljYXRvciIsImdldENvbXBvbmVudElubGluZVN0eWxlIiwic2xpZGVyIiwiaW5kaWNhdG9yIiwic2Nyb2xsYWJsZSIsIm1ldGEiLCJoYXNPd25Qcm9wZXJ0eSIsInRvT2JqZWN0IiwidXRpbHMiLCJxcyIsInN0ZXAiLCJxdWV1ZSIsIkNPTlRFTlRfQ0xBU1MiLCJNU0dfQ0xBU1MiLCJCVVRUT05fR1JPVVBfQ0xBU1MiLCJCVVRUT05fQ0xBU1MiLCJfY3NzIiwiaXNBcnJheSIsImdlb2xvY2F0aW9uIiwic3RvcmFnZSIsInN0cmVhbSIsImNsaXBib2FyZCIsIm1vZGFsIiwid2Vic29ja2V0IiwiYW5pbWF0aW9uIiwiZG9tIiwiZ2xvYmFsRXZlbnQiLCJuYXZpZ2F0b3JNb2R1bGUiLCJ3ZWJ2aWV3IiwibW9kdWxlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFBQTtFQUNBLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDckIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUN2QixjQUFjLEdBQUcsVUFBVSxFQUFFLEVBQUU7SUFDN0IsT0FBTyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0dBQzFELENBQUM7Ozs7Ozs7RUNMRjtFQUNBLFlBQWMsR0FBRyxVQUFVLEVBQUUsRUFBRTtJQUM3QixJQUFJLEVBQUUsSUFBSSxTQUFTLElBQUUsTUFBTSxTQUFTLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxDQUFDLEdBQUM7SUFDcEUsT0FBTyxFQUFFLENBQUM7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T0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7MEJBQ3BCLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNwRCxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7MEJBQzdCLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDN0QsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzswQkFDdEMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdkUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQy9CLENBQUM7Ozs7Ozs7OztFQ1ZGLElBQUksT0FBTyxHQUFHRyxVQUFNLENBQUMsT0FBTyxDQUFDO0VBQzdCLElBQUksT0FBTyxHQUFHQSxVQUFNLENBQUMsWUFBWSxDQUFDO0VBQ2xDLElBQUksU0FBUyxHQUFHQSxVQUFNLENBQUMsY0FBYyxDQUFDO0VB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Q0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLEdBQUMsT0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsT0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsd0hBQXdILENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsR0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLEVBQUUsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxD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
